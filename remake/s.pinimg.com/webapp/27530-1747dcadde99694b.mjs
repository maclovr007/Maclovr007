"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[27530],{945960:(e,t,i)=>{i.d(t,{Dv:()=>s,Ml:()=>r,Oc:()=>n,mv:()=>a});let n=16,a=4,s={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},r=120},39260:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(297728),a=i(730212),s=i(855746);function r(e){let{isAuthenticated:t}=(0,a.B)(),{expName:i,anyEnabled:r,group:o}=function({experimentsClient:e,handlerId:t,isAuthenticated:i,skipActivation:n}){let{checkExperiment:a}=e,s=a(i?"web_masonry_v2_auth":"web_masonry_v2_unauth",{dangerouslySkipActivation:n});return s.group?{expName:i?"web_masonry_v2_auth":"web_masonry_v2_unauth",...s}:"www/[username]/[slug].js"!==t||i?"www/pin/[id].js"!==t||i?{expName:"",anyEnabled:!1,group:""}:{expName:"web_masonry_v2_unauth_pin",...a("web_masonry_v2_unauth_pin",{dangerouslySkipActivation:n})}:{expName:"web_masonry_v2_unauth_board",...a("web_masonry_v2_unauth_board",{dangerouslySkipActivation:n})}}({experimentsClient:(0,n.F)(),handlerId:(0,s.MM)(),isAuthenticated:t,skipActivation:e?.skipActivation??!1});return{expName:i,anyEnabled:r,group:o,isMeasureAllEnabled:"enabled_measure_all"===o||"enabled_measure_all_impression_fix"===o,isImpressionFixEnabled:"control_impression_fix"===o||"enabled_impression_fix"===o||"enabled_measure_all_impression_fix"===o}}},829820:(e,t,i)=>{i.d(t,{F:()=>I,Z:()=>T});var n=i(667294),a=i(976823),s=i(194093),r=i(415787);async function o(e,t,i,n,o,p,l,d,m){let u,{appType:c,osType:v}=p||{},y="",g="";if(["Pin","pinImpressions"].includes(e)&&t&&(n||d||m)){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:c,osType:v}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:c,osType:v}});return}y=(0,a.Z)(i,[n,d,m],!1,o,l);try{g=new URL(window.location.href).hostname}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(g&&"www.pinterest.com"!==g)document.createElement("img").setAttribute("attributionsrc",y),(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:c,osType:v,hostname:g}});else if(!(u=await window.fetch(y,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:c,osType:v}})}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,s.Z)(e,"name"),message:(0,s.Z)(e,"message"),appType:c,osType:v,hostname:g,responseStatus:u&&u.status}})}}else(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:c,osType:v}})}var p=i(118755),l=i(573706),d=i(39260),m=i(635284),u=i(730212),c=i(410150),v=i(644797),y=i(243583),g=i(855746);let w={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"curatedBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}};function T({carouselData:e,closeupImpressionType:t,closeupNavigationType:i,componentType:a,contextLogData:s,clientTrackingParams:T,duploShouldTrackPinEvents:I,elementType:_,impressionAuxFields:x,inImpressionExp:b,impressionType:P,impressionsFramework:S,isPaused:f,loggingId:D,objectIdStr:h,slotIndex:A,trackCarousel:E,viewData:k,viewParameter:Z,viewType:L,isPromoted:j,storyPinProductEventData:N}){let{logContextEvent:F}=(0,l.v)(),{logMrcVideoAdEventOnPlay:B}=(0,v.r)(),{userAgent:{browserName:C}}=(0,u.B)(),{logStat:M}=(0,y.Yg)(),R=S||m.Z,H=(0,n.useRef)(null),O=(0,n.useRef)(e=>{});O.current=n=>{let r=w[P],l=r.idType,d={clientTrackingParams:T,endTime:n.endTime,[l]:D,slotIndex:A,time:n.startTime,renderDuration:n.endTime-n.startTime,type:t,...x,forcedExit:"removed"===n.forcedExit?0:void 0};if("Pin"===P){let e=[],t=n.visibleEvents||new Map,i=n.hiddenEvents||new Map;if([1,50,80,2].forEach(n=>{t.has(n)&&e.push({type:n,time:1e6*(t.get(n)||0),visible:!0}),i.has(n)&&e.push({type:n,time:1e6*(i.get(n)||0),visible:!1})}),d={...d,pinCellWidth:n.pinCellWidth||0,pinCellHeight:n.pinCellHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,t)=>e.time-t.time)},(0,p.i7)(C)&&x&&x.isPromoted){let{attributionSourceId:e,isPromoted:t,link:i,campaignId:n,araAuxData:a,advertiserId:s,domain:r,adDestinationUrl:p}=x;o(P,t??null,e??null,i??null,n??null,a??null,s??null,r??null,p??null)}}let m={component:a,object_id_str:h,view_type:L,view_data:k||{},view_parameter:Z};if(E)e&&E&&F({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...d,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...m,aux_data:{...s}});else{let e={clientTrackingParams:T,event_type:r.eventType,...m,element:_,event_data:{[r.impressionType]:"Story"===P?d:[d],...N?{storyPinProductEventData:N}:{}},aux_data:{closeup_navigation_type:i,...s}};F(e),B(e)}I&&M("log_pin_impression")};let{expName:U,group:V}=(0,d.Z)({skipActivation:!0}),W=(0,c.ZP)(),$=(0,g.MM)(),{isAuthenticated:q}=(0,u.B)(),z=(0,n.useCallback)(()=>{let e=!1;try{let{current:t}=H;if(t instanceof HTMLElement&&(!j||t.getElementsByTagName("img").length>0)){let i=R.start(t);i.onExitViewport(O.current).setDebugId(D||"unknown"),I&&i.onEnterViewport(()=>{M("log_pin_impression_track_enter_viewport")}),e=!0,V&&(0,r.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:W,experimentName:U,group:V,handlerId:$,isAuthenticated:q,slotIndex:A??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}I&&M("log_pin_impression_track",{didStartTracking:e})},[H.current]);return(0,n.useEffect)(()=>(b&&!R.inExperiment&&R.setExperimentStatus(!0),f||z(),()=>{let{current:e}=H;e instanceof HTMLElement&&(!j||e.getElementsByTagName("img").length>0)&&R.stop(e)}),[f,z]),H}let I=({children:e,...t})=>e({impressionTrackerRef:T(t)})},675625:(e,t,i)=>{i.d(t,{C:()=>s,V:()=>r});var n=i(667294);let a=(0,n.createContext)(!1),s=a.Provider,r=()=>(0,n.useContext)(a)},668564:(e,t,i)=>{i.d(t,{X:()=>a,Z:()=>s});var n=i(667294);let a=120;function s(e,t=0,i=a){let[r,o]=(0,n.useState)(e?"active":"inactive");return(0,n.useEffect)(()=>{if(e)if(t){let e=setTimeout(()=>o("active"),t);return()=>{clearTimeout(e)}}else o("active");else{let e=setTimeout(()=>o("inactive"),i);return()=>{clearTimeout(e)}}},[e]),r}},596530:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),a=i(668564),s=i(785893);function r({children:e,fadeInDuration:t=0,fadeOutDuration:i=a.X,visibility:r}){return"none"!==r&&e?(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{hidden:{opacity:0,transition:i?`opacity ${i}ms ease`:void 0},visible:{opacity:1,transition:t?`opacity ${t}ms ease`:void 0}}[r]},children:e}):null}},87416:(e,t,i)=>{i.d(t,{Cy:()=>l,HE:()=>d,JE:()=>c,Mv:()=>s,Y4:()=>m,dL:()=>a,fS:()=>u,fv:()=>o,qS:()=>p,u:()=>v,uc:()=>r});var n=i(829820);let a=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},s=e=>{let t=(0,n.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},r=e=>{let t=(0,n.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},o=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:t})},p=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},l=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},d=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},m=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},u=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},c=e=>{let t=(0,n.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})},v=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"EditorialBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},96405:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(883119),a=i(785893);function s({children:e,additionalStyles:t={}}){return(0,a.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},"data-test-id":"contentLayer",left:!0,position:"absolute",right:!0,top:!0,children:e})}},127566:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e,t){return e&&e.includes("~0")&&(e=e.replace("~0","")),e||`${t||""}~0`}},124399:(e,t,i)=>{i.d(t,{B:()=>l,g:()=>p});var n=i(667294),a=i(616550),s=i(498490),r=i(785893);let{Provider:o,useMaybeHook:p}=(0,s.Z)("NotifDetailRepinContext");function l({children:e}){let[t,i]=(0,n.useState)(Object.freeze({})),[s,p]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),m=(0,a.TH)(),u=(0,n.useMemo)(()=>{let e=/^\/pin\/\d+\/repin\/?$/,n=/^\/news_hub\/\d+\/?$/;return{isSaved:e=>!!t[e],save:e=>{l&&i(t=>({...t,[e]:!0}))},reset:()=>{let t=window?.location.pathname||"";n.test(t)||e.test(t)||(i(Object.freeze({})),p(!1),d(!1))},isInNewsHubQuickSaveExpAndNewsHubPage:()=>{let e=m.pathname||"";return n.test(e)&&s},inNewsHubQuickSaveExp:s,setInNotifDetailPage:d,setInNewsHubQuickSaveExp:p}},[t,s,l,m]);return(0,r.jsx)(o,{value:u,children:e})}},719535:(e,t,i)=>{i.d(t,{L:()=>o,q:()=>l});var n=i(252071),a=i(119437),s=i(701842),r=i(403764);function o(e){return t=>{let{inSelectAll:i,selectedPinIds:o,orbacSubjectId:p,source:{boardId:l,sectionId:d}}=e;return t((0,a.xQ)(l)),t((0,s.EX)({feedId:d||l,feedType:d?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,inverseSelection:i,itemIds:o,itemType:"pin"})),n.Z.create(i?"BulkEditSelectAllResource":"BulkEditResource",{board_id:l,section_id:d,pin_ids:o,orbac_subject_id:p}).callDelete()}}let p=(e,t,i,n)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:i,userId:n}}),l=({pinId:e,boardId:t,boardSectionId:i,clientTrackingParams:a})=>(s,r)=>{let o=n.Z.create("PinResource",{id:e,client_tracking_params:a}).callDelete(),{session:{userId:l}}=r();return s(p(e,t,i,l)),o}},963509:(e,t,i)=>{i.d(t,{A:()=>n});let n=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:i,hasRichMetadataRecipe:n})=>{if(e)return t?144:i?141:n?145:139;return 140}},479825:(e,t,i)=>{i.d(t,{M:()=>o,Q:()=>p});var n=i(667294),a=i(498490),s=i(785893);let{Provider:r,useMaybeHook:o}=(0,a.Z)("RepinContext");function p({children:e}){let[t,i]=(0,n.useState)(Object.freeze({})),a=(0,n.useMemo)(()=>({getSavedPinId:e=>t[e],isSaved:e=>!!t[e],save:(e,t)=>i(i=>({...i,[e]:t})),unsave:e=>i(t=>({...t,[e]:null}))}),[t]);return(0,s.jsx)(r,{value:a,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/27530-1747dcadde99694b.mjs.map