var CS_CONF={"isSMB":false,"projectId":89372,"status":1,"hostnames":["biossance.com"],"crossDomainTracking":0,"crossDomainSingleIframeTracking":0,"consentRequired":1,"allowSubdomains":1,"visitorCookieTimeout":34164000000,"sampleRate":100,"replayRecordingRate":50,"validationRate":10,"lastTrackingDraw":null,"trackerDomain":"c.contentsquare.net","recordingDomain":"r.contentsquare.net","useMalkaPipeline":1,"ed":"l.contentsquare.net/log/web","eMerchandisingEnabled":0,"mouseMoveHeatmapEnabled":1,"autoInsightsEnabled":0,"jsErrorsEnabled":1,"customErrorsEnabled":1,"jsCustomErrorsEnabled":0,"apiErrorsEnabled":1,"customHashIdEnabled":0,"recordingEncryptionEnabled":0,"recordingEncryptionPublicKey":null,"recordingEncryptionPublicKeyId":0,"secureCookiesEnabled":0,"triggerSessionReplayEnabled":0,"triggerSessionReplayRegex":null,"dynamicIdRegex":null,"whitelistedAttributes":null,"replayRecordingUnmaskedUrlRegex":null,"replayRecordingUnmaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegex":null,"anonymisationMethod":"replayRecordingUnmaskedUrlRegex","tagDeploymentMode":"CONTENTSQUARE","experimental":null,"iframesTracking":0,"textVisibilityEnabled":1,"cookielessTrackingEnabled":0,"malkaUrlEnabled":0,"malkaEtrEnabled":0,"pathComputationRules":{},"asyncSerializerEnabled":1,"pendingInactivityTimeout":5000,"accessibilityEnabled":0,"uxaDomain":"app.contentsquare.com","webviewsTrackingEnabled":0,"useStaticResourceManager":1,"performanceTimingOptions":{"withResource":false,"withNavigation":false},"replayConsentRequiredForSession":0,"eventsApiEnabled":0,"clickedElementTextEnabled":0,"collectHierarchy":0,"apiErrors":{"collectStandardHeaders":0,"collectionRules":[]},"customErrors":{"consoleMessageLogLevels":[]},"displayAdOptions":null,"taskSchedulerOptions":{"enabled":1},"malkaQuotaServiceDomain":"q-aeu1.contentsquare.net","malkaRecordingDomain":"k-aeu1.contentsquare.net","staticResourceManagerDomain":"srm.ba.contentsquare.net","voc":{"siteId":null,"enabled":0}};
;
!function(){"use strict";var t={d:function(n,i){for(var r in i)t.o(i,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:i[r]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};function i(t,n){var i;return window.Zone&&"function"==typeof window.Zone.__symbol__&&(i=t[window.Zone.__symbol__(n)]),i||(i=t[n]),i}t.r(n),t.d(n,{getRequestParameters:function(){return th}});var r="undefined"==typeof window;var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof process?process:Function("return this")();var s="cs-native-frame",o={navigatorProperties:[{propertyName:"sendBeacon",binding:navigator}],nodeProperties:["childNodes","parentNode","nextSibling","firstChild"],elementProperties:["shadowRoot"],elementPropertiesValues:["matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],eventProperties:["target"],imageProperties:["src"],constructors:{Date:"csDate",JSON:"csJSON",Array:"csArray",String:"csString",URL:"csURL",MutationObserver:"csMutationObserver",screen:"csScreen",RegExp:"csRegExp"}};function u(t,n,i){var r=function(t,n){for(var i,r=t;r&&!(i=Object.getOwnPropertyDescriptor(r,n));)r=Object.getPrototypeOf(r);return i}(t,n);if(!r)return function(){return this[n]};switch(i){case"get":return r.get;case"set":return r.set;case"value":return r.value}}function c(t){var n,r;Object.keys(o.constructors).forEach((function(n){window[o.constructors[n]]=t[n]instanceof Function&&null==t[n].prototype?t[n].bind(window):t[n]})),function(t){window.csquerySelector={1:t.Element.prototype.querySelector,9:t.Document.prototype.querySelector,11:t.DocumentFragment.prototype.querySelector},window.csquerySelectorAll={1:t.Element.prototype.querySelectorAll,9:t.Document.prototype.querySelectorAll,11:t.DocumentFragment.prototype.querySelectorAll}}(t),("Prototype"in window||/^((?!chrome|android).)*safari/i.test(navigator.userAgent))&&(window.csMutationObserver=null!==(r=null!==(n=i(window,"MutationObserver"))&&void 0!==n?n:window.WebKitMutationObserver)&&void 0!==r?r:window.MutationObserver),h("csNode",o.nodeProperties,t.Node.prototype,"get"),h("csElement",o.elementProperties,t.Element.prototype,"get"),h("csElement",o.elementPropertiesValues,t.Element.prototype,"value",!1),h("csHTMLImageElement",o.imageProperties,t.HTMLImageElement.prototype,"set"),h("csEvent",o.eventProperties,t.Event.prototype,"get"),h("csNavigator",o.navigatorProperties,t.navigator,"value")}function h(t,n,i,r,e){void 0===e&&(e=!0),n.forEach((function(n){var s="string"!=typeof n&&"binding"in n,o=s?n.propertyName:n;(e||o in i)&&(window["".concat(t+o)]=u(i,o,r),s&&(window["".concat(t+o)]=window["".concat(t+o)].bind(n.binding)))}))}function a(t,n){window.CSProtectnativeFunctionsLogs=window.CSProtectnativeFunctionsLogs||{},window.CSProtectnativeFunctionsLogs[t]=n}if(window.csSetTimeout=i(window,"setTimeout"),window.csQueueMicrotask=i(window,"queueMicrotask"),window.csClearTimeout=i(window,"clearTimeout"),window.csSetInterval=i(window,"setInterval"),window.csClearInterval=i(window,"clearInterval"),window.csFileReader=i(window,"FileReader"),function(){var t,n=0;function i(t){return"cs$Symbol_"+t}function r(t){return i(t)+ ++n}r.for=i,window.csSymbol=null!==(t=window.Symbol)&&void 0!==t?t:r}(),!function(){try{var t=function(){var t=document.createElement("iframe");t.id=s,t.setAttribute("hidden",""),t.setAttribute("title","Intentionally blank"),t.setAttribute("sandbox","allow-same-origin");var n=document.createElement("cs-native-frame-holder");if(n.setAttribute("hidden",""),document.body.appendChild(n),Boolean(Element.prototype.attachShadow)){var i=n.attachShadow({mode:"closed"});return i.innerHTML=t.outerHTML,i.firstElementChild.contentWindow}return n.innerHTML=t.outerHTML,n.firstElementChild.contentWindow}();return!!t&&(window.CSPureWindow=t,c(window.CSPureWindow),!0)}catch(t){return a("Warning","failed to copy references from pure iframe: ".concat(t.message)),!1}}())try{c(e)}catch(Lu){a("Critical","failed to copy references from window: ".concat(Lu.message))}var f=function(t,n){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},f(t,n)};function l(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}f(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var v=function(){return v=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},v.apply(this,arguments)};function d(t,n,i,r){var e,s=arguments.length,o=s<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,i,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(o=(s<3?e(o):s>3?e(n,i,o):e(n,i))||o);return s>3&&o&&Object.defineProperty(n,i,o),o}function y(t,n,i,r){return new(i||(i=Promise))((function(e,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function u(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,u)}c((r=r.apply(t,n||[])).next())}))}function w(t,n){var i,r,e,s,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(e=2&s[0]?r.return:s[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,s[1])).done)return e;switch(r=0,e&&(s=[2&s[0],e.value]),s[0]){case 0:case 1:e=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(e=o.trys,(e=e.length>0&&e[e.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!e||s[1]>e[0]&&s[1]<e[3])){o.label=s[1];break}if(6===s[0]&&o.label<e[1]){o.label=e[1],e=s;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(s);break}e[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],r=0}finally{i=e=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function p(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,e,s=i.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o}function g(t,n,i){if(i||2===arguments.length)for(var r,e=0,s=n.length;e<s;e++)!r&&e in n||(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return t.concat(r||Array.prototype.slice.call(n))}Object.create;function S(t){return b(csString.prototype.toLowerCase.call(t.localName))}function b(t){return csString.prototype.replace.call(t,/([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g,"\\$1")}function E(t){return N(t)&&("number"==typeof t||t instanceof Number)&&!isNaN(t)}function A(t){return t===parseInt(t,10)}function R(t){return N(t)&&("string"==typeof t||t instanceof csString)}function O(t){return"boolean"==typeof t}function T(t){return"object"==typeof t}function N(t){return void 0!==t}function k(t){return N(t)&&null!==t}function C(t){return"function"==typeof t}function I(t){return t instanceof Element}function M(t){return t instanceof Error}function x(t){for(var n=t.length,i=0;i<n;i++)switch(csString.prototype.charCodeAt.call(t,i)){case 9:case 10:case 11:case 12:case 13:case 32:case 160:continue;default:return!1}return!0}function P(t){return 1===t.nodeType}function _(t){return 3===t.nodeType}function D(t){return P(t)&&"link"===t.localName}function L(t){return P(t)&&"a"===t.localName}function U(t){return D(t)&&-1!==csString.prototype.indexOf.call(t.rel,"stylesheet")}function j(t){return P(t)&&"style"===t.localName}function q(t){return P(t)&&"input"===t.localName}function H(t){return P(t)&&"textarea"===t.localName}function F(t){return P(t)&&"script"===t.localName}function B(t){return P(t)&&"ownerSVGElement"in t}function z(t){return P(t)&&"select"===t.localName}function V(t){switch(t.nodeType){case 9:case 11:case 1:return!0;default:return!1}}function G(t){return 9===t.nodeType}function J(t){return function(t){switch(t.nodeType){case 9:case 11:return!0;default:return!1}}(t)&&"host"in t&&"mode"in t}function Y(t){return P(t)&&!!csElementshadowRoot.apply(t)&&J(csElementshadowRoot.apply(t))}var W=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];var $,X,K="detached";function Z(t){for(var n=t,i=[n];null!==csNodeparentNode.apply(n);)n=csNodeparentNode.apply(n),csArray.prototype.push.call(i,n);return Q(n)&&csArray.prototype.push.call(i,K),{ancestors:i,selectionRoot:n}}function Q(t){return hn.isValidElement(t)}var tt=null!==(X=null===($=e.Element)||void 0===$?void 0:$.prototype)&&void 0!==X?X:{},nt=tt.matches||tt.matchesSelector||tt.mozMatchesSelector||tt.msMatchesSelector||tt.oMatchesSelector||tt.webkitMatchesSelector,it=tt.closest;function rt(t,n){return!!n&&csArray.prototype.some.call(n,(function(n){return nt.call(t,n)}))}var et=[/\d{4}/,/^ember\d+$/],st="data-cs-override-id",ot="data-cs-dynamic-id";function ut(t,n,i,r){var e=r.dynamicIdRegex||null,s=r.dynamicElementNameRegex,o=S(t);s&&(s.test(t.localName)&&(o=csString.prototype.replace.call(o,s,"$1".concat("@"))));if(function(t,n){var i=ct(t);return i&&csString.prototype.match.call(i,/^[\w-]+$/)&&ht(st,i,n)}(t,i)){var u=ct(t);return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"[").concat(st,'="').concat(u,'"]')}}var c=function(t,n,i){var r,e;if(!i.uniqueAttributes)return{success:!1};try{for(var s=p(i.uniqueAttributes),o=s.next();!o.done;o=s.next()){var u=o.value,c=t.getAttribute(u);if(null!==c)if(ht(u,c,n))return{attributeName:u,attributeValue:c,success:!0}}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return{success:!1}}(t,i,r);if(c.success)return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"#UA[").concat(c.attributeName,'="').concat(c.attributeValue,'"]')};var h=function(t,n,i){var r,e;if(!i.uniqueCssSelectors)return;try{for(var s=p(i.uniqueCssSelectors),o=s.next();!o.done;o=s.next()){var u=o.value;if(nt.call(t,u)&&at(u,n))return u}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return}(t,i,r);if(h)return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"#UCS[").concat(h,"]")};var a=function(t){var n=t.getAttribute("id");return n?b(n):n}(t);if(function(t,n,i,r){return n&&!function(t){return null!==ct(t)}(t)&&!function(t,n,i){return t.hasAttribute(ot)||function(t,n){var i=!1;t&&n&&(i=n.test(t));return t&&(csArray.prototype.some.call(et,(function(n){return n.test(t)}))||i)}(n,i)}(t,n,r)&&function(t,n){return t&&ht("id",t,n)}(n,i)}(t,a,i,e))return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"#").concat(a)};var f=function(t,n){var i,r;if(!n.reliableSelectors)return;try{for(var e=p(n.reliableSelectors),s=e.next();!s.done;s=e.next()){var o=s.value;if(nt.call(t,o))return o}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}return}(t,r);if(f){var l=function(t,n,i){if(t===K||9===t.nodeType)return 0;for(var r=0,e=n.previousElementSibling;e;)nt.call(e,i)&&(r+=1),e=e.previousElementSibling;return r}(n,t,f);return{hasUniqueIdentifier:!1,elementSelector:"".concat(o,"[").concat(f,"](").concat(l,")")}}var v=function(t,n,i){if(t===K||9===t.nodeType)return 0;for(var r=i.dynamicElementNameRegex,e=!!(null==r?void 0:r.test(n.localName)),s=S(n),o=0,u=n.previousElementSibling;u;)(S(u)===s||e&&(null==r?void 0:r.test(u.localName)))&&!rt(u,i.reliableSelectors)&&(o+=1),u=u.previousElementSibling;return o}(n,t,r);return{hasUniqueIdentifier:!1,elementSelector:"".concat(o,":eq(").concat(v,")")}}function ct(t){return t.getAttribute(st)}function ht(t,n,i){try{return 1===window.csquerySelectorAll[i.nodeType].call(i,"[".concat(t,'="').concat(n,'"]')).length}catch(t){if("SyntaxError"!==t.name)throw t}return!1}function at(t,n){try{return 1===window.csquerySelectorAll[n.nodeType].call(n,t).length}catch(t){if("SyntaxError"!==t.name)throw t}return!1}function ft(t,n,i){var r=csArray.prototype.shift.call(t);if(0===t.length)return lt(r,i);var e=ut(r,t[0],n,i),s=e.elementSelector,o=e.hasUniqueIdentifier;if(!i.fullPath&&o){var u=t[t.length-1];return"".concat(lt(u,i)).concat(s)}var c=ft(t,n,i);return"".concat(c?"".concat(c,">"):"").concat(s)}function lt(t,n){if(t===K)return"|detached|";if(t.host){var i=Z(t.host),r=i.ancestors,e=i.selectionRoot;return"".concat(ft(r,e,n),"|shadow-root|")}return 11===t.nodeType?"|fragment|":""}var vt=function(){function t(t){this.options=t,this.done=!1,this.path=null}return t.prototype.getPath=function(){if(null===this.path)throw new Error("getPath was called before serializeElement");return this.path},t.prototype.isDone=function(){return this.done},t}(),dt=function(t){function n(){var n=t.apply(this,g([],m(arguments),!1))||this;return n.t=!1,n.i=!1,n.u=!1,n}return l(n,t),n.prototype.h=function(t,n){return this.t&&!(null===n&&Q(t))&&!(11===t.nodeType)&&!t.host},n.prototype.S=function(t){return!t.localName},n.prototype.serializeElement=function(t,n,i){var r;if(null!==(r=this.path)&&void 0!==r||(this.path=""),!this.h(t,n)){var e=!1;null===n&&Q(t)&&(e=!0,this.done=!0);var s=this.i&&!this.options.fullPath?"":">",o=!!t.host;if(o&&this.path&&(this.path="|shadow-root|"+s+this.path,this.u=!0,this.t=!1,this.i=!1),!o&&null===n&&11===t.nodeType)return this.path="|fragment|"+s+this.path,void(this.done=!0);if(!this.S(t)){var u=ut(t,null!=n?n:"detached",i,this.options),c=u.elementSelector,h=u.hasUniqueIdentifier;h&&(this.i=!0,this.t=!this.options.fullPath);var a="".concat(e?"|detached|".concat(s):"").concat(this.t&&!h?"":c),f=!h&&this.i&&!this.options.fullPath?"":this.path&&!this.u?">":"";this.u=!1,this.path="".concat(a).concat(f).concat(this.path)}}},n}(vt),yt=function(t,n){return yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},yt(t,n)};function wt(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}yt(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var pt=function(){return pt=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},pt.apply(this,arguments)};function mt(t,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)n.indexOf(r[e])<0&&Object.prototype.propertyIsEnumerable.call(t,r[e])&&(i[r[e]]=t[r[e]])}return i}function gt(t,n,i,r){var e,s=arguments.length,o=s<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,i,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(o=(s<3?e(o):s>3?e(n,i,o):e(n,i))||o);return s>3&&o&&Object.defineProperty(n,i,o),o}function St(t,n,i,r){return new(i||(i=Promise))((function(e,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function u(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,u)}c((r=r.apply(t,n||[])).next())}))}function bt(t,n){var i,r,e,s,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(c){return function(u){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(i=1,r&&(e=2&u[0]?r.return:u[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,u[1])).done)return e;switch(r=0,e&&(u=[2&u[0],e.value]),u[0]){case 0:case 1:e=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(e=o.trys,(e=e.length>0&&e[e.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!e||u[1]>e[0]&&u[1]<e[3])){o.label=u[1];break}if(6===u[0]&&o.label<e[1]){o.label=e[1],e=u;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(u);break}e[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(t,o)}catch(t){u=[6,t],r=0}finally{i=e=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;function Et(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function At(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,e,s=i.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o}function Rt(t,n,i){if(i||2===arguments.length)for(var r,e=0,s=n.length;e<s;e++)!r&&e in n||(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return t.concat(r||Array.prototype.slice.call(n))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var Ot,Tt,Nt;function kt(t,n){void 0===n&&(n=Mt.SHOW_ALL);var i=n|Mt.SHOW_ELEMENT,r=[document.createTreeWalker(t,i,null,!1)],e=Ct(t);e&&csArray.prototype.push.call(r,document.createTreeWalker(e,i,null,!1));var s=null;return{root:t,nextNode:function(){if(e){var t=e;return e=null,t}for(;r.length>0;){if(s){t=s;return s=null,t}var o=r[r.length-1].nextNode();if(o){var u=Ct(o);if(n&Mt.SHOW_DOCUMENT_FRAGMENT&&u&&(s=u),u&&csArray.prototype.push.call(r,document.createTreeWalker(u,i,null,!1)),xt[o.nodeType]&n)return o}else csArray.prototype.pop.call(r)}return null},visitAll:function(i){xt[t.nodeType]&n&&i(t);for(var r=this.nextNode();r;)xt[r.nodeType]&n?(i(r),r=this.nextNode()):r=this.nextNode()},collectAll:function(t){var n=[];return this.visitAll((function(i){return csArray.prototype.push.call(n,t?t(i):i)})),n}}}function Ct(t){return t&&Y(t)?t.shadowRoot:null}var It=null!==(Tt=e.Node)&&void 0!==Tt?Tt:{},Mt=null!==(Nt=e.NodeFilter)&&void 0!==Nt?Nt:{},xt=((Ot={})[2]=Mt.SHOW_ATTRIBUTE,Ot[4]=Mt.SHOW_CDATA_SECTION,Ot[8]=Mt.SHOW_COMMENT,Ot[11]=Mt.SHOW_DOCUMENT_FRAGMENT,Ot[9]=Mt.SHOW_DOCUMENT,Ot[10]=Mt.SHOW_DOCUMENT_TYPE,Ot[1]=Mt.SHOW_ELEMENT,Ot[It.ENTITY_NODE]=Mt.SHOW_ENTITY,Ot[It.ENTITY_REFERENCE_NODE]=Mt.SHOW_ENTITY_REFERENCE,Ot[It.NOTATION_NODE]=Mt.SHOW_NOTATION,Ot[7]=Mt.SHOW_PROCESSING_INSTRUCTION,Ot[3]=Mt.SHOW_TEXT,Ot),Pt={debug:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},warn:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},implementation:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},error:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},critical:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},isPerfLoggingActive:function(){return!1}};var _t=function(t){return function(n,i,r){var e=(null==i?void 0:i.toString())||"",s=t||"".concat(n.constructor&&n.constructor.name,".").concat(e);if(r){var o=r.value;r.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Dt(s,o.bind(this)).apply(void 0,Rt([],At(t),!1))}}}};function Dt(t,n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];try{var e=n.apply(void 0,Rt([],At(i),!1));return N(window.Promise)&&e instanceof window.Promise?e.then((function(t){return t}),(function(n){return Pt.error(M(n)?n:new Error(n),t)})):e}catch(n){try{Pt.error(M(n)?n:new Error(n),t)}catch(t){}}}}var Lt=function(){function t(){this.A=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this.A},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this.R},enumerable:!1,configurable:!0}),t.prototype.pushAll=function(t){for(var n=0;n<t.length;n++)this.push(t[n])},t.prototype.push=function(t){this.A++,this.O?this.O=this.O[1]=[t,void 0]:this.O=this.R=[t,void 0]},t.prototype.pop=function(){if(!this.R)return null;this.A--;var t=this.R[0];return this.R=this.R[1],this.R||(this.O=void 0),t},t.prototype.forEach=function(t){for(var n=this.R;null==n?void 0:n.length;)t(n[0]),n=n[1]},t.prototype.clear=function(){this.A=0,this.R=this.O=void 0},t}(),Ut=50,jt=.1;var qt=!1,Ht=new Lt;function Ft(t,n){void 0===t&&(t=50),void 0===n&&(n=.1),qt=Pt.isPerfLoggingActive()&&function(){var t;if(!(null===(t=window.performance)||void 0===t?void 0:t.mark))return!1;var n="isPerformanceMeasureSupported",i="".concat(n,"_a");return performance.mark(i),void 0!==performance.measure(n,i)}(),qt&&(Ut=t,jt=n)}var Bt=[],zt=[];function Vt(t){csArray.prototype.push.call(Bt,t),performance.mark("".concat(t,"-start"))}function Gt(t){var n=performance.measure(t,"".concat(t,"-start"));if(n){var i=n.duration;i>=jt&&csArray.prototype.push.call(zt,{mName:t,mDuration:+i.toFixed(2)}),csArray.prototype.pop.call(Bt),0===Bt.length&&(i>Ut&&Ht.push(zt),zt=[])}}function Jt(t,n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(!qt)return t.apply(this,i);Vt(n);var e=t.apply(this,i);return Gt(n),e}}var Yt,Wt,$t,Xt=function(t){return function(n,i,r){var e=r.value;r.value=function(){if(!qt)return r.value=e,e.apply(this,arguments);Vt(t);var n=e.apply(this,arguments);return Gt(t),n}}};function Kt(t){for(var n,i=null!==(n=t.length)&&void 0!==n?n:0,r=new csArray(i),e=0;e<i;e+=1)r[e]=t[e];return r}function Zt(t,n){for(var i=t.length,r=new csArray(i),e=0;e<i;e+=1)r[e]=n(t[e]);return r}function Qt(t,n){var i=[];return function(t,n,i){for(var r=0,e=0;e<t.length;e+=1)for(var s=n(t[e]),o=0;o<s.length;o++)i(s[o],r++)}(t,n,(function(t){return csArray.prototype.push.call(i,t)})),i}function tn(t,n){if(t.length>=0)for(var i=t.length,r=0;r<i;r++)n(t[r],r);else for(var e=0,s=t.next();!s.done;)n(s.value,e++),s=t.next()}function nn(t,n){for(var i=t.length,r=0;r<i;r++)if(n(t[r],r))return t[r]}function rn(t,n){for(var i=t.length,r=0;r<i;r++)if(n(t[r],r))return!0;return!1}function en(t,n){for(var i=t.length,r=[],e=0;e<i;e+=1){var s=t[e];n(s)&&csArray.prototype.push.call(r,s)}return r}function sn(t,n){for(var i=0;i<t.length;i++)csArray.prototype.push.call(n,t[i])}function on(t){var n=t instanceof Map,i=[];return t.forEach((function(t,r){return csArray.prototype.push.call(i,n?[r,t]:t)})),i}!function(t){t.isSupported=function(){return!!Element.prototype.attachShadow},t.getShadowRoot=function(t){return t&&Y(t)?t.shadowRoot:null},t.getAllShadowHosts=Jt((function(t){return kt(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).collectAll((function(t){return t.host}))}),"getAllShadowHosts")}(Yt||(Yt={})),function(t){function n(){var t=[r()];return document.documentElement&&csArray.prototype.push.call(t,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),document.body&&csArray.prototype.push.call(t,document.body.scrollHeight,document.body.offsetHeight),Math.max.apply(Math,Rt([],At(t),!1))}function i(){return document.documentElement.scrollWidth}function r(){return window.innerHeight}function e(){return window.innerWidth}function s(){var t=window.csScreen.width;return A(t)&&t>0?t:window.screen.width}function o(){var t=window.csScreen.height;return A(t)&&t>0?t:window.screen.height}t.documentHeight=n,t.documentWidth=i,t.windowHeight=r,t.windowWidth=e,t.screenWidth=s,t.screenHeight=o,t.windowOffsetX=function(){return window.pageXOffset},t.windowOffsetY=function(){return window.pageYOffset},t.getRequestParameters=function(){return{dw:"".concat(i()),dh:"".concat(n()),ww:"".concat(e()),wh:"".concat(r()),sw:"".concat(s()),sh:"".concat(o())}}}(Wt||(Wt={}));var un,cn=null!==($t=e.Node)&&void 0!==$t?$t:Object;!function(t){var n="isConnected"in cn.prototype?function(t){return t.isConnected}:function(t){return!(t.ownerDocument&&t.ownerDocument.compareDocumentPosition(t)&t.DOCUMENT_POSITION_DISCONNECTED)};t.forEachChild=function(t,n){for(var i=t;i;i=csNodenextSibling.apply(i))n(t)},t.isConnected=function(t){return n(t)},t.getAncestors=function(t,n){var i,e,s=[];try{for(var o=Et(r(t,n)),u=o.next();!u.done;u=o.next()){var c=u.value;csArray.prototype.push.call(s,c)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}return s};var i=function(t,n){var i;return null!==(i=csNodeparentNode.apply(t))&&void 0!==i?i:n&&J(t)?t.host:null};function r(t,n){var r,e;return void 0===n&&(n=!1),bt(this,(function(s){switch(s.label){case 0:r=t,s.label=1;case 1:return r?[4,r]:[3,3];case 2:return s.sent(),(e=i(r,n))&&e!==r?(r=e,[3,1]):[3,3];case 3:return[2]}}))}function e(n){var i;return n.parentElement?n.parentElement:t.getRootNode(n)?null===(i=t.getRootNode(n))||void 0===i?void 0:i.host:null}function s(t){var n,i;if(!1===(null===(n=t.checkVisibility)||void 0===n?void 0:n.call(t,{checkOpacity:!0,checkVisibilityCSS:!0})))return!0;if(!t.offsetParent){if(!t.getBoundingClientRect)return Pt.warn("SUP-11432: Element doesn't have getBoundingClientRect. Node: ".concat(t instanceof cn," Ctor: ").concat(null===(i=null==t?void 0:t.constructor)||void 0===i?void 0:i.name)),!1;var r=t.getBoundingClientRect();if(0==r.width&&0==r.height)return!0}var e,s=window.getComputedStyle(t);return!s||("none"===s.display||"hidden"===s.visibility||"collapse"===s.visibility||"0"===s.opacity||"opacity(0)"===s.filter||"0px"===s.width&&"0px"===s.height||("transparent"===(e=s.color)||/^(rgba|hsla)\(\d+, \d+%?, \d+%?, 0\)$/.test(e)))}function o(t){var n=t.getBoundingClientRect(),i=n.left+.5*n.width,r=n.top+.5*n.height;return u(document,i,r)}function u(n,i,r){var e=n.elementFromPoint(i,r);if(!e)return null;var s=Yt.getShadowRoot(e);return s&&s!=t.getRootNode(document.body)&&s!==n?u(s,i,r):e}function c(t){var n=o(t);return null!==n&&(t===n||(h(t)?""!==t.textContent&&n.contains(t):t.contains(n)))}function h(t){return"span"===t.localName||"a"===t.localName||"b"===t.localName||"i"===t.localName||"button"===t.localName||"input"===t.localName||"label"===t.localName||"cite"===t.localName||"small"===t.localName||"strong"===t.localName||"code"===t.localName||"abbr"===t.localName||"em"===t.localName||"dfn"===t.localName||"time"===t.localName||"output"===t.localName||"object"===t.localName||"sub"===t.localName}t.findAncestor=function(t,n,r){void 0===r&&(r=!1);for(var e=t;e;){if(n(e))return e;var s=i(e,r);if(!s||s===e)break;e=s}return null},t.walkUp=r,t.isDescendantOf=function n(i,r){if(i===r||r.contains(i))return!0;var e=t.getParentElement(i);return!(!e||e===i)&&n(e,r)},t.getParentElement=e,t.findAllElements=function(t,n){var i,r,e;void 0===n&&(n=document);var s=Kt(window.csquerySelectorAll[n.nodeType].call(n,t)),o=Yt.getAllShadowHosts(n);try{for(var u=Et(o),c=u.next();!c.done;c=u.next()){var h=c.value,a=Yt.getShadowRoot(h);if(a){var f=Kt(window.csquerySelectorAll[a.nodeType].call(a,t));(e=csArray.prototype.push).call.apply(e,Rt([s],At(f),!1))}}}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return s},t.getRootNode=function(){if("getRootNode"in cn.prototype)return function(t,n){return t.getRootNode(n)};function t(i){var r=n(i);return J(r)?t(r.host):r}function n(t){return null!=csNodeparentNode.apply(t)?n(csNodeparentNode.apply(t)):t}return function(i,r){return"object"==typeof r&&Boolean(r.composed)?t(i):n(i)}}(),t.isHiddenByCSS=s,t.areAncestorsHiddenByCSS=function t(n){if(s(n))return!0;var i=e(n);return null!=i&&t(i)},t.getTopAncestorHiddenByCSS=function(t){var n=null,i=t;do{if(!s(i))break;n=i}while(i=e(i));return n},t.getTopElement=o,t.getElementOnTop=function(n){if(!n.getBoundingClientRect)return null;var i=n.getBoundingClientRect(),r=i.x+i.width/2,e=i.y+i.height/2;return t.getTopElementFromPoint(document,r,e)},t.getTopElementFromPoint=u,t.isVisibleInDocument=function(t){return!function(t){var n=t.getBoundingClientRect();return n.right+Wt.windowOffsetX()<0||n.bottom+Wt.windowOffsetY()<0}(t)&&!s(t)&&!function(t){var n=o(t);return null!==n&&!t.contains(n)&&!n.contains(t)}(t)},t.isVisibleInViewportInForeground=function(t){return!s(t)&&c(t)},t.isInViewPort=c,t.getAttributeNS=function(t,n,i){var r=t.getAttributeNS(n,i);return""===r?t.hasAttributeNS(n,i)?r:null:r},t.isElementFocusable=function(t){return!!t.hasAttribute("tabIndex")||("true"===t.getAttribute("contentEditable")||(!(!L(t)||!t.hasAttribute("href"))||(!(!(z(t)||H(t)||q(t)||(n=t,P(n)&&"button"===n.localName))||t.hasAttribute("disabled"))||!(!function(t){return P(t)&&"details"===t.localName}(t)&&!function(t){return P(t)&&"summary"===t.localName}(t)))));var n},t.isInlineElement=h}(un||(un={}));var hn,an=function(){function t(t){this.T=t}return t.prototype.run=function(t){for(var n=g([],m(this.T),!1),i=un.getAncestors(t,!1),r=i[i.length-1];n.length>0&&i.length>0;){var e=csArray.prototype.shift.call(i),s=i[0]||null;if(this.N(n,e,s,r),this.C(n),0===n.length)break;0===i.length&&e.host&&(r=(i=un.getAncestors(e.host,!1))[i.length-1])}},t.prototype.N=function(t,n,i,r){var e,s;try{for(var o=p(t),u=o.next();!u.done;u=o.next()){u.value.serializeElement(n,i,r)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(s=o.return)&&s.call(o)}finally{if(e)throw e.error}}},t.prototype.C=function(t){for(var n=0;n<t.length;n++){t[n].isDone()&&(csArray.prototype.splice.call(t,n,1),n--)}},t}(),fn=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.serializeElement=function(t){var n;if(null!==(n=this.path)&&void 0!==n||(this.path=""),"detached"!==t&&"body"!==t.localName||(this.done=!0,!(this.path.length>0))){var i=this.I(t);i+=i.length>0?"|":"",this.path.length+i.length>this.options.hierarchyMaxLength?this.done=!0:this.path=i+this.path}},n.prototype.I=function(t){if(!t.localName)return"";var n="@".concat(t.localName,";");return n+=this.M(t.id),t.classList&&(n+=this.P(csArray.from(t.classList))),t.attributes&&(n+=this._(t)),n},n.prototype.M=function(t){return t?"#".concat(t,";"):""},n.prototype.P=function(t){return t.length>0?".".concat(csArray.prototype.join.call(csArray.prototype.sort.call(t),";."),";"):""},n.prototype.D=function(t,n){var i,r;return(null===(r=(i=this.options).isAttributeSensitive)||void 0===r?void 0:r.call(i,t,n))||-1!==csArray.prototype.indexOf.call(this.options.attributeIgnoreTokens,n)||B(t)&&-1===csString.prototype.indexOf.call(n,"data-")&&"aria-label"!==n||q(t)&&"value"===n},n.prototype.L=function(t,n){return this.options.useAnonymization&&!this.options.allWhitelistedAttributes.has(t)||n.length>this.options.attrMaxLength},n.prototype.U=function(t){var n,i,r={};try{for(var e=p(csArray.from(t.attributes)),s=e.next();!s.done;s=e.next()){var o=s.value;this.D(t,o.name)||(r[o.name]=o.value)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}return r},n.prototype._=function(t){var n,i,r=this;if(null===(i=(n=this.options).isNodeSensitive)||void 0===i?void 0:i.call(n,t))return"";var e=Object.entries(this.U(t));return csArray.prototype.join.call(csArray.prototype.sort.call(csArray.prototype.map.call(csArray.prototype.filter.call(e,(function(t){return m(t,1)[0].length<r.options.attrMaxLength})),(function(t){var n=m(t,2),i=n[0],e=n[1];return r.L(i,e)?"[".concat(i,"]"):"[".concat(i,"=").concat(e,"]")}))),";")+(e.length>0?";":"")},n}(vt);!function(t){function n(t){return!!t&&"localName"in t&&"getAttribute"in t&&"hasAttribute"in t&&"parentNode"in t}function i(t){return t&&"jquery"in t&&1===t.length?t[0]:t}t.INVALID_ELEMENT="INVALID_ELEMENT",t.isValidElement=n,t.getElementPathAndHierarchy=function(r,e,s){void 0===s&&(s={fullPath:!1,dynamicIdRegex:null});var o=i(r);if(o===document)return{path:"",hierarchy:""};if(!n(o))return{path:t.INVALID_ELEMENT,hierarchy:t.INVALID_ELEMENT};var u=new dt(s),c=new fn(e);return new an([u,c]).run(o),{path:u.getPath(),hierarchy:c.getPath()}},t.getElementPath=function(r,e){void 0===e&&(e={fullPath:!1,dynamicIdRegex:null});var s=i(r);if(s===document)return"";if(!n(s))return t.INVALID_ELEMENT;var o=Z(s);return ft(o.ancestors,o.selectionRoot,e)},t.getElementPathAndFirstAnchorParent=function(r,e){void 0===e&&(e={fullPath:!1,dynamicIdRegex:null});var s=i(r);if(s===document)return{path:"",firstAnchorParent:null};if(!n(s))return{path:t.INVALID_ELEMENT,firstAnchorParent:null};var o=function(t){for(var n=t,i=[n],r=null;null!==csNodeparentNode.apply(n);)null===r&&L(n)&&(r=n),csArray.prototype.push.call(i,csNodeparentNode.apply(n)),n=csNodeparentNode.apply(n);return Q(n)&&csArray.prototype.push.call(i,K),{firstAnchorParent:r,ancestors:i,selectionRoot:n}}(s),u=o.firstAnchorParent;return{path:ft(o.ancestors,o.selectionRoot,e),firstAnchorParent:u}}}(hn||(hn={})),window.CSPathComputation=window.CSPathComputation||hn;var ln=function(t,n){return ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},ln(t,n)};function vn(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}ln(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var dn=function(){return dn=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},dn.apply(this,arguments)};function yn(t,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)n.indexOf(r[e])<0&&Object.prototype.propertyIsEnumerable.call(t,r[e])&&(i[r[e]]=t[r[e]])}return i}function wn(t,n,i,r){var e,s=arguments.length,o=s<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,i,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(o=(s<3?e(o):s>3?e(n,i,o):e(n,i))||o);return s>3&&o&&Object.defineProperty(n,i,o),o}function pn(t,n,i,r){return new(i||(i=Promise))((function(e,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function u(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,u)}c((r=r.apply(t,n||[])).next())}))}function mn(t,n){var i,r,e,s,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(c){return function(u){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(i=1,r&&(e=2&u[0]?r.return:u[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,u[1])).done)return e;switch(r=0,e&&(u=[2&u[0],e.value]),u[0]){case 0:case 1:e=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(e=o.trys,(e=e.length>0&&e[e.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!e||u[1]>e[0]&&u[1]<e[3])){o.label=u[1];break}if(6===u[0]&&o.label<e[1]){o.label=e[1],e=u;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(u);break}e[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(t,o)}catch(t){u=[6,t],r=0}finally{i=e=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;function gn(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sn(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,e,s=i.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o}function bn(t,n,i){if(i||2===arguments.length)for(var r,e=0,s=n.length;e<s;e++)!r&&e in n||(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return t.concat(r||Array.prototype.slice.call(n))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var En=Number.MAX_SAFE_INTEGER||9007199254740991;function An(){}function Rn(t,n){return 0===csString.prototype.lastIndexOf.call(t,n,0)}var On=34164e6,Tn={percentage:function(){return Math.floor(1e4*Math.random())/100},boolean:function(t){return this.percentage()<t},integer:function(t){return void 0===t&&(t=En),Math.floor(Math.random()*t)}},Nn=csSymbol("cachedJson");var kn=void 0!==window.Symbol?function(t){if(t[Nn])return t[Nn];if(csArray.isArray(t)){if(0===t.length)return"[]";for(var n="["+kn(t[0]),i=1;i<t.length;i++)n+=","+kn(t[i]);return n+"]"}return t[Nn]=csJSON.stringify(t)}:csJSON.stringify;var Cn,In,Mn=/^\d+\.\d+(?:\.\d+)?$/,xn=function(){function t(t){var n,i,r,e,s,o;this.isSMB=null!==(n=t.isSMB)&&void 0!==n&&n,this.trackerDomain=t.trackerDomain,this.dynamicConfDomain=t.dynamicConfDomain,this.tagDomain=t.tagDomain,this.loggerDomain=t.ed,this.minLogLevel=t.logLevel,this.projectId=t.projectId,this.smbConfig=t.smbConfig,this.status=t.status,this.hostnames=t.hostnames,this.iframesTracking=!!t.iframesTracking,this.crossDomainTracking=!!t.crossDomainTracking,this.crossDomainSingleIframeTracking=!!t.crossDomainSingleIframeTracking,this.consentRequired=!!t.consentRequired,this.allowSubdomains=!!t.allowSubdomains,this.visitorCookieTimeout=t.visitorCookieTimeout||On,this.sampleRate=t.sampleRate,this.replayRecordingRate=t.replayRecordingRate,this.validationRate=t.validationRate,this.lastTrackingDraw=t.lastTrackingDraw||1,this.useHttps=!0,this.eMerchandisingEnabled=t.eMerchandisingEnabled,this.mouseMoveHeatmapEnabled=t.mouseMoveHeatmapEnabled,this.jsErrorsEnabled=t.jsErrorsEnabled,this.apiErrors=dn({enabled:null!==(i=t.apiErrorsEnabled)&&void 0!==i?i:0},t.apiErrors),this.customErrors=dn({enabled:null!==(r=t.customErrorsEnabled)&&void 0!==r?r:0},t.customErrors),this.jsCustomErrorsEnabled=t.jsCustomErrorsEnabled,this.triggerSessionReplayEnabled=t.triggerSessionReplayEnabled,this.triggerSessionReplayRegex=this.j(t.triggerSessionReplayRegex),this.dynamicIdRegex=t.dynamicIdRegex?new csRegExp(t.dynamicIdRegex):null,this.whitelistedAttributes=t.whitelistedAttributes||[],this.replayRecordingUnmaskedUrlRegex=this.j(t.replayRecordingUnmaskedUrlRegex),this.replayRecordingMaskedUrlRegex=this.j(t.replayRecordingMaskedUrlRegex),this.replayRecordingMaskedUrlRegexRules=t.replayRecordingMaskedUrlRegexRules||null,this.replayRecordingUnmaskedUrlRegexRules=t.replayRecordingUnmaskedUrlRegexRules||null,this.anonymisationMethod=t.anonymisationMethod||null,this.tagDeploymentMode=t.tagDeploymentMode,this.dualCollectionTagDomain=t.dualCollectionTagDomain||null,this.ptcDomain=t.ptcDomain||null,this.ptcGuid=t.ptcGuid||null,this.secureCookiesEnabled=!!t.secureCookiesEnabled,this.ptcSha512=t.ptcSha512||null,this.ptcSnapshotPath=t.ptcSnapshotPath||null,this.emitDebugEvents=!1,this.malkaQuotaServiceDomain=t.malkaQuotaServiceDomain||null,this.staticResourceManagerDomain=t.staticResourceManagerDomain||null,this.malkaRecordingDomain=t.malkaRecordingDomain||null,this.textVisibilityEnabled=t.textVisibilityEnabled,this.experimental=t.experimental||{},this.malkaEtrEnabled=!!t.malkaEtrEnabled,this.malkaUrlEnabled=!!t.malkaUrlEnabled,this.cookielessTrackingEnabled=t.cookielessTrackingEnabled,this.customHashIdEnabled=!!t.customHashIdEnabled,this.encryptionEnabled=!!t.recordingEncryptionEnabled,this.encryptionPublicKey=t.recordingEncryptionPublicKey||null,this.pathComputationRules=t.pathComputationRules||{},t.pathComputationRules&&""===t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=null),t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=new csRegExp(t.pathComputationRules.dynamicElementNameRegex)),this.asyncSerializerEnabled=!!t.asyncSerializerEnabled,this.encryptionPublicKeyId=t.recordingEncryptionPublicKeyId,this.pendingInactivityTimeout=t.pendingInactivityTimeout||5e3,this.accessibilityEnabled=!!t.accessibilityEnabled,this.useStaticResourceManager=!!t.useStaticResourceManager,t.taskSchedulerOptions&&(this.taskSchedulerOptions=dn(dn({},t.taskSchedulerOptions),{enabled:!!t.taskSchedulerOptions.enabled})),this.uxaDomain=t.uxaDomain,this.environment=(null===(e=t.uxaDomain)||void 0===e?void 0:e.indexOf("staging"))>-1?"staging":"production",this.performanceTimingOptions=t.performanceTimingOptions,this.replayConsentRequiredForSession=!!t.replayConsentRequiredForSession,this.isWebView=!1,t.displayAdOptions&&t.displayAdOptions.length&&(this.displayAdOptions=t.displayAdOptions),t.voc&&(this.voc=dn(dn({},t.voc),{enabled:!!t.voc.enabled})),t.heapEnvironment&&(this.heapEnvironment=t.heapEnvironment),t.implementations&&t.implementations.length&&(this.implementations=t.implementations),this.eventsApiEnabled=!!t.eventsApiEnabled,this.anonymizeDigits=null!==(s=t.anonymizeDigits)&&void 0!==s?s:null,this.isHeapPresent=void 0!==window.heap,this.clickedElementTextEnabled=!!t.clickedElementTextEnabled,this.recordTargetingRules=null!==(o=t.recordTargetingRules)&&void 0!==o?o:[],this.paProxyDomainUri=t.paProxyDomainUri||null,this.emitRecordInfoEvents=0!=t.emitRecordInfoEvents,this.collectHierarchy=!!t.collectHierarchy}return t.prototype.getTrackerUri=function(){return"".concat(this.q(),"://").concat(this.trackerDomain)},t.prototype.getSentryFileUri=function(){return"".concat(this.q(),"://").concat(this.tagDomain,"/uxa/smb/errors.js")},t.prototype.getSentryDSNUri=function(){return"https://".concat("f553e78fb58e051e51fe8074c4c6e73e","@").concat(this.loggerDomain,"/4508608369131520")},t.prototype.getRecordingUri=function(){return"".concat(this.q(),"://").concat(this.malkaRecordingDomain)},t.prototype.getLegacyQuotaUri=function(){return"".concat(this.q(),"://").concat(this.malkaQuotaServiceDomain)},t.prototype.getLoggerUri=function(){return"".concat(this.q(),"://").concat(this.loggerDomain)},t.prototype.getMetricsUri=function(){return"".concat(this.q(),"://").concat(this.loggerDomain,"/metrics")},t.prototype.getStaticResourceManagerUri=function(){return"".concat(this.q(),"://").concat(this.staticResourceManagerDomain)},t.prototype.getQuotaUri=function(){return"".concat(this.q(),"://").concat(this.dynamicConfDomain,"/").concat(this.projectId,".json")},t.prototype.isQuotaEnabled=function(){return this.isSMB&&!!this.dynamicConfDomain},t.prototype.getPaProxyDomainUri=function(){return"".concat(this.q(),"://").concat(this.paProxyDomainUri)},t.prototype.q=function(){return this.useHttps?"https":"http"},t.prototype.isProjectActive=function(){return 1===this.status},t.prototype.processOptionOverrides=function(t){var n=this;t&&t.forEach&&t.forEach((function(t){var i=Sn(t),r=i[0],e=i.slice(1);if("setOption"===r){var s=Sn(e,2),o=s[0],u=s[1];n.H(o,u)}}))},t.prototype.H=function(t,n){"trackerDomain"===t&&(this.trackerDomain=n),"loggerDomain"===t&&(this.loggerDomain=n),"malkaRecordingDomain"===t&&(this.malkaRecordingDomain=n),"malkaQuotaServiceDomain"===t&&(this.malkaQuotaServiceDomain=n),"staticResourceManagerDomain"===t&&(this.staticResourceManagerDomain=n),"minLogLevel"===t&&(this.minLogLevel=n),"useHttps"===t&&(this.useHttps=!!n),"isWebView"===t&&(this.isWebView=n)},t.prototype.j=function(t){return t?this.F(t):null},t.prototype.getRequestParameters=function(){return{pid:"".concat(this.projectId)}},t.prototype.updateDynamicFields=function(t,n){"emitDebugEvents"===t&&(this.emitDebugEvents=n),"minLogLevel"===t&&(this.minLogLevel=n)},t.prototype.F=function(t){try{var n=/^\/(.*)\/([gim]*)$/.exec(t);if(n){var i=Sn(n,3),r=i[1],e=i[2];return new csRegExp("^".concat(r,"$"),e)}return new csRegExp("^".concat(t,"$"))}catch(t){return null}},t.prototype.isHeaderCollectionActive=function(){var t,n;return this.apiErrors.collectStandardHeaders||!!(null===(t=this.apiErrors.validCustomHeaders)||void 0===t?void 0:t.length)||!!(null===(n=this.apiErrors.plainCustomHeaders)||void 0===n?void 0:n.length)},t.prototype.isCsSideloadingHeap=function(){var t;return"cs_sideloads_heap"===(null===(t=this.heapEnvironment)||void 0===t?void 0:t.heap_tag_status)&&!this.isHeapPresent},t.prototype.isHeapSideloadsCs=function(){var t;return"heap_sideloads_cs"===(null===(t=this.heapEnvironment)||void 0===t?void 0:t.heap_tag_status)},t.prototype.isHeapSideloadsCsV5=function(){var t;return"heap_sideloads_cs"===(null===(t=this.heapEnvironment)||void 0===t?void 0:t.heap_tag_status)&&this.B()},t.prototype.isHeapSideloadsStartDataCollection=function(){if(this.isHeapSideloadsCs()){if(this.B())return!0;var t=function(t){if(Mn.test(t)){var n=Sn(csArray.prototype.map.call(csString.prototype.split.call(t,"."),Number),3),i=n[0],r=n[1],e=n[2];return{major:i,minor:r,patch:!e||Number.isNaN(e)?0:e}}}(this.getHeapVersion()||"");if(t&&4===t.major&&function(t,n){return function(t,n){return t.major!==n.major?t.major-n.major:t.minor!==n.minor?t.minor-n.minor:t.patch-n.patch}(t,n)>=0}(t,{major:4,minor:23,patch:5}))return!0}return!1},t.prototype.B=function(){var t;return"function"==typeof(null===(t=window.heap)||void 0===t?void 0:t.getUserId)},t.prototype.getHeapVersion=function(){var t,n,i,r,e,s;return"function"==typeof(null===(t=window.heap)||void 0===t?void 0:t.getConfig)&&(null===(r=null===(i=null===(n=window.heap)||void 0===n?void 0:n.getConfig())||void 0===i?void 0:i.sdk)||void 0===r?void 0:r.version)||(null===(s=null===(e=window.heap)||void 0===e?void 0:e.version)||void 0===s?void 0:s.heapJsVersion)||void 0},t.prototype.isCsCrosswritingHeap=function(){var t;return"cs_crosswrites_heap"===(null===(t=this.heapEnvironment)||void 0===t?void 0:t.heap_tag_status)},t.prototype.isClickedElementTextEnabled=function(){return this.isSMB||this.clickedElementTextEnabled},t.prototype.isNetworkDetailsEnabled=function(){return!!this.performanceTimingOptions&&(this.performanceTimingOptions.withResource||this.performanceTimingOptions.withNavigation)},t.prototype.hasTargetingRules=function(){var t;return!!(null===(t=this.recordTargetingRules)||void 0===t?void 0:t.length)},t}(),Pn=function(){function t(t,n){this.V=t,this.G=n}return t.prototype.init=function(){this.J=this.V!==this.V.top,this.Y=this.G.isWebView&&this.V===this.V.top,this.G.iframesTracking&&this.J||this.Y?this.W=!1:this.W=!0},t.prototype.isInIframeContext=function(){return this.J},t.prototype.isTopWindowTracker=function(){return this.W},t.prototype.isInWebViewContext=function(){return this.Y},t}();!function(t){t.debug="debug",t.warn="warn",t.implementation="implementation",t.error="error",t.critical="critical"}(Cn||(Cn={})),function(t){t.toQuery=function(t){return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(t),(function(n){return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t[n]))})),"&")}}(In||(In={}));var _n,Dn=function(){function t(t,n){this.domainUri=t,this.path=n,this.beforeRequestCallbacks=[],this.afterRequestCallbacks=[]}return t.prototype.setRequestParametersProviders=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.requestParametersProviders=t},t.prototype.before=function(t){csArray.prototype.push.call(this.beforeRequestCallbacks,t)},t.prototype.after=function(t){csArray.prototype.push.call(this.afterRequestCallbacks,t)},t.prototype.retrieveParameters=function(){return this.requestParametersProviders?csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders,(function(t){return t.getRequestParameters()})),(function(t,n){return dn(dn({},t),n)})):{}},t}(),Ln=function(t){function n(n,i){return t.call(this,n,i)||this}return vn(n,t),n.prototype.send=function(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,(function(t){return t()}));var t=this.retrieveParameters();this.$(t);var n=In.toQuery(t);this.X(n),csArray.prototype.forEach.call(this.afterRequestCallbacks,(function(t){return t()}))},n.prototype.X=function(t){var n=new window.Image(1,1);n.onload=An,n.onerror=An,csHTMLImageElementsrc.call(n,"".concat(this.domainUri).concat(this.path?"/".concat(this.path):"","?").concat(t))},n.prototype.$=function(t){t.r=csString.prototype.slice.call("".concat(Math.random()),2,8)},n}(Dn),Un=function(){function t(t,n){this.K=t,this.Z=n}return t.prototype.init=function(){this.tt=new Ln(this.K.getLoggerUri()),this.tt.setRequestParametersProviders(this,this.Z)},t.prototype.send=function(t){this.nt=t,this.tt.send()},t.prototype.getRequestParameters=function(){return{a:this.nt.app,l:this.nt.level,m:this.nt.message,s:this.nt.stacktrace}},t}(),jn=function(){function t(t){this.name=t}return t.setGlobalService=function(n){t.globalService=n},t.prototype._get=function(){return this._values},t.prototype._reset=function(){this._values={}},t.prototype.aggregate=function(){var n=this;if(t.globalService){var i=this._get(),r=Object.keys(i);r.length&&(t.globalService.push(csArray.prototype.map.call(r,(function(t){return{name:n.name,parameter:t,value:i[t]}}))),this._reset())}},t.globalService=null,gt([_t("Metric.aggregate")],t.prototype,"aggregate",null),t}(),qn=function(t){function n(n,i){void 0===i&&(i=100);var r=t.call(this,n)||this;return r.it=i,r.et=null,r._values={},r}return wt(n,t),n.prototype.count=function(t,n){void 0===n&&(n=1),this._values[t]=(this._values[t]||0)+n,this._debounce()},n.prototype._debounce=function(){var t=this;jn.globalService&&(this.et&&window.csClearTimeout(this.et),this.et=window.csSetTimeout((function(){t.aggregate(),t.et=null}),this.it))},n}(jn),Hn=(function(t){function n(){var n=t.apply(this,Rt([],At(arguments),!1))||this;return n._values={},n}wt(n,t),n.prototype.set=function(t,n){this._values[t]=Math.max(this._values[t]||Number.NEGATIVE_INFINITY,n)}}(jn),function(t){function n(){var n=t.apply(this,Rt([],At(arguments),!1))||this;return n.st={},n._values={},n}wt(n,t),n.prototype.add=function(t,n){var i=this.st[t]||{total:0,count:0},r=i.total,e=i.count;this.st[t]={total:r+n,count:e+1},this._values[t]=this.st[t].total/this.st[t].count},n.prototype._reset=function(){this.st={},this._values={}}}(jn),function(t){function n(){var n=t.apply(this,Rt([],At(arguments),!1))||this;return n._values={},n}wt(n,t),n.prototype.add=function(t,n){this._values[t]=(this._values[t]||0)+n}}(jn),{counters:{commandsFromIntegrations:new qn("commands-from-integrations"),commandsFromCSTC:new qn("commands-from-cstc"),commandsFromIframe:new qn("commands-from-iframe"),commandApplied:new qn("command-applied"),commandError:new qn("command-error"),commandMisuse:new qn("command-misuse"),CSTCSnippetUsed:new qn("cstc-snippet-used"),redactedPII:new qn("redacted-pii"),pageAnonymisation:new qn("page-anonymisation"),sensitiveElements:new qn("sensitive-elements")},setService:function(t){jn.setGlobalService(t)}}),Fn=/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,Bn=/[a-zA-Z0-9+_-](?:@|%40|%2540)/,zn="([-A-Za-z0-9+/=_]|=[^=]|={3,})+",Vn=new csRegExp("(ey".concat(zn,"\\.ey").concat(zn,"\\.").concat(zn,")"),"g"),Gn=/[0-9]{4}/,Jn=/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g,Yn=/\d/g,Wn=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,$n=/(?:\d{1,3}\.){3}\d{1,3}/,Xn=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/;!function(t){t.replaceEmail=function(t){return csString.prototype.replace.call(t,Fn,"CS_ANONYMIZED_EMAIL")},t.replaceJWT=function(t){return csString.prototype.replace.call(t,Vn,"CS_ANONYMIZED_JWT")},t.replaceCreditCardNumber=function(t,n){return csString.prototype.replace.call(t,Jn,n)},t.replaceDigits=function(t){return csString.prototype.replace.call(t,Yn,"•")},t.mayHaveIPAddress=function(t){return $n.test(t)||Xn.test(t)},t.mayHaveNumberSequence=function(t){return Wn.test(t)},t.mayHaveCreditCardNumber=function(t){return Gn.test(t)},t.mayHaveEmail=function(t){return Bn.test(t)}}(_n||(_n={}));var Kn,Zn=function(){function t(){this.ot={}}return t.prototype.getLogs=function(){var t=this.ot,n=t.fullCreditCard,i=t.partialCreditCard,r=[];return n&&csArray.prototype.push.call(r,"Full cc found and anonymized (".concat(n,")")),i&&csArray.prototype.push.call(r,"Partial cc found and anonymized (".concat(i,")")),r},t.prototype.hasPII=function(t,n){return t!==this.checkAndAnonymizePII(t,n)},t.prototype.checkAndAnonymizePII=function(t,n){void 0===n&&(n=null),this.ut();var i=this.ht(this.ft(t));return!0===n?i=this.lt(i):!1===n&&(i=this.vt(i)),i},t.prototype.anonymizePII=function(t){return this.ut(),this.ft(t)},t.prototype.anonymizeJwt=function(t){return this.ut(),_n.replaceJWT(t)},t.prototype.anonymizeFields=function(t,n){var i=this;return this.ut(),csArray.prototype.forEach.call(n,(function(n){t[n]=i.ft(t[n])})),t},t.prototype.ut=function(){this.ot={}},t.prototype.ft=function(t){if(_n.mayHaveEmail(t)){var n=_n.replaceEmail(t);return n!==t&&Hn.counters.redactedPII.count("email"),n}return t},t.prototype.lt=function(t){return _n.replaceDigits(t)},t.prototype.vt=function(t){return _n.mayHaveNumberSequence(t)?_n.replaceDigits(t):t},t.prototype.ht=function(t){var n=this;return _n.mayHaveCreditCardNumber(t)?_n.replaceCreditCardNumber(t,(function(t,i,r,e,s){if(-1===csString.prototype.indexOf.call(r,"*")){var o=e.length?csArray.prototype.join.call(csString.prototype.split.call(r,e),""):r;if(!n.yt(o))return t;Hn.counters.redactedPII.count("cc"),n.ot.fullCreditCard=(n.ot.fullCreditCard||0)+1}else Hn.counters.redactedPII.count("cc-partial"),n.ot.partialCreditCard=(n.ot.partialCreditCard||0)+1;return"".concat(i).concat("CS_ANONYMIZED_PII").concat(s)})):t},t.prototype.yt=function(t){for(var n=parseInt(t[t.length-1]),i=0,r=t.length-2;r>=0;r--){var e=parseInt(t[r]);r%2==0&&(e*=2),i+=Math.floor(e/10)+e%10}return 10-i%10===n},t}(),Qn="15.85.1";function ti(){return{v:Qn}}var ni="undefined"!=typeof performance&&!!performance.now,ii=ni?function(){return performance.now()}:csDate.now,ri=ni?null===(Kn=performance.timing)||void 0===Kn?void 0:Kn.navigationStart:0,ei=function(){return Math.round(ii()+ri)},si=function(){return ii()};function oi(){return Math.floor(ei()/1e3)}function ui(){return"function"==typeof window.Promise}function ci(){var t,n;return"function"==typeof(null===(t=window.navigation)||void 0===t?void 0:t.addEventListener)&&"function"==typeof(null===(n=window.navigation)||void 0===n?void 0:n.removeEventListener)}function hi(t,n){return 0===csString.prototype.lastIndexOf.call(t,n,0)}function ai(t,n){return-1!==csString.prototype.indexOf.call(t,n,t.length-n.length)}var fi,li,vi=function(){function t(t,n){this.wt=t,this.gt=n}return t.prototype.getRequestParameters=function(){return dn(dn({d:"".concat(ei()),p:this.gt.anonymizePII(window.location.href)},this.wt.getRequestParameters()),ti())},t}(),di="snippet-",yi="implementation-snippet-";!function(t){t.IMPLEMENTATION="implementation",t.DYNAMIC="dynamic"}(li||(li={}));var wi=((fi={})[Cn.debug]=0,fi[Cn.warn]=1,fi[Cn.implementation]=1,fi[Cn.error]=2,fi[Cn.critical]=3,fi),pi=function(){function t(t,n,i){var r;this.St=n,this.gt=new Zn,this.bt=wi[Cn.warn],this.bt=wi[t.minLogLevel||Cn.warn],this.tt=i||new Un(t,new vi(t,this.gt)),this.Et=((r={})[Cn.debug]=[],r[Cn.warn]=[],r[Cn.implementation]=[],r[Cn.error]=[],r[Cn.critical]=[],r),this.At={implementation:{},dynamic:{}},this.tt.init()}return t.prototype.send=function(t,n,i){if(void 0===n&&(n=""),void 0===i&&(i=Cn.warn),this.Rt(i,n)){csArray.prototype.push.call(this.Et[i],n||"");var r={message:this.Ot(t,n),stacktrace:this.Tt(t),app:"uxa",level:i};this.tt.send(r)}},t.prototype.Ot=function(t,n){var i=M(t)?this.gt.anonymizePII(t.message||t.toString()):t;return n&&(i+=" ErrorCode: ".concat(n)),i},t.prototype.Tt=function(t){return M(t)?"".concat(t.stack||"No stacktrace"," ").concat(this.Nt()):this.Nt()},t.prototype.Nt=function(){var t=this.St.getVisitorService(),n=null==t?void 0:t.getVisitor();if(!n)return"No context";var i=this.St.getSessionService(),r=i&&i.getSession(),e={userId:n.id,sessionNumber:n.visitsCount,pageNumber:r&&r.pageNumber};return csJSON.stringify(e)},t.prototype.Rt=function(t,n){if(wi[t]<this.bt)return!1;if(0===(null==n?void 0:csString.prototype.indexOf.call(n,yi,0)))return this.kt(n,li.IMPLEMENTATION);if(0===(null==n?void 0:csString.prototype.indexOf.call(n,di,0)))return this.kt(n,li.DYNAMIC);var i=this.Et[t];return!(i.length>=5)&&(!n||!csArray.prototype.some.call(i,(function(t){return t===n})))},t.prototype.kt=function(t,n){return t in this.At[n]?!(this.At[n][t]>=5)&&(this.At[n][t]+=1,!0):(this.At[n][t]=1,!0)},t}(),mi=!r&&document.createElement("a"),gi=/(:443|:80)$/;function Si(t){return mi?(mi.href=t,mi.href):""}function bi(t){var n=Ri(t);return null===n?"":decodeURIComponent(n.hostname)}function Ei(t,n){return csArray.prototype.some.call(n,(function(n){return ai(t,".".concat(n))||t===n||""===n}))}function Ai(t){return csString.prototype.replace.call(t,gi,"")}function Ri(t){return mi&&(hi(t,"http://")||hi(t,"https://"))?(mi.href=t,{hash:mi.hash,host:Ai(mi.host),hostname:mi.hostname,href:mi.href,origin:mi.origin?mi.origin:Ai("".concat(mi.protocol,"//").concat(mi.host)),pathname:(n=mi.pathname,"/"===n[0]?n:"/".concat(n)),port:mi.port,protocol:mi.protocol,search:mi.search}):null;var n}var Oi,Ti,Ni,ki,Ci="CS_IFRAME_MESSAGE";!function(t){t.AfterPageView="afterPageView",t.GetSessionKey="getSessionKey"}(Oi||(Oi={})),function(t){t.Parent="parent",t.Child="child"}(Ti||(Ti={})),function(t){t.Discovery="discovery",t.Stop="stop",t.RecordingContext="recordingContext",t.SensitiveStatus="sensitiveStatus",t.RecordingEvent="recordingEvent",t.EndOfBufferedMessages="endOfBufferedMessages",t.ChildLogMessage="childLogMessage",t.AnalysisEvent="analysisEvent",t.JavascriptError="javascriptError",t.ApiError="apiError",t.Assets="assets",t.DetailedApiError="detailedApiError",t.EmerchandisingMessage="emerchandisingMessage",t.Commands="commands",t.IntegrationCallback="integrationCallback",t.StaticResource="staticResource",t.TrackingContextResultMessage="trackingContextResultMessage",t.TrackingContextRequestMessage="trackingContextRequestMessage",t.CustomError="customError"}(Ni||(Ni={})),function(t){t.buildBaseMessage=function(t,n,i,r){var e={type:t,from:n,pid:i,signature:Ci};return void 0!==r&&r>=0&&(e.id=r),e},t.isMessageValid=function(t,n,i,r){var e=bi(t.origin);return!!t.data&&!!t.data.type&&t.data.signature===Ci&&t.data.from===n&&t.data.pid===i&&Ei(e,r)},t.sendPostMessage=function(t,n,i,r){r?t.postMessage(i,n,r):t.postMessage(i,n)},t.getNewChannelMessage=function(){return new MessageChannel},t.sendChannelMessage=function(t,n){t.postMessage(n)},t.closeChannelPort=function(t){t.close()}}(ki||(ki={}));var Ii=function(){function t(t){this.wt=t}return t.prototype.send=function(t,n,i){void 0===n&&(n=""),void 0===i&&(i=Cn.warn);var r={message:t,errorCode:n,level:i},e=ki.buildBaseMessage(Ni.ChildLogMessage,Ti.Child,this.wt.projectId);e.content=r,ki.sendPostMessage(window.parent,"*",e)},t}(),Mi=function(){function t(){}return t.prototype.setContext=function(t,n){this.Ct=t,this.It=n},t.prototype.getVisitorService=function(){return this.Ct},t.prototype.getSessionService=function(){return this.It},t}(),xi=["t.contentsquare.net","clicktale"];window.addEventListener("error",(function(t){"string"!=typeof t.filename||!csArray.prototype.some.call(xi,(function(n){return csString.prototype.indexOf.call(t.filename,n)>-1}))||csString.prototype.indexOf.call(t.filename,"blob")>-1&&(null==t.message?void 0:csString.prototype.indexOf.call(t.message,"importScripts"))>-1||Ui.critical("Uncaught jsError: filename: ".concat(t.filename," - lineno: ").concat(t.lineno," - colno: ").concat(t.colno," - message: ").concat(t.message," "))}));var Pi,_i,Di,Li,Ui=function(){function t(){}return t.whiteListFilename=function(t){csArray.prototype.push.call(xi,t)},t.setStrategy=function(n){t.Mt=n},t.computeIsActive=function(n){t.xt=Tn.boolean(n),t.xt?t.Pt=Tn.boolean(10):t.Pt=!1},t.isLoggingActive=function(){return t.xt},t.getStrategy=function(){return t.Mt},t.debug=function(n,i){void 0===i&&(i=""),t.xt&&this.Mt.send(n,i,Cn.debug)},t.warn=function(n,i,r){var e;void 0===i&&(i=!0),void 0===r&&(r=""),t.xt&&i&&this.Mt.send(n,r,Cn.warn),null===(e=window.UXAnalytics.Console)||void 0===e||e.warn(n)},t.implementation=function(n,i){void 0===i&&(i=""),t.xt&&this.Mt.send(n,i,Cn.implementation)},t.error=function(n,i){var r;void 0===i&&(i=""),t.xt&&this.Mt.send(n,i,Cn.error),null===(r=window.UXAnalytics.Console)||void 0===r||r.error(n)},t.critical=function(t,n){void 0===n&&(n=""),this.Mt.send(t,n,Cn.critical)},t.tryToExecute=function(t,n){var i=this;return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];try{var s=n.apply(void 0,bn([],Sn(r),!1));return N(window.Promise)&&s instanceof window.Promise?s.then((function(t){return t}),(function(n){return i.error(M(n)?n:new Error(n),t)})):s}catch(n){try{i.error(M(n)?n:new Error(n),t)}catch(t){}}}},t.isPerfLoggingActive=function(){return t.Pt},t.xt=!1,t.Pt=!1,t}(),ji=!1;function qi(){return function(t,n,i){if(i){var r=i.value;i.value=function(t,n){!1===(null==t?void 0:t.isTrusted)&&ji||r.call(this,t,n)}}else{var e=t[n];if("function"!=typeof e)return;t[n]=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];!1===(null==t?void 0:t.isTrusted)&&ji||e.call(this,t,n)}}}}!function(t){function n(t){var n=new csRegExp("(^|;)[ ]*".concat(t,"=([^;]*)")).exec(document.cookie);return n?decodeURIComponent(n[2]):null}function i(n,i,e,s,o,u){var c=encodeURIComponent("".concat(i)),h=e===t.CURRENT_DOMAIN?void 0:e,a=r(s),f=a?";expires=".concat(a.toUTCString()):"",l=k(h)?";domain=".concat(h):"",v="".concat(n,"=").concat(c).concat(f).concat(";path=/").concat(l);return N(o)&&o!==Di.NotSet&&(v="".concat(v,";SameSite=").concat(o)),N(u)&&u===Li.Yes&&(v="".concat(v,";Secure")),document.cookie=v,!0}function r(t){return E(t)?new csDate(ei()+t):t}function e(t,r){n(t)&&i(t,"",r,new csDate(0)),n(t)&&i(t,"",r,new csDate(0),Di.None,Li.Yes)}t.CURRENT_DOMAIN="CURRENT_DOMAIN",t.get=n,t.set=i,t.toExpireDate=r,t.remove=e,t.isCookiePresent=function(){return document.cookie.length>0},t.getRootDomain=function(t,r){var s="_cs_root-domain",o=n(s);if(null!==o&&"1"!==o)return o;for(var u=csString.prototype.split.call(window.location.hostname,"."),c=csArray.prototype.pop.call(u);u.length&&(null===o||"1"===o);)i(s,c=csArray.prototype.join.call([csArray.prototype.pop.call(u),c],"."),c,void 0,t,r),o=n(s);return e(s,c),c}}(Pi||(Pi={})),function(t){t.browserIsSafariV12=function(){return window.navigator.vendor&&csString.prototype.indexOf.call(window.navigator.vendor,"Apple")>-1&&window.navigator.appVersion&&csString.prototype.indexOf.call(window.navigator.appVersion,"Version/12.")>-1}}(_i||(_i={})),function(t){t.None="None",t.Lax="Lax",t.NotSet="X"}(Di||(Di={})),function(t){t[t.Yes=1]="Yes",t[t.No=0]="No"}(Li||(Li={}));var Hi=function(){function t(t,n,i){this.wt=t,this._t=n,this.Dt=i,this.Lt=!1,this.Ut=Di.NotSet,this.jt=Li.No}return t.prototype.getSameSiteFlag=function(){return this.Ut},t.prototype.getSecureFlag=function(){return this.jt},t.prototype.getDomain=function(){return this.qt},t.prototype.getRootDomain=function(){return this.Ht},t.prototype.init=function(){if(!this.wt.cookielessTrackingEnabled){var t=this.Ft(),n=this.Bt();this.Lt=this.zt(t,n),this.Lt?(this.Ut=t,this.jt=n):this.wt.secureCookiesEnabled&&"https:"===this._t.getUrlProtocol()&&(this.jt=Li.Yes),this.Ht=this.Vt(),this.qt=this.Gt(this.Ht)}},t.prototype.zt=function(n,i){return!_i.browserIsSafariV12()&&(Pi.set(t.COOKIE_TEST_FOR_SAME_SITE,"Test same site",t.CURRENT_DOMAIN,void 0,n,i),!!Pi.get(t.COOKIE_TEST_FOR_SAME_SITE)&&(Pi.remove(t.COOKIE_TEST_FOR_SAME_SITE,t.CURRENT_DOMAIN),!0))},t.prototype.Ft=function(){return"http:"===this._t.getUrlProtocol()?Di.Lax:this.Dt.isSameSiteNoneSecureNeeded()||this.wt.crossDomainTracking?Di.None:Di.Lax},t.prototype.Bt=function(){return"http:"===this._t.getUrlProtocol()?Li.No:this.wt.secureCookiesEnabled||this.wt.crossDomainTracking||this.Dt.isSameSiteNoneSecureNeeded()?Li.Yes:Li.No},t.prototype.isSameSiteSupported=function(){return this.Lt},t.prototype.set=function(t,n,i){var r=Pi.toExpireDate(i);Pi.set(t,n,this.qt,r,this.getSameSiteFlag(),this.getSecureFlag())},t.prototype.get=function(t){var n=new csRegExp("(^|;)[ ]*".concat(t,"=([^;]*)")).exec(document.cookie);return n?decodeURIComponent(n[2]):null},t.prototype.delete=function(t,n){var i=n||this.qt;Pi.remove(t,i)},t.prototype.Vt=function(){var t=this.Dt.isSameSiteNoneSecureNeeded()&&this.isSameSiteSupported(),n=t?Di.None:void 0,i=t?Li.Yes:void 0;return Pi.getRootDomain(n,i)},t.prototype.Gt=function(t){return this.wt.allowSubdomains?t:Pi.CURRENT_DOMAIN},t.CURRENT_DOMAIN="CURRENT_DOMAIN",t.COOKIE_TEST_FOR_SAME_SITE="_cs_same_site",t}(),Fi="_cs_t",Bi=function(){function t(t,n){this.Jt=t,this.wt=n,this.Yt=!1,this.Wt=!1}return t.prototype.init=function(){if(!this.wt.cookielessTrackingEnabled&&this.Jt.isTopWindowTracker()&&"cookie"in document){if(!this.Jt.isInIframeContext()&&Pi.isCookiePresent())return this.Yt=!0,void(this.Wt=!1);if(Pi.set(Fi,"1",Pi.CURRENT_DOMAIN),null!==Pi.get(Fi))return this.Yt=!0,this.Wt=!1,void Pi.remove(Fi,Pi.CURRENT_DOMAIN);Pi.set(Fi,"1",Pi.CURRENT_DOMAIN,void 0,Di.None,Li.Yes),null!==Pi.get(Fi)&&(this.Yt=!0,this.Wt=!0,Pi.remove(Fi,Pi.CURRENT_DOMAIN))}},t.prototype.areCookiesEnabled=function(){return this.Yt},t.prototype.isSameSiteNoneSecureNeeded=function(){return this.Wt},t}();var zi,Vi=function(){function t(t,n){this.wt=t,this.Dt=n}return t.prototype.canTrack=function(){return this.wt.isProjectActive()&&this.$t()&&this.Xt()&&this.Kt()},t.prototype.canTrackInChild=function(){return this.wt.isProjectActive()&&this.Zt()&&(this.Xt()||this.Qt())},t.prototype.Kt=function(){return this.wt.cookielessTrackingEnabled?function(){var t="CSSessionStorageTest";try{return sessionStorage.setItem(t,t),sessionStorage.getItem(t)===t&&(sessionStorage.removeItem(t),!0)}catch(t){return!1}}():this.Dt.areCookiesEnabled()},t.prototype.Xt=function(){return Ei(window.location.hostname,this.wt.hostnames)},t.prototype.$t=function(){return!this.tn()&&this.nn()},t.prototype.Zt=function(){return!this.tn()&&this.rn()},t.prototype.Qt=function(){return"about:"===window.location.protocol&&""===window.location.hostname},t.prototype.tn=function(){return"visibilityState"in document&&"prerender"===document.visibilityState},t.prototype.nn=function(){return this.en()&&this.un()},t.prototype.rn=function(){return this.en()},t.prototype.un=function(){try{return!!window.localStorage}catch(t){return!1}},t.prototype.en=function(){return"pageXOffset"in window&&"pageYOffset"in window&&"onpagehide"in window&&"JSON"in window&&"parse"in window.csJSON&&"stringify"in window.csJSON&&"addEventListener"in window&&"removeEventListener"in window&&"Node"in window&&"filter"in csArray.prototype&&"forEach"in csArray.prototype&&"querySelectorAll"in document&&"now"in csDate&&"keys"in Object&&"performance"in window&&"Map"in window&&"Set"in window},t}(),Gi=function(){function t(n,i){var r=this;this.cn=!1,this.hn=new Map,this.an=new Map,this.fn=new Map,this.ln="CS_WORKER_SIGNATURE";var e="\n    const algorithm = ".concat(n.algorithm,";\n    const compressor = (").concat(n.getCompressorSourceCode(),")();\n    ").concat('!function(){"use strict";var e,t=function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};function r(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))}function n(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e.UNCOMPRESSED="0",e.GZIP="2"}(e||(e={}));var o,a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},s=function(){function r(e){var t,r=this;this.queryParams={},this.headers={},this.handleRecoveredRequests=function(e){var t,n;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),a=o.next();!a.done;a=o.next()){var s=a.value,i=s.metadata,c=s.events;r.send(c,i)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},this.endpoint=e.endpoint,this.compressionOpts=e.compressionOpts,this.recoveryStorage=e.recoveryStorage,this.mandatoryParameters=null!==(t=e.mandatoryParameters)&&void 0!==t?t:[],this.worker=!!e.worker,this.recoveryStorage&&this.recoveryStorage.recover(this.handleRecoveredRequests)}return r.prototype.setQueryParams=function(e){var t=this;Object.keys(e).forEach((function(r){t.queryParams[r]=e[r]}))},r.prototype.removeQueryParams=function(e){var t=this;e?e.forEach((function(e){delete t.queryParams[e]})):this.queryParams={}},r.prototype.send=function(r,n){var o=this,s=n||t({},this.queryParams),i=!("ct"in s),c="string"!=typeof r&&!this.isArrayBuffer(r);"ct"in s||(this.compressionOpts&&i?s.ct=this.compressionOpts.compressionType:s.ct=e.UNCOMPRESSED);var u=c?JSON.stringify(r):r,h=Object.keys(s).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(s[e]))})).join("&"),f="".concat(this.endpoint,"?").concat(h);!function(e,t){for(var r=e.length,n=0;n<r;n++)if(t(e[n],n))return!0;return!1}(this.mandatoryParameters,(function(e){return null==s[e]}))?this.compressionOpts&&i&&"string"==typeof u?this.compressionOpts.compressor(u,this.compressionOpts.compressionOutputType,(function(e){return o.doSend(f,s,e)})):this.doSend(f,s,u):a("[".concat(this.worker?"WORKER":"MAIN","] All mandatory parameters are not present on ").concat(f))},r.prototype.onLoad=function(e){this.onLoadCallback=e},r.prototype.onError=function(e){this.onErrorCallback=e},r.prototype.onTimeout=function(e,t){this.onTimeoutCallback=e,this.timeout=t},r.prototype.abort=function(){this.abortCurrentXhrCall&&this.abortCurrentXhrCall()},r.prototype.setRequestHeader=function(e,t){this.headers[e]=t},r.prototype.getQueryParams=function(){return this.queryParams},r.prototype.isArrayBuffer=function(e){return e&&void 0!==e.byteLength},r.prototype.doSend=function(e,t,r){var n=this,o=new XMLHttpRequest,a=Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&");o.open("POST",e),o.onload=function(){if(n.recoveryStorage&&n.recoveryStorage.recover(n.handleRecoveredRequests),n.onLoadCallback){var e={params:t,responseText:o.responseText,status:o.status};n.onLoadCallback(e)}},o.onerror=function(){n.recoveryStorage&&n.recoveryStorage.save({key:a,metadata:t,events:r}),n.onErrorCallback&&n.onErrorCallback({params:t})},this.timeout&&this.onTimeoutCallback&&(o.timeout=this.timeout,o.ontimeout=function(){n.onTimeoutCallback()}),this.abortCurrentXhrCall=function(){return o.abort()},Object.keys(this.headers).forEach((function(e){o.setRequestHeader(e,n.headers[e])})),o.send(r)},r}(),i=function(){function e(e){this.maxStoredBytes=e,this.storageBytesUsed=0}return e.prototype.addString=function(e){this.storageBytesUsed+=2*e.length},e.prototype.addArrayBuffer=function(e){this.storageBytesUsed+=e.byteLength},e.prototype.isThresholdReached=function(){return this.storageBytesUsed>this.maxStoredBytes},e.prototype.reset=function(){this.storageBytesUsed=0},e}(),c=function(){function e(e){this.ramStorage={},this.byteSizeCounter=new i(e)}return e.prototype.save=function(e){var t=e.key,r=e.metadata,n=e.events;this.byteSizeCounter.isThresholdReached()||(this.byteSizeCounter.addString(t),"string"==typeof n?this.byteSizeCounter.addString(n):this.byteSizeCounter.addArrayBuffer(n),this.byteSizeCounter.isThresholdReached()||(this.ramStorage[t]={metadata:r,events:n}))},e.prototype.recover=function(e){var t=this,r=[];this.getStorageKeys().forEach((function(e){var n=t.ramStorage[e];void 0!==n&&(delete n.metadata.datatype,r.push(n),t.removeItem(e))})),0!==r.length&&(e(r),this.byteSizeCounter.reset())},e.prototype.getStorageKeys=function(){return Object.keys(this.ramStorage)},e.prototype.removeItem=function(e){delete this.ramStorage[e]},e}();!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",e[e.OPEN_FAILED=2]="OPEN_FAILED",e[e.READY=3]="READY"}(o||(o={}));var u=function(){function e(e,t,r){this.storageName=e,this.onOpenError=r,this.cacheState=o.NOT_STARTED,this.toBeSavedBuffer=[],this.recoveryInProgress=0,this.origin=self.origin,this.context="object"==typeof window?"":"worker-",this.byteSizeCounter=new i(t),this.init()}return e.prototype.init=function(){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.openCache()];case 1:return e.sent(),this.cacheState===o.READY?this.flushToBeSavedBuffer():this.onOpenError(this.toBeSavedBuffer),[2]}}))}))},e.prototype.flushToBeSavedBuffer=function(){var e=this;this.toBeSavedBuffer.forEach((function(t){e.save(t)})),this.toBeSavedBuffer=[]},e.prototype.save=function(e){return r(this,void 0,void 0,(function(){var t,r,a;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.cacheState===o.OPEN_IN_PROGRESS?(this.toBeSavedBuffer.push(e),[2]):this.cacheState!==o.READY||this.byteSizeCounter.isThresholdReached()?[2]:(t=e.key,r=e.metadata,a=e.events,this.byteSizeCounter.addString(t),"string"==typeof a?this.byteSizeCounter.addString(a):this.byteSizeCounter.addArrayBuffer(a),this.byteSizeCounter.isThresholdReached()?[2]:[4,this.cache.put("".concat(this.origin,"/").concat(t),new Response(a,{headers:r}))]);case 1:case 2:return n.sent(),[3,3];case 3:return[2]}}))}))},e.prototype.recover=function(e){return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return this.cache?[3,2]:[4,this.openCache()];case 1:if(t.sent(),this.cacheState!==o.READY)return[2];t.label=2;case 2:return this.doRecover(e),[2]}}))}))},e.prototype.openCache=function(){return r(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.cacheState=o.OPEN_IN_PROGRESS,e=this,[4,self.caches.open("".concat(this.context).concat(this.storageName))];case 1:return e.cache=t.sent(),this.cacheState=o.READY,[3,3];case 2:return t.sent(),this.cacheState=o.OPEN_FAILED,[3,3];case 3:return[2]}}))}))},e.prototype.doRecover=function(e){return r(this,void 0,void 0,(function(){var t,r,o,a,s=this;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,6,7]),this.recoveryInProgress++,this.recoveryInProgress>1?[2]:[4,this.cache.keys()];case 1:return 0===(t=n.sent()).length?[2]:[4,this.cache.matchAll()];case 2:return r=n.sent(),o=r.map((function(e){var t={};e.headers.forEach((function(e,r){t[r]=e})),delete t["content-type"];var r=t.datatype;return delete t.datatype,"json"===r||"base64"===r?e.text().then((function(e){return{metadata:t,events:e}})):e.arrayBuffer().then((function(e){return{metadata:t,events:e}}))})),[4,Promise.all(o)];case 3:return a=n.sent(),[4,Promise.all(t.map((function(e){return s.cache.delete(e)})))];case 4:return n.sent(),e(a),this.byteSizeCounter.reset(),[3,7];case 5:return n.sent(),[3,7];case 6:return this.recoveryInProgress--,[7];case 7:return[2]}}))}))},e}(),h=function(){function e(e){try{this.initializeStorageStrategy(e)}catch(e){this.setRamStorageStrategy()}}return e.prototype.initializeStorageStrategy=function(e){self.caches?this.setCachesStrategy(e):this.setRamStorageStrategy()},e.prototype.save=function(e){this.storageStrategy.save(e)},e.prototype.recover=function(e){this.storageStrategy.recover(e)},e.prototype.setCachesStrategy=function(t){var r=this;this.storageStrategy=new u(t,e.MAX_SIZE,(function(e){r.setRamStorageStrategy(e)}))},e.prototype.setRamStorageStrategy=function(t){var r=this;this.storageStrategy=new c(e.MAX_SIZE),t&&t.forEach((function(e){r.storageStrategy.save(e)}))},e.MAX_SIZE=16777216,e}();!function(){var e="CS_WORKER_SIGNATURE",t=new Map,o=new h("csPersisted");function a(r){var n;if((n=r)&&n.WORKER_SIGNATURE===e)switch(r.type){case"CreatePostRequest":var a=r.endpoint,i=r.compressionOutputType,c=r.useRetry,u=r.mandatoryParameters,h={endpoint:a,mandatoryParameters:u,worker:!0};i&&(h.compressionOpts={compressor:compressor,compressionOutputType:i,compressionType:algorithm}),c&&(h.recoveryStorage=o);var f=new s(h);t.set(a,f),f.onLoad((function(t){var r={type:"onLoad",endpoint:a,response:t,WORKER_SIGNATURE:e};self.postMessage(r)})),f.onError((function(t){var r={type:"onError",endpoint:a,response:t,WORKER_SIGNATURE:e};self.postMessage(r)}));break;case"SetQueryParams":var p=r.endpoint,y=r.queryParams;(f=t.get(p))&&f.setQueryParams(y);break;case"RemoveQueryParams":p=r.endpoint,y=r.queryParams,(f=t.get(p))&&f.removeQueryParams(y);break;case"Send":p=r.endpoint;var d=r.payload;y=r.queryParams,(f=t.get(p))&&f.send(d,y);break;case"Abort":p=r.endpoint,(f=t.get(p))&&f.abort();break;case"SetHeader":p=r.endpoint;var l=r.headerName,v=r.headerValue;(f=t.get(p))&&f.setRequestHeader(l,v);break;case"SetTimeout":var S=r.endpoint,m=r.timeout;(f=t.get(S))&&f.onTimeout((function(){var t={type:"onTimeout",endpoint:S,WORKER_SIGNATURE:e};self.postMessage(t)}),m);break;default:throw new Error(JSON.stringify(r))}}self.addEventListener("message",(function(e){e.data.getReader?function(e,t){r(this,void 0,void 0,(function(){var r,o,a,s;return n(this,(function(n){switch(n.label){case 0:r=e.getReader(),n.label=1;case 1:return[4,r.read()];case 2:return o=n.sent(),a=o.done,s=o.value,a?[3,3]:(t(s),[3,1]);case 3:return[2]}}))}))}(e.data,a):a(e.data)}))}()}();');try{this.vn=this.dn(i||e),this.cn=!0,t.isTransferableStreamSupported()&&(this.yn=new ReadableStream({start:function(t){r.wn=t},cancel:function(){r.wn=null}}),this.vn.postMessage(this.yn,[this.yn]))}catch(t){this.cn=!1}}return t.prototype.postMessage=function(t){t.WORKER_SIGNATURE=this.ln,this.wn?this.wn.enqueue(t):this.vn.postMessage(t)},t.prototype.dn=function(t){var n=this,i=window.csURL||window.webkitURL,r=window.Blob,e=window.Worker,s=new r([t],{type:"application/javascript"}),o=i.createObjectURL(s);Ui.whiteListFilename(o);var u=new e(o);return u.onmessage=function(t){var i=t.data,r=i.type,e=i.endpoint;if(i.WORKER_SIGNATURE===n.ln)if("onLoad"===r){var s=t.data.response;(o=n.hn.get(e))&&o(s)}else if("onError"===r){s=t.data.response;(o=n.an.get(e))&&o(s)}else if("onTimeout"===r){var o;(o=n.fn.get(e))&&o()}},u},t.prototype.registerOnLoadCallback=function(t,n){this.hn.set(t,n)},t.prototype.registerOnErrorCallback=function(t,n){this.an.set(t,n)},t.prototype.registerOnTimeoutCallback=function(t,n){this.fn.set(t,n)},t.prototype.isSupported=function(){return this.cn},t.isTransferableStreamSupported=function(){try{var t=new ReadableStream;return structuredClone(t,{transfer:[t]}),!0}catch(t){return!1}},t}(),Ji=function(){function t(t){var n;this.mn={},this.gn=t.endpoint,this.Sn=t.networkWorker,this.bn=t.compressionOutputType,this.En=t.useRetry,this.Sn.postMessage({type:"CreatePostRequest",endpoint:this.gn,compressionOutputType:this.bn,useRetry:this.En,mandatoryParameters:null!==(n=t.mandatoryParameters)&&void 0!==n?n:[]})}return t.prototype.setQueryParams=function(t){var n=this;this.Sn.postMessage({type:"SetQueryParams",endpoint:this.gn,queryParams:t}),csArray.prototype.forEach.call(Object.keys(t),(function(i){n.mn[i]=t[i]}))},t.prototype.getQueryParams=function(){return this.mn},t.prototype.removeQueryParams=function(t){var n=this;this.Sn.postMessage({type:"RemoveQueryParams",endpoint:this.gn,queryParams:t}),t&&csArray.prototype.forEach.call(t,(function(t){delete n.mn[t]}))},t.prototype.send=function(t,n){this.Sn.postMessage({type:"Send",endpoint:this.gn,payload:t,queryParams:n})},t.prototype.abort=function(){this.Sn.postMessage({type:"Abort",endpoint:this.gn})},t.prototype.onLoad=function(t){this.Sn.registerOnLoadCallback(this.gn,t)},t.prototype.onError=function(t){this.Sn.registerOnErrorCallback(this.gn,t)},t.prototype.setRequestHeader=function(t,n){this.Sn.postMessage({type:"SetHeader",endpoint:this.gn,headerName:t,headerValue:n})},t.prototype.onTimeout=function(t,n){this.Sn.registerOnTimeoutCallback(this.gn,t),this.Sn.postMessage({type:"SetTimeout",endpoint:this.gn,timeout:n})},t}();!function(t){t.UNCOMPRESSED="0",t.GZIP="2"}(zi||(zi={}));var Yi=function(t){this.onError=t},Wi=function(){function t(t){var n,i=this;this.mn={},this.An={},this.Rn=function(t){var n,r;try{for(var e=gn(t),s=e.next();!s.done;s=e.next()){var o=s.value,u=o.metadata,c=o.events;i.send(c,u)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}},this.gn=t.endpoint,this.On=t.compressionOpts,this.Tn=t.recoveryStorage,this.mandatoryParameters=null!==(n=t.mandatoryParameters)&&void 0!==n?n:[],this.worker=!!t.worker,this.Tn&&this.Tn.recover(this.Rn)}return t.prototype.setQueryParams=function(t){var n=this;Object.keys(t).forEach((function(i){n.mn[i]=t[i]}))},t.prototype.removeQueryParams=function(t){var n=this;t?t.forEach((function(t){delete n.mn[t]})):this.mn={}},t.prototype.send=function(t,n){var i=this,r=n||dn({},this.mn),e=!("ct"in r),s="string"!=typeof t&&!this.Nn(t);"ct"in r||(this.On&&e?r.ct=this.On.compressionType:r.ct=zi.UNCOMPRESSED);var o=s?JSON.stringify(t):t,u=Object.keys(r).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r[t]))})).join("&"),c="".concat(this.gn,"?").concat(u);rn(this.mandatoryParameters,(function(t){return null==r[t]}))?Pt.warn("[".concat(this.worker?"WORKER":"MAIN","] All mandatory parameters are not present on ").concat(c)):this.On&&e&&"string"==typeof o?this.On.compressor(o,this.On.compressionOutputType,(function(t){return i.kn(c,r,t)})):this.kn(c,r,o)},t.prototype.onLoad=function(t){this.Cn=t},t.prototype.onError=function(t){this.In=t},t.prototype.onTimeout=function(t,n){this.Mn=t,this.xn=n},t.prototype.abort=function(){this.Pn&&this.Pn()},t.prototype.setRequestHeader=function(t,n){this.An[t]=n},t.prototype.getQueryParams=function(){return this.mn},t.prototype.Nn=function(t){return t&&void 0!==t.byteLength},t.prototype.kn=function(t,n,i){var r=this,e=new XMLHttpRequest,s=Object.keys(n).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n[t]))})).join("&");e.open("POST",t),e.onload=function(){if(r.Tn&&r.Tn.recover(r.Rn),r.Cn){var t={params:n,responseText:e.responseText,status:e.status};r.Cn(t)}},e.onerror=function(){r.Tn&&r.Tn.save({key:s,metadata:n,events:i}),r.In&&r.In({params:n})},this.xn&&this.Mn&&(e.timeout=this.xn,e.ontimeout=function(){r.Mn()}),this.Pn=function(){return e.abort()},Object.keys(this.An).forEach((function(t){e.setRequestHeader(t,r.An[t])})),e.send(i)},t}(),$i=function(){function t(t){this._n=t,this.Sn=new Gi(this._n)}return t.prototype.create=function(t,n,i,r,e){if(void 0===e&&(e=[]),this.Sn.isSupported()&&n)return new Ji({networkWorker:this.Sn,endpoint:t,compressionOutputType:i,useRetry:!!r,mandatoryParameters:e});var s=i?{compressor:this._n.compress,compressionOutputType:i,compressionType:this._n.algorithm}:void 0;return new Wi({endpoint:t,compressionOpts:s,recoveryStorage:r})},t}(),Xi=function(){function t(t,n,i,r,e){this.Ct=t,this.It=n,this.Dn=i,this.Ln=r,this.wt=e}return t.prototype.get=function(){return{exclusion:this.Dn.getAppliedTrackingDraw(),visitor:this.Ct.getVisitor(),session:this.It.getSession(),cvars:this.Ln.getCustomVariablesSession()}},t.prototype.apply=function(t){t&&(t.exclusion?this.exclude():this.include(t))},t.prototype.exclude=function(){this.Dn.exclude(this.wt),this.Ct.removeVisitor(),this.It.removeSession(),this.Ln.removeCustomVariablesSession()},t.prototype.include=function(t){this.Dn.removeExclusion(),this.Ct.setVisitor(t.visitor),t.session?this.It.setSession(t.session):this.It.removeSession(),t.cvars?this.Ln.setCustomVariableSession(t.cvars):this.Ln.removeCustomVariablesSession()},t}();function Ki(){var t=new Error,n=t.stack?csArray.prototype.filter.call(csString.prototype.split.call(t.stack,"\n"),(function(t){return"Error"!==t&&-1===csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(t),"promise ")&&-1===csString.prototype.indexOf.call(t,"[native code]")&&-1===csString.prototype.indexOf.call(t,"(<anonymous>)")})):[];if(0===n.length)return"";var i=function(t){return t.length>0?Zi(t[0]):""}(n);return""===i?"":(n=function(t,n){return csArray.prototype.filter.call(t,(function(t){return-1===csString.prototype.indexOf.call(t,n)}))}(n,i),0===n.length?"":Zi(n[0]))}function Zi(t){var n,i="";n=t;var r=(-1!==csString.prototype.indexOf.call(n,"@")?new csRegExp("@(.+):(\\d+):(\\d+)$"):new csRegExp("\\((.+):(\\d+):(\\d+)\\)")).exec(t);return r&&(i=r[1]),i}var Qi=function(t){return t};function tr(t,n){var i=csSymbol.for(n);if(t[i])return t[i];var r=Object.getOwnPropertyDescriptor(t,n);if(!(null==r?void 0:r.writable)&&!(null==r?void 0:r.set))return Pt.warn("Cannot intercept read only function '".concat(csString(n),"' of object '").concat(t,"'")),null;var e=new Set;t[i]=e;var s,o,u=t[n];if("function"==typeof u){var c=function(){var t=arguments,n=[];try{n=csArray.prototype.map.call(on(e),(function(n){return n(t)}))}catch(t){Pt.error(t)}var i=u.apply(this,t);try{for(var r=0;r<n.length;r++)n[r]({result:i,context:this,args:t})}catch(t){Pt.error(t)}return i};(s=c).prototype=(o=u).prototype,Object.defineProperty(s,"toString",{value:function(){return o.toString()}}),t[n]=c}return e}function nr(t){var n=t.target,i=t.methodName,r=t.hook,e=t.hookPrepareArgs,s=void 0===e?Qi:e,o=t.options,u=tr(n,i);if(!u)return null;var c=function(t){var n=s(t),i=(null==o?void 0:o.withCallerName)?{callerName:Ki()}:{};return function(t){return r(pt(pt(pt({},t),i),{args:n}))}};return{activate:function(){u.add(c)},deactivate:function(){u.delete(c)}}}function ir(t,n,i){var r=function(t,n){var i=csSymbol.for(n);if(t[i])return t[i];var r=new Set,e=Object.getOwnPropertyDescriptor(t,n);return e?e.configurable?(t[i]=r,Object.defineProperty(t,n,{set:function(){var t,i=this,s=arguments,o=this[n],u=null===(t=e.set)||void 0===t?void 0:t.apply(this,s);try{r.forEach((function(t){return t(i,s[0],o)}))}catch(t){Pt.error(t)}return u}}),r):(Pt.warn("Cannot intercept read only property '".concat(csString(n),"' of object '").concat(t,"'")),null):r}(t,n);if(!r)return null;var e=function(t,n,r){return i(t,n,r)};return{activate:function(){r.add(e)},deactivate:function(){r.delete(e)}}}var rr=function(){function t(t){this.Un=t,this.Un=Dt("DocumentShadowRootObserver:callback",(function(n,i){return t(n,i)}))}var n;return t.jn=function(t){this.qn.forEach((function(n){t(n,"initial")}))},t.Hn=function(t){var n,i,r=this;if(this.Fn||(this.Fn=new csMutationObserver((function(t){var n,i;try{for(var e=Et(t),s=e.next();!s.done;s=e.next()){var o=s.value;o.target.isConnected&&tn(o.addedNodes,r.Bn),tn(o.removedNodes,r.zn)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}}))),csArray.prototype.push.call(this.Vn,t),!this.Gn){this.Gn=!0,this.Fn.observe(document,this.Jn);try{for(var e=Et(Yt.getAllShadowHosts(document)),s=e.next();!s.done;s=e.next()){var o=s.value,u=csElementshadowRoot.apply(o);this.qn.add(u),this.Fn.observe(u,this.Jn)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}this.Yn||(this.Yn=nr({target:Element.prototype,methodName:"attachShadow",hook:function(t){return t.result.isConnected&&r.Wn(t.result)}})),this.Yn.activate()}this.jn(t)},t.$n=function(t){var n,i;this.Vn=csArray.prototype.filter.call(this.Vn,(function(n){return n!==t})),0===this.Vn.length&&(this.Vn=[],this.Gn=!1,null===(n=this.Fn)||void 0===n||n.disconnect(),null===(i=this.Yn)||void 0===i||i.deactivate(),this.qn.clear())},Object.defineProperty(t.prototype,"shadowRoots",{get:function(){return on(n.qn)},enumerable:!1,configurable:!0}),t.prototype.takeRecords=function(){var t,i;return null!==(i=null===(t=n.Fn)||void 0===t?void 0:t.takeRecords())&&void 0!==i?i:[]},t.prototype.observe=function(){Yt.isSupported()&&n.Hn(this.Un)},t.prototype.disconnect=function(){Yt.isSupported()&&n.$n(this.Un)},n=t,t.Vn=[],t.qn=new Set,t.Gn=!1,t.Jn={childList:!0,subtree:!0},t.Wn=function(t){n.qn.has(t)||(n.Fn.observe(t,n.Jn),n.qn.add(t),tn(n.Vn,(function(n){return n(t,"added")})))},t.Bn=function(t){kt(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(n.Wn)},t.zn=function(t){t.isConnected||kt(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll((function(t){n.qn.has(t)&&(n.qn.delete(t),tn(n.Vn,(function(n){return n(t,"removed")})))}))},gt([_t()],t.prototype,"observe",null),gt([_t()],t.prototype,"disconnect",null),t}(),er=!0;function sr(t,n){void 0===n&&(n=er),t.boundElement.addEventListener(t.type,t.listener,n)}function or(t,n){void 0===n&&(n=er),t.boundElement.removeEventListener(t.type,t.listener,n)}function ur(t,n){void 0===n&&(n=0);var i=Math.pow(10,n);return Math.round(t*i)/i}function cr(t,n){"number"==typeof n&&(n={wait:n});var i,r=n.wait;if(n.ignoreThrottledCalls){var e=0;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=ei();if(s-e>r)return e=s,t.apply(this,n)}}var s,o=[],u=null,c=0,h=function(){c=ei(),u=null,s=t.apply(i,o)},a=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var a=ei(),f=r-(a-c);return i=null!=this?this:window,o=Rt([],At(n),!1),f<=0||f>r?(c=a,s=t.apply(i,o),u?(window.csClearTimeout(u),u=null):o=[]):u||(u=window.csSetTimeout(h,f)),s};return a.cancel=function(){u&&(window.csClearTimeout(u),c=0,u=null,o=[])},a.flushPending=function(){u&&(window.csClearTimeout(u),h())},a}var hr,ar,fr,lr,vr,dr=function(t){return function(n,i,r){r.value=cr(r.value,t)}};function yr(t){var n=csEventtarget.apply(t);return n&&1===n.nodeType&&csElementshadowRoot.apply(n)&&t.composedPath?t.__csOriginalTarget||t.composedPath()[0]:n}!function(t){t[t.MUTATION_INSERT=1]="MUTATION_INSERT",t[t.MUTATION_REMOVE=2]="MUTATION_REMOVE",t[t.MUTATION_ATTRIBUTE=3]="MUTATION_ATTRIBUTE",t[t.MUTATION_CHARACTER_DATA=4]="MUTATION_CHARACTER_DATA",t[t.INITIAL_DOM=5]="INITIAL_DOM",t[t.SCROLL=6]="SCROLL",t[t.CLICK=8]="CLICK",t[t.RESIZE=9]="RESIZE",t[t.INPUT_CHECKABLE=10]="INPUT_CHECKABLE",t[t.INPUT_SELECT=11]="INPUT_SELECT",t[t.INPUT_TEXT=12]="INPUT_TEXT",t[t.HASH_CHANGE=13]="HASH_CHANGE",t[t.UNANONYMIZED_CONSENT_GRANTED=14]="UNANONYMIZED_CONSENT_GRANTED",t[t.UNANONYMIZED_CONSENT_WITHDRAWN=15]="UNANONYMIZED_CONSENT_WITHDRAWN",t[t.MOUSE_OVER=16]="MOUSE_OVER",t[t.VISIBILITY_CHANGE=17]="VISIBILITY_CHANGE",t[t.STYLESHEET_RULE_INSERT=18]="STYLESHEET_RULE_INSERT",t[t.STATIC_RESOURCE_URL=19]="STATIC_RESOURCE_URL",t[t.PERFORMANCE_TIMINGS=20]="PERFORMANCE_TIMINGS",t[t.ATTACH_SHADOW=22]="ATTACH_SHADOW",t[t.STYLESHEET_CSS_TEXT_UPDATE=23]="STYLESHEET_CSS_TEXT_UPDATE",t[t.JAVASCRIPT_ERROR=26]="JAVASCRIPT_ERROR",t[t.PAGE_EVENT=27]="PAGE_EVENT",t[t.API_ERROR=28]="API_ERROR",t[t.TEXT_VISIBILITY=29]="TEXT_VISIBILITY",t[t.MUTATION_ENCRYPTED_CHARACTER_DATA=30]="MUTATION_ENCRYPTED_CHARACTER_DATA",t[t.INPUT_ENCRYPTED_TEXT=31]="INPUT_ENCRYPTED_TEXT",t[t.KEY_DOWN=32]="KEY_DOWN",t[t.KEY_UP=33]="KEY_UP",t[t.CLIPBOARD_COMMAND=34]="CLIPBOARD_COMMAND",t[t.STYLESHEET_RULE_DELETE=37]="STYLESHEET_RULE_DELETE",t[t.USER_IDENTIFIER=38]="USER_IDENTIFIER",t[t.TOUCH_START=41]="TOUCH_START",t[t.TOUCH_MOVE=42]="TOUCH_MOVE",t[t.TOUCH_END=43]="TOUCH_END",t[t.GESTURE_RECOGNITION=44]="GESTURE_RECOGNITION",t[t.POINTER_DOWN=47]="POINTER_DOWN",t[t.POINTER_MOVE=48]="POINTER_MOVE",t[t.POINTER_UP=49]="POINTER_UP",t[t.CUSTOM_ERROR=50]="CUSTOM_ERROR",t[t.CUSTOM_ELEMENT_REGISTRATION=54]="CUSTOM_ELEMENT_REGISTRATION",t[t.REGISTER_ADOPTED_STYLE_SHEET=60]="REGISTER_ADOPTED_STYLE_SHEET",t[t.SET_ADOPTED_STYLE_SHEETS=61]="SET_ADOPTED_STYLE_SHEETS",t[t.ADOPTED_STYLESHEET_RULE_INSERT=62]="ADOPTED_STYLESHEET_RULE_INSERT",t[t.ADOPTED_STYLESHEET_RULE_DELETE=63]="ADOPTED_STYLESHEET_RULE_DELETE",t[t.SCREEN_RESIZE=65]="SCREEN_RESIZE",t[t.RESOURCE_HASHES=66]="RESOURCE_HASHES",t[t.PERFORMANCE_NAVIGATION_TIMING=67]="PERFORMANCE_NAVIGATION_TIMING",t[t.PERFORMANCE_RESOURCE_TIMING=68]="PERFORMANCE_RESOURCE_TIMING",t[t.RECORDING_INFO_EVENT=72]="RECORDING_INFO_EVENT",t[t.TEXT_REF=73]="TEXT_REF",t[t.TOUCH_CANCEL=74]="TOUCH_CANCEL",t[t.MUTATION_MOVE=75]="MUTATION_MOVE",t[t.STYLESHEET_RULE_UPDATE=76]="STYLESHEET_RULE_UPDATE",t[t.ADOPTED_STYLESHEET_RULE_UPDATE=77]="ADOPTED_STYLESHEET_RULE_UPDATE",t[t.VIDEO_PLAY=78]="VIDEO_PLAY",t[t.VIDEO_PAUSE=79]="VIDEO_PAUSE",t[t.VIDEO_SEEK=80]="VIDEO_SEEK",t[t.DEBUG=999]="DEBUG"}(hr||(hr={})),function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Fourth=3]="Fourth",t[t.Fifth=4]="Fifth"}(ar||(ar={})),function(t){t[t.SWIPE=0]="SWIPE",t[t.PINCH_IN=1]="PINCH_IN",t[t.PINCH_OUT=2]="PINCH_OUT",t[t.LONG_PRESS=3]="LONG_PRESS",t[t.TAP=4]="TAP",t[t.DOUBLE_TAP=5]="DOUBLE_TAP"}(fr||(fr={})),function(t){t[t.SPACE=0]="SPACE",t[t.ENTER=1]="ENTER",t[t.BACKSPACE=2]="BACKSPACE",t[t.DELETE=3]="DELETE",t[t.ARROWUP=4]="ARROWUP",t[t.ARROWDOWN=5]="ARROWDOWN",t[t.ARROWLEFT=6]="ARROWLEFT",t[t.ARROWRIGHT=7]="ARROWRIGHT",t[t.CAPSLOCK=8]="CAPSLOCK",t[t.SHIFT=9]="SHIFT",t[t.TAB=10]="TAB",t[t.ALPHANUMERICAL=11]="ALPHANUMERICAL",t[t.ESCAPE=12]="ESCAPE",t[t.END=13]="END",t[t.ALT=14]="ALT",t[t.CTRL=15]="CTRL",t[t.META=16]="META"}(lr||(lr={})),function(t){t[t.COPY=0]="COPY",t[t.CUT=1]="CUT",t[t.PASTE=2]="PASTE"}(vr||(vr={}));var wr,pr=!!window.chrome,mr="data-cs-scroll-container";!function(t){t.isEventOnScrollContainer=function(t){return!!(k(t)&&function(t){try{if(k(csEventtarget.apply(t)))return!0}catch(t){}return!1}(t)&&I(csEventtarget.apply(t))&&null!==csEventtarget.apply(t).getAttribute(mr))},t.getScrollContainer=function(){return window.csquerySelector[document.nodeType].call(document,"[".concat(mr,"]"))}}(wr||(wr={}));var gr,Sr,br=(gr=csSymbol.for("propStore"),{getStore:function(t){return t[gr]},get:function(t,n){var i=t[gr];return null==i?void 0:i[n]},set:function(t,n,i){var r=t[gr];r||(r={},t[gr]=r),r[n]=i}});!function(t){function n(t,n){i(t,void 0,n)}function i(t,n,r){var e,s,o=!1;if(r(t,n,(function(){return o=!0})),!o){var u=t.shadowRoot;u&&i(u,t,r);var c=t.children;if(null==c?void 0:c.length)try{for(var h=p(c),a=h.next();!a.done;a=h.next()){var f=a.value;if(f&&(i(f,t,r),o))break}}catch(t){e={error:t}}finally{try{a&&!a.done&&(s=h.return)&&s.call(h)}finally{if(e)throw e.error}}}}t.setProperty=function(t,n,i){var r;t instanceof Node?br.set(t,n,i):(null!==(r=t.props)&&void 0!==r||(t.props={}),t.props[n]=i)},t.getProperty=function(t,n){var i;return t instanceof Node?br.get(t,n):null===(i=t.props)||void 0===i?void 0:i[n]},t.getProperties=function(t){return t instanceof Node?br.getStore(t):t.props},t.findDescendant=function(t,i){var r=null;return n(t,(function(t,n,e){return i(t)&&(r=t)&&!!e()})),r},t.traverse=n}(Sr||(Sr={}));var Er=1,Ar=csSymbol("nodeIdentifier");function Rr(t){var n=Sr.getProperty(t,Ar);return null!=n?n:(Sr.setProperty(t,Ar,Er++),Sr.getProperty(t,Ar))}var Or,Tr;function Nr(t){if(Or||(Or=document.createElement("div")),!(!!t&&R(t)))return Pt.warn("isValidSelector: invalid selector provided '".concat(t,"'")),!1;try{return nt.call(Or,t),!0}catch(n){return Pt.warn("isValidSelector: invalid selector provided '".concat(t,"'")),!1}}function kr(t,n){if(it)return it.call(t,n);var i=t;do{if(nt.call(i,n))return i;i=null==i?void 0:i.parentElement}while(null!==i&&1===i.nodeType);return null}!function(t){var n;!function(t){t[t.NotMasked=0]="NotMasked",t[t.Parent=1]="Parent",t[t.Child=2]="Child"}(n=t.MaskedElementState||(t.MaskedElementState={})),t.maskedProp="masked",t.maskedAttributeProp="maskedAttribute",t.isSelectorUserInput=function(t){return!!(T(t)&&"Attributes"in t&&"PIISelectors"in t)&&(t.Attributes instanceof Array&&t.PIISelectors instanceof Array)},t.sanitizeSelectorUserInput=function(t){return T(t)&&null!==t?("Attributes"in t||(t.Attributes=[]),"PIISelectors"in t||(t.PIISelectors=[]),t):(Pt.implementation("setPIISelectors called with invalid input of type ".concat(typeof t,": ").concat(csJSON.stringify(t))),{Attributes:[],PIISelectors:[]})},t.getMaskedElementDetails=function(i){var r;return null!==(r=Sr.getProperty(i,t.maskedProp))&&void 0!==r?r:{state:n.NotMasked}},t.getMaskedAttributeDetails=function(n){var i;return null!==(i=Sr.getProperty(n,t.maskedAttributeProp))&&void 0!==i?i:{attributes:[]}},t.isMaskedElement=function(i){var r=Sr.getProperty(i,t.maskedProp);return(null==r?void 0:r.state)===n.Parent},t.isMaskedElementChild=function(i){var r=Sr.getProperty(i,t.maskedProp);return(null==r?void 0:r.state)===n.Child},t.isMaskedAttribute=function(n,i){var r=Sr.getProperty(n,t.maskedAttributeProp);return(null==(null==r?void 0:r.attributes)?void 0:csArray.prototype.indexOf.call(null==r?void 0:r.attributes,i))>-1},t.setMaskedElementProperty=function(n,i){Sr.setProperty(n,t.maskedProp,i)},t.unsetMaskedElementProperty=function(n){Sr.setProperty(n,t.maskedProp,void 0)},t.setMaskedAttributeProperty=function(n,i){Sr.setProperty(n,t.maskedAttributeProp,i)},t.getComputedSelectorSettings=function(t,n){var i,r=csArray.prototype.filter.call(t.PIISelectors,(function(t){return Nr(t)}));n.elementSelector.length>0&&(i=csArray.prototype.push).call.apply(i,g([r],m(csString.prototype.split.call(n.elementSelector,",")),!1));var e,s,o=function(t){var n,i,r,e;if(t.length<=1)return t;var s=[];try{for(var o=p(t),u=o.next();!u.done;u=o.next()){var c=u.value,h=csString.prototype.split.call(c,",");try{for(var a=(r=void 0,p(h)),f=a.next();!f.done;f=a.next()){var l=f.value;-1===csArray.prototype.indexOf.call(s,l)&&csArray.prototype.push.call(s,l)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return s}(g([],m(r),!1)),u={elementSelector:csArray.prototype.join.call(o,","),attrSelector:n.attrSelector,attrSelectors:n.attrSelectors};return csArray.prototype.forEach.call(t.Attributes,(function(t){(null==t?void 0:t.attrName)&&(null==t?void 0:t.selector)&&Nr(t.selector)&&!function(t,n){return csArray.prototype.some.call(t,(function(t){return t.selector===n.selector&&t.attrName===n.attrName}))}(u.attrSelectors,t)&&csArray.prototype.push.call(u.attrSelectors,t)})),u.attrSelector=(e=u.attrSelectors,s="",csArray.prototype.forEach.call(e,(function(t){var n=csString.prototype.split.call(t.selector,",");csArray.prototype.forEach.call(n,(function(t){Nr(t)&&(s&&(s+=","),s+=t)}))})),s),u}}(Tr||(Tr={}));var Cr=function(){function t(){var t=this;this.eventType="user",this.Xn=[],this.Kn=[{type:"pointerup",listener:function(n){return t.pointerUpListener(n)},boundElement:document},{type:"pointermove",listener:function(n){return t.pointerMoveListener(n)},boundElement:document},{type:"pointerdown",listener:function(n){return t.pointerDownListener(n)},boundElement:document}],this.Zn=[{type:"touchstart",listener:function(n){return t.touchStartListener(n)},boundElement:document},{type:"touchmove",listener:function(n){return t.touchMoveListener(n)},boundElement:document},{type:"touchend",listener:function(n){return t.touchEndCancelListener(n)},boundElement:document},{type:"touchcancel",listener:function(n){return t.touchEndCancelListener(n)},boundElement:document}],this.Qn=[{type:"click",listener:function(n){return t.clickListener(n)},boundElement:document},{type:"keyup",listener:function(n){return t.keyUpListener(n)},boundElement:document},{type:"keydown",listener:function(n){return t.keyDownListener(n)},boundElement:document},{type:"copy",listener:function(n){return t.copyListener(n)},boundElement:document},{type:"cut",listener:function(n){return t.cutListener(n)},boundElement:document},{type:"paste",listener:function(n){return t.pasteListener(n)},boundElement:document},{type:"scroll",listener:function(n){return t.scrollListener(csEventtarget.apply(n))},boundElement:document},{type:"mouseover",listener:function(n){return t.mouseOverListener(n)},boundElement:document}],this.ti=[{type:"scroll",listener:function(n){return t.scrollListener(csEventtarget.apply(n))}}];var n=function(t){if(!R(t))return null;var n=/iP(ad|hone|od).+Version\/(\d+)\..*Safari/i.exec(t);return n?Number(n[2]):null}(window.navigator.userAgent);(null===n||n&&n>=16)&&csArray.prototype.push.call(this.ti,{type:"mouseover",listener:function(n){return t.mouseOverListener(n)}}),this.ni=new rr((function(n,i){switch(i){case"initial":case"added":t.ii(n);break;case"removed":t.ei(n)}}))}return t.prototype.init=function(){this.si(),this.oi(),this.ui()},t.prototype.onEvent=function(t){csArray.prototype.push.call(this.Xn,t)},t.prototype.ci=function(t,n){void 0===n&&(n=!1),csArray.prototype.forEach.call(this.Xn,(function(i){return i(t,n)}))},t.prototype.start=function(){this.hi(),this.ii(document),this.ni.observe()},t.prototype.stop=function(){this.ei(document),this.ni.disconnect()},t.prototype.oi=function(){var t;this.ai()&&(t=csArray.prototype.push).call.apply(t,bn([this.Qn],Sn(this.Kn),!1))},t.prototype.si=function(){var t;this.fi()&&(t=csArray.prototype.push).call.apply(t,bn([this.Qn],Sn(this.Zn),!1))},t.prototype.ii=function(t){G(t)?csArray.prototype.forEach.call(this.Qn,(function(t){return sr(t)})):csArray.prototype.forEach.call(this.ti,(function(n){sr({type:n.type,listener:n.listener,boundElement:t})}))},t.prototype.ei=function(t){G(t)?csArray.prototype.forEach.call(this.Qn,(function(t){return or(t)})):csArray.prototype.forEach.call(this.ti,(function(n){or({type:n.type,listener:n.listener,boundElement:t})}))},t.prototype.ai=function(){return"PointerEvent"in window&&"function"==typeof window.PointerEvent},t.prototype.fi=function(){return"TouchEvent"in window&&"function"==typeof window.TouchEvent},t.prototype.hi=function(){this.li()},t.prototype.li=function(){var t=wr.getScrollContainer()||document,n=Rr(t),i=this.yi(t);if(0!==i.top||0!==i.left){var r={type:hr.SCROLL,args:[n,i.left,i.top],date:ei()};this.ci(r,!0)}},t.prototype.yi=function(t){return t===document?{top:window.pageYOffset,left:window.pageXOffset}:{top:t.scrollTop,left:t.scrollLeft}},t.prototype.scrollListener=function(t){if(!Tr.isMaskedElement(t)&&!Tr.isMaskedElementChild(t)){var n=Rr(t),i=this.yi(t),r={type:hr.SCROLL,args:[n,i.left,i.top],date:ei()};this.ci(r)}},t.prototype.mouseOverListener=function(t){if(!Tr.isMaskedElementChild(t.target)){var n=Rr(t.target),i={type:hr.MOUSE_OVER,args:[n],date:ei()};this.ci(i)}},t.prototype.clickListener=function(t){var n=yr(t);if(!Tr.isMaskedElementChild(n)){var i=Rr(n),r={type:hr.CLICK,args:[i],date:ei()};this.ci(r)}},t.prototype.keyUpListener=function(t){var n=yr(t);if(!Tr.isMaskedElementChild(n)){var i=Rr(n),r=this.wi[t.key];if(void 0!==r){var e={type:hr.KEY_UP,args:[i,r],date:ei()};this.ci(e)}}},t.prototype.keyDownListener=function(t){var n=yr(t);if(!Tr.isMaskedElementChild(n)){var i=Rr(n),r=this.wi[t.key];if(void 0!==r){var e={type:hr.KEY_DOWN,args:[i,r],date:ei()};this.ci(e)}}},t.prototype.copyListener=function(t){var n=yr(t);if(!Tr.isMaskedElementChild(n)){var i=Rr(n),r={type:hr.CLIPBOARD_COMMAND,args:[i,vr.COPY],date:ei()};this.ci(r)}},t.prototype.cutListener=function(t){var n=yr(t);if(!Tr.isMaskedElementChild(n)){var i=Rr(n),r={type:hr.CLIPBOARD_COMMAND,args:[i,vr.CUT],date:ei()};this.ci(r)}},t.prototype.pasteListener=function(t){var n=yr(t);if(!Tr.isMaskedElementChild(n)){var i=Rr(n),r={type:hr.CLIPBOARD_COMMAND,args:[i,vr.PASTE],date:ei()};this.ci(r)}},t.prototype.pointerUpListener=function(t){var n=yr(t);if(!Tr.isMaskedElementChild(n)){var i=Rr(n),r={type:hr.POINTER_UP,args:[t.pointerId,t.pointerType,ur(t.clientX,1),ur(t.clientY,1),i,t.button],date:ei()};this.ci(r)}},t.prototype.pointerMoveListener=function(t){var n={type:hr.POINTER_MOVE,args:[t.pointerId,t.pointerType,ur(t.clientX,1),ur(t.clientY,1)],date:ei()};this.ci(n)},t.prototype.pointerDownListener=function(t){var n=yr(t);if(!Tr.isMaskedElementChild(n)){var i=Rr(n),r={type:hr.POINTER_DOWN,args:[t.pointerId,t.pointerType,ur(t.clientX,1),ur(t.clientY,1),i,t.button,{pageX:ur(t.pageX,1),pageY:ur(t.pageY,1)}],date:ei()};this.ci(r)}},t.prototype.touchStartListener=function(t){if(t.changedTouches)for(var n=t.changedTouches,i=0;i<n.length;i+=1){var r=n[i],e={type:hr.TOUCH_START,args:[r.identifier,ur(r.clientX,1),ur(r.clientY,1)],date:ei()};this.ci(e)}},t.prototype.touchMoveListener=function(t){if(t.changedTouches)for(var n=t.changedTouches,i=0;i<n.length;i+=1){var r=n[i],e={type:hr.TOUCH_MOVE,args:[r.identifier,ur(r.clientX,1),ur(r.clientY,1)],date:ei()};this.ci(e)}},t.prototype.touchEndCancelListener=function(t){if(t.changedTouches)for(var n=t.changedTouches,i=0;i<n.length;i+=1){var r=n[i],e={type:"touchend"===t.type?hr.TOUCH_END:hr.TOUCH_CANCEL,args:[r.identifier,ur(r.clientX,1),ur(r.clientY,1)],date:ei()};this.ci(e)}},t.prototype.ui=function(){this.wi={},this.wi[" "]=lr.SPACE,this.wi.Spacebar=lr.SPACE,this.wi.Backspace=lr.BACKSPACE,this.wi.Enter=lr.ENTER,this.wi.Delete=lr.DELETE,this.wi.ArrowUp=lr.ARROWUP,this.wi.ArrowDown=lr.ARROWDOWN,this.wi.ArrowLeft=lr.ARROWLEFT,this.wi.ArrowRight=lr.ARROWRIGHT,this.wi.Up=lr.ARROWUP,this.wi.Down=lr.ARROWDOWN,this.wi.Left=lr.ARROWLEFT,this.wi.Right=lr.ARROWRIGHT,this.wi.CapsLock=lr.CAPSLOCK,this.wi.Shift=lr.SHIFT,this.wi.Tab=lr.TAB,this.wi.Escape=lr.ESCAPE,this.wi.Esc=lr.ESCAPE,this.wi.End=lr.END,this.wi.Alt=lr.ALT,this.wi.Control=lr.CTRL,this.wi.Meta=lr.META},wn([Xt("RecordingPageEvents.start")],t.prototype,"start",null),wn([_t("scroll")],t.prototype,"scrollListener",null),wn([_t("mouseOver"),qi(),function(t,n,i){var r=i.value;return r&&(i.value=function(t){if(yr(t)===csEventtarget.apply(t))return r.call(this,t)}),i}],t.prototype,"mouseOverListener",null),wn([_t("click"),qi()],t.prototype,"clickListener",null),wn([_t("Event handler type: keyup")],t.prototype,"keyUpListener",null),wn([_t("Event handler type: keydown")],t.prototype,"keyDownListener",null),wn([_t("Event handler type: copy")],t.prototype,"copyListener",null),wn([_t("Event handler type: cut")],t.prototype,"cutListener",null),wn([_t("Event handler type: paste")],t.prototype,"pasteListener",null),wn([_t("Event handler type: pointerup"),qi()],t.prototype,"pointerUpListener",null),wn([_t("Event handler type: pointermove"),qi(),dr({wait:33,ignoreThrottledCalls:!1})],t.prototype,"pointerMoveListener",null),wn([_t("Event handler type: pointerdown"),qi()],t.prototype,"pointerDownListener",null),wn([_t("Event handler type: touchstart"),qi()],t.prototype,"touchStartListener",null),wn([_t("Event handler type: touchmove"),qi()],t.prototype,"touchMoveListener",null),wn([_t("Event handler type: touchend-cancel"),qi()],t.prototype,"touchEndCancelListener",null),t}(),Ir=function(){function t(t){this.pi=t,this.mi=0}return t.prototype.addString=function(t){this.mi+=2*t.length},t.prototype.addArrayBuffer=function(t){this.mi+=t.byteLength},t.prototype.isThresholdReached=function(){return this.mi>this.pi},t.prototype.reset=function(){this.mi=0},t}(),Mr=function(){function t(t,n){void 0===t&&(t=[]),void 0===n&&(n=2048e3),this.gi=t,this.Si=new Ir(n)}return t.prototype.addEvent=function(t){this.Si.addString(kn(t)),csArray.prototype.push.call(this.gi,t)},t.prototype.addEventByTimestamp=function(t){for(var n=0;n<this.gi.length;n+=1){if(this.gi[n].date>=t.date)break}csArray.prototype.splice.call(this.gi,n,0,t)},t.prototype.eventsCount=function(){return this.gi.length},t.prototype.clearEvents=function(){this.Si.reset(),this.gi=[]},t.prototype.isFull=function(){return this.eventsCount()>=200},t.prototype.isThresholdReached=function(){return this.Si.isThresholdReached()},t.prototype.getEvents=function(){return this.gi},t.prototype.extractEvents=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=[],r=[];return csArray.prototype.forEach.call(this.gi,(function(n){-1!==csArray.prototype.indexOf.call(t,n.type)?csArray.prototype.push.call(i,n):csArray.prototype.push.call(r,n)})),this.gi=r,i},t.prototype.stringifyEvents=function(){return kn(this.gi)},t.prototype.bi=function(t){t.type===hr.INITIAL_DOM&&(window.CSDomSerialized=window.CSDomSerialized?window.CSDomSerialized+1:1)},wn([Xt("RecordingBatch.addEvent")],t.prototype,"addEvent",null),t}(),xr=function(){function t(){this.Ei=1}return t.prototype.getCurrentIndex=function(){return this.Ei},t.prototype.increment=function(){this.Ei+=1},t.prototype.reset=function(){this.Ei=1},t.prototype.getRequestParameters=function(){return{ri:"".concat(this.Ei)}},t}(),Pr=function(){function t(){}return t.prototype.emit=function(n,i,r,e){void 0===e&&(e=document);var s="".concat(void 0!==r?r:t.Ai),o="".concat(s).concat(n),u=t.createEvent(o,{detail:i});null!==u&&e.dispatchEvent(u)},t.createEvent=function(t,n){if(void 0===n&&(n={}),"function"==typeof CustomEvent)return new CustomEvent(t,n);var i=this.Ri();if(null===i)return null;var r=n.bubbles,e=void 0!==r&&r,s=n.cancelable,o=void 0!==s&&s,u=n.detail;return i.initCustomEvent(t,e,o,u),i},t.Ri=function(){try{return document.createEvent("CustomEvent")}catch(t){return null}},t.Ai="cs.tracking.",t}(),_r=function(){function t(){this._isStarted=!1}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!1,configurable:!0}),t.prototype.start=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._isStarted||(this._isStarted=!0,this.onStart.apply(this,bn([],Sn(t),!1)))},t.prototype.stop=function(){this._isStarted&&(this._isStarted=!1,this.onStop())},t.prototype.restart=function(){this.stop(),this.start()},t}(),Dr="null",Lr=null,Ur=[];function jr(t){null==Lr||Lr.postMessage(t)}!r&&function(){var t;return r||!!(null===(t=document.body)||void 0===t?void 0:t.getAttribute("data-cs-tag-extension"))}()&&(window._uxa?_uxa.push(["debugEvents",!0]):window._uxa=[["debugEvents",!0]],Lr=new BroadcastChannel("cs-tag"),document.addEventListener("cs.tracking.recordingEvent",(function(t){jr({type:"UXA_EVENT",event:t.detail})})),Lr.addEventListener("message",(function(t){if("CONNECT"===t.data.type){if(t.data.sessionId===Dr)return;Dr=t.data.sessionId,csArray.prototype.forEach.call(Ur,(function(t){return t()})),null==Lr||Lr.postMessage({type:"CONNECTED",sessionId:Dr})}})));var qr,Hr,Fr,Br,zr,Vr=function(t,n){void 0===n&&(n=""),this.name=t,this.format=n},Gr=function(t){function n(n){var i=t.call(this,n,"Value: {count}")||this;return i.count=0,i}return wt(n,t),n.prototype.increase=function(t){void 0===t&&(t=1),this.count+=t},n.prototype.decrease=function(){this.count>0&&this.count--},n.prototype.clear=function(){this.count=0},n.prototype.getData=function(){return{count:this.count}},n}(Vr),Jr=(function(t){function n(n,i){var r=t.call(this,n,"Value: {count}")||this;return r.Oi=i,r}wt(n,t),n.prototype.getData=function(){return{count:this.Oi()}}}(Vr),function(t){function n(n){var i=t.call(this,n,"Living intances: {instances}<br/>Added: {added}<br/>Removed: {removed}")||this;return i.added=0,i.removed=0,i}return wt(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.added-this.removed},enumerable:!1,configurable:!0}),n.prototype.increase=function(){this.added++},n.prototype.decrease=function(){this.removed++},n.prototype.getData=function(){return{added:this.added,removed:this.removed,instances:this.added-this.removed}},n}(Vr)),Yr=function(t){function n(n){var i=t.call(this,n,"Count: {count}<br/>Average: {average}ms<br/>Total: {total}ms")||this;return i.total=0,i.count=0,i}return wt(n,t),Object.defineProperty(n.prototype,"average",{get:function(){return this.count?this.total/this.count:0},enumerable:!1,configurable:!0}),n.prototype.measure=function(t){var n=si();t(),this.count++,this.total+=si()-n},n.prototype.asyncMeasure=function(){var t=this,n=si();return function(){t.count++,t.total+=si()-n}},n.prototype.getData=function(){return{total:this.total,count:this.count,average:this.average}},n}(Vr),Wr={general:{category:"General",nbEvents:new Gr("Nb of Events"),pendingTasks:new Gr("Pending Tasks"),pendingEvents:new Gr("Pending Tasks"),nbOfMutationObservers:new Jr("Nb of Mutation Observers")},mutations:{category:"Mutations",initialDOM:new Yr("Initial DOM"),pendingMutations:new Gr("Nb of Mutations scheduled"),serializedMutations:new Yr("Serialized Mutations"),count:new Gr("Mutation Count"),elementMutationObserved:new Jr("Nb of Elements Observed by MutationObserver"),unobserveGarbageCollection:new Yr("Unobserve GC")},visibilityObserver:{category:"Visibility Observer",hiddenElements:new Gr("Nb of Hidden Elements "),nbElements:new Gr("Nb of  Elements")}},$r=null;function Xr(t){return hi(t,"data:")}function Kr(t){var n=csString.prototype.trim.call(t);if(""===t)return[];var i,r=At((i=n,csString.prototype.split.call(i,/\s(.+)/)),2),e=r[0],s=r[1];return s?(ai(e,",")||(s=function(t){return csString.prototype.split.call(t,/,(.+)/)[1]||""}(s)),Rt([Zr(e)],At(Kr(s)),!1)):[Zr(e)]}function Zr(t){return csString.prototype.split.call(t,/,$/)[0]}qr=function(){var t=function(t){return Object.keys(t)},n=csArray.prototype.map.call(t(Wr),(function(t){return Wr[t]})),i=csArray.prototype.map.call(n,(function(n){return csArray.prototype.filter.call(csArray.prototype.map.call(t(n),(function(t){return n[t]})),(function(t){return t instanceof Vr}))})),r=csArray.prototype.map.call(n,(function(t,n){return{category:t.category,performanceCounters:csArray.prototype.map.call(i[n],(function(t){return{name:t.name,format:t.format}}))}}));jr({type:"UXA_PERFORMANCE_COUNTER_SCHEMA",event:r}),$r||($r=csSetInterval((function(){var t=Qt(Zt(i,(function(t){return Zt(t,(function(t){return t.getData()}))})),(function(t){return t}));jr({type:"UXA_PERFORMANCE_COUNTER",event:t})}),1e3))},r||(null!==Dr&&csSetTimeout(qr),csSetTimeout((function(){return csArray.prototype.push.call(Ur,qr)}))),function(t){t.QUOTA_REACHED="X",t.RECORDING_RULES_TARGETING="8",t.ANALYTICS_ONLY_RULES_TARGETING="9",t.ANALYTICS_ONLY="0",t.RECORDING_GLOBAL_SAMPLING="5",t.RECORDING_TEMPORARILY="T",t.RECORDING_URL_SAMPLING="6",t.RECORDING_ETR_SAMPLING="7",t.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED="B",t.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN="W"}(Hr||(Hr={})),function(t){t.ETR_OFF="0",t.ETR_ON="1"}(Fr||(Fr={})),function(t){t.ETR_LEGACY="0",t.ETR_SESSION="1",t.ETR_PAGE="2"}(Br||(Br={})),function(t){t.ETR_DISABLED="0",t.ETR_PENDING="1",t.ETR_SAVED_PAGE="2",t.ETR_SAVED_SESSION="3",t.ETR_NOT_SAVED_SESSION="9"}(zr||(zr={}));var Qr=/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\))/g;function te(t,n){var i=csString.prototype.replace.call(t,Qr,(function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r,e,s=t[3]||t[4],o=t[9]||t[10]||t[11],u=(r=(s||o).trim(),e=/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g,csString.prototype.replace.call(r,e,(function(t,n,i,r){if("\\"===n)return csString.prototype.slice.call(t,1);if(r)return r;var e=parseInt(i,16);return 55296<=e&&e<=57343||0===e||e>1114111?"�":csString.fromCodePoint(e)}))),c=s?"@import ":"",h=n(u)||u;return"".concat(c,"url(").concat(function(t){if(-1===csString.prototype.indexOf.call(t,'"'))return'"'.concat(t,'"');if(-1===csString.prototype.indexOf.call(t,"'"))return"'".concat(t,"'");return t}(h),")")}));return i}function ne(t){var n=new Set;return te(t,(function(t){var i,r;return n.add(null!==(r=null===(i=csString.prototype.match.call(t,/^["|'](.*)?["|']$/))||void 0===i?void 0:i[1])&&void 0!==r?r:t),t})),on(n)}var ie=new Map,re=!r&&document.implementation.createHTMLDocument("");function ee(t){if(!j(t))return null;var n=se(t);if(null===n||0===n.length)return null;var i="";if(x(t.textContent))tn(n,(function(t){return i+=t.cssText}));else{var r=function(t){if(!re)return 0;var n=ie.get(t.textContent);if(n)return n;var i=t.cloneNode(!0);i.textContent=t.textContent,re.head.appendChild(i);var r=se(i);return n=r?r.length:0,ie.set(t.textContent,n),re.head.removeChild(i),n}(t);if(r===n.length)return null;if(r>n.length)return null;for(var e=new csArray(n.length-r),s=r,o=0;s<n.length;s+=1,o+=1)e[o]=n[s];tn(e,(function(t){return i+=t.cssText}))}return i}function se(t){try{if(t.disabled)return null;var n=t.sheet;return n?n.cssRules||n.rules:null}catch(t){if("SecurityError"!==t.name&&"InvalidAccessError"!==t.name)throw t;return null}}var oe=function(t){return t instanceof HTMLFormElement?"form":t.localName},ue=function(t){this.csId=Rr(t),this.props=br.getStore(t)},ce=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=3,i.data=n.data,i}return l(n,t),n}(ue),he=function(t){function n(n){var i,r=t.call(this,n)||this;r.attributes=[],r.nodeType=1,r.localName=oe(n),r.namespaceURI=null!==(i=n.namespaceURI)&&void 0!==i?i:void 0,r.children=[];var e=ee(n);if(e){r.children=new csArray(csNodechildNodes.apply(n).length);var s=document.createTextNode(e),o=new ce(s);csArray.prototype.push.call(r.children,o)}return B(n)&&Sr.setProperty(r,"SVG",!0),r}return l(n,t),n.isElement=function(t){return 1===t.nodeType},n.getAttribute=function(t,n){return nn(t.attributes,(function(t){return t.name===n}))},n.getAttributeValue=function(t,n){var i;return null===(i=this.getAttribute(t,n))||void 0===i?void 0:i.value},n}(ue),ae=function(){function t(t){var n=this;this.type="asyncEvent",this.Ti=!1,t&&t((function(t){return n.resolve(t)}))}return t.prototype.resolve=function(t){if(this.Ti)throw new Error("AsyncEvent already resolve.");null==t.timestamp&&(t=v(v({},t),{timestamp:this.timestamp})),this.Ni=t,this.Ti=!0,this.Un&&this.Un(this.Ni)},t.prototype.complete=function(t){this.Ti&&t(this.Ni),this.Un=t},t.prototype.wait=function(){var t=this;return new Promise((function(n){return t.complete(n)}))},t}();var fe,le,ve=(fe="queueMicrotask",le=csSetTimeout,void 0!==e[fe]?e[fe]:le);"object"==typeof window&&C(window.csQueueMicrotask)&&(ve=window.csQueueMicrotask);var de=new Lt,ye=new Lt,we=1;function pe(t,n){void 0===n&&(n="high");var i=we;de.isEmpty&&ye.isEmpty&&me((function(){if(we===i){var t=Jt((function(){for(;!ye.isEmpty;){ye.pop()()}for(;!de.isEmpty;){de.pop()()}ye.isEmpty||t()}),"groupMicrotask.run");t()}}));var r=t.name||t.toString(),e=Dt("groupMicrotask:".concat(n,":").concat(r),t);"high"===n?ye.push(e):de.push(e)}function me(t,n){void 0===n&&(n=10),ve(0===n?t:function(){return me(t,n-1)})}function ge(t){return void 0===t&&(t=1),St(this,void 0,void 0,(function(){var n;return bt(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<t?[4,new Promise((function(t){return pe(t)}))]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))}var Se=function(t,n){return void 0===n&&(n=0),csSetTimeout(function(t){return function(){try{t.apply(window,arguments)}catch(t){Pt.critical(t)}}}(t),n)};function be(){var t=new Set;return{add:function(n){t.add(n),1===t.size&&csSetTimeout((function(){t.clear()}))},has:function(n){return t.has(n)},del:function(n){t.delete(n)},clear:function(){t.clear()},values:function(){return on(t)},get count(){return t.size}}}function Ee(t,n){void 0===n&&(n=!1);var i=be();return{push:function(r){0===i.count&&(n?pe:csSetTimeout)((function(){t(i.values()),i.clear()}));i.add(r)}}}var Ae=csSymbol(),Re=function(){function t(t){var n,i,r,e,s,o,u,c,h=this;this.Un=t,this.ki=null,this.Ci=null,this.Ii=null,this.Mi=null,this.xi=Ee((function(t){return h.processUpdateRulesInATick(t)})),this.Un=function(n){return pe((function(){return t(n)}))},"function"==typeof(null===(i=null===(n=window.CSSStyleSheet)||void 0===n?void 0:n.prototype)||void 0===i?void 0:i.insertRule)&&(this.ki=nr({target:window.CSSStyleSheet.prototype,methodName:"insertRule",hook:function(t){var n=t.context,i=t.args;h.processInsertRule(n,i)}})),"function"==typeof(null===(e=null===(r=window.CSSStyleSheet)||void 0===r?void 0:r.prototype)||void 0===e?void 0:e.deleteRule)&&(this.Ci=nr({target:window.CSSStyleSheet.prototype,methodName:"deleteRule",hook:function(t){var n=t.context,i=t.args;h.processDeleteRule(n,i)}})),"function"==typeof(null===(o=null===(s=window.CSSGroupingRule)||void 0===s?void 0:s.prototype)||void 0===o?void 0:o.insertRule)&&(this.Ii=nr({target:window.CSSGroupingRule.prototype,methodName:"insertRule",hook:function(t){var n=t.context;return h.processUpdateRule(n)}})),"function"==typeof(null===(c=null===(u=window.CSSGroupingRule)||void 0===u?void 0:u.prototype)||void 0===c?void 0:c.deleteRule)&&(this.Mi=nr({target:window.CSSGroupingRule.prototype,methodName:"deleteRule",hook:function(t){var n=t.context;return h.processUpdateRule(n)}}))}return t.prototype.observe=function(){var t,n,i,r;null===(t=this.ki)||void 0===t||t.activate(),null===(n=this.Ci)||void 0===n||n.activate(),null===(i=this.Ii)||void 0===i||i.activate(),null===(r=this.Mi)||void 0===r||r.activate()},t.prototype.disconnect=function(){var t,n,i,r;null===(t=this.ki)||void 0===t||t.deactivate(),null===(n=this.Ci)||void 0===n||n.deactivate(),null===(i=this.Ii)||void 0===i||i.deactivate(),null===(r=this.Mi)||void 0===r||r.deactivate()},t.prototype.processInsertRule=function(t,n){var i=At(n,2),r=i[0],e=i[1];if(null!=t[Ae]||t.ownerNode){var s={type:"cssRuleInserted",sheet:t,rule:r,index:e};this.Un(s)}},t.prototype.processUpdateRule=function(t){for(var n=t;null!==n.parentRule;)n=n.parentRule;null!==n.parentStyleSheet&&this.xi.push(n)},t.prototype.processUpdateRulesInATick=function(t){var n,i;try{for(var r=Et(t),e=r.next();!e.done;e=r.next()){var s=e.value;if(null===s.parentStyleSheet)return;var o=s.parentStyleSheet,u=csArray.prototype.indexOf.call(Kt(o.cssRules),s);if(-1===u)return;var c={type:"cssRuleUpdated",sheet:o,rule:s.cssText,index:u};this.Un(c)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.processDeleteRule=function(t,n){var i=At(n,1)[0];if(null!=t[Ae]||t.ownerNode){var r={type:"cssRuleDeleted",sheet:t,index:i};this.Un(r)}},gt([_t()],t.prototype,"observe",null),gt([_t()],t.prototype,"disconnect",null),gt([_t()],t.prototype,"processInsertRule",null),gt([_t()],t.prototype,"processUpdateRule",null),gt([_t()],t.prototype,"processUpdateRulesInATick",null),gt([_t()],t.prototype,"processDeleteRule",null),t}(),Oe=function(){function t(t){var n=this;this.Pi=1,this._i=new Set,this.Di=null,this.Li=null,this.Ui=function(t,i){"initial"!==i&&"added"!==i||n.setStyleSheets(t,t.adoptedStyleSheets)},this.ji=function(t){var i=t.sheet;if(n._i.has(i))if("cssRuleInserted"===t.type){var r={type:"adoptedStyleSheetRuleInserted",sheetId:i[Ae],rule:t.rule,index:t.index};n.Un(r)}else if("cssRuleDeleted"===t.type){var e={type:"adoptedStyleSheetRuleDeleted",sheetId:i[Ae],index:t.index};n.Un(e)}else if("cssRuleUpdated"===t.type){var s={type:"adoptedStyleSheetRuleUpdated",sheetId:i[Ae],rule:t.rule,index:t.index};n.Un(s)}},this.Un=function(i){return pe((function(){return St(n,void 0,void 0,(function(){return bt(this,(function(n){switch(n.label){case 0:return[4,ge(2)];case 1:return n.sent(),t(i),[2]}}))}))}))},this.ni=new rr(this.Ui),"adoptedStyleSheets"in Document.prototype&&(this.Di=ir(window.Document.prototype,"adoptedStyleSheets",(function(t,i){n.setStyleSheets(t,i)}))),"ShadowRoot"in window&&"adoptedStyleSheets"in window.ShadowRoot.prototype&&(this.Li=ir(window.ShadowRoot.prototype,"adoptedStyleSheets",(function(t,i){n.setStyleSheets(t,i)}))),this.qi=new Re(this.ji)}return t.prototype.observe=function(){var t,n;this.setStyleSheets(document,document.adoptedStyleSheets),this.ni.observe(),null===(t=this.Di)||void 0===t||t.activate(),null===(n=this.Li)||void 0===n||n.activate(),this.qi.observe()},t.prototype.disconnect=function(){var t,n;this._i.clear(),this.ni.disconnect(),null===(t=this.Di)||void 0===t||t.deactivate(),null===(n=this.Li)||void 0===n||n.deactivate(),this.qi.disconnect()},t.prototype.setStyleSheets=function(t,n){if(n.length){this.Hi(n);var i={type:"adoptedStyleSheetsSet",target:t,sheetsIds:Zt(n,(function(t){return t[Ae]}))};this.Un(i)}},t.prototype.Hi=function(t){var n=this;tn(t,(function(t){if(!n._i.has(t)){var i=n.Pi++;t[Ae]=i,n._i.add(t);var r={type:"adoptedStyleSheetRegistered",sheetId:i,cssRules:n.Fi(t)};n.Un(r)}}))},t.prototype.Fi=function(t){var n=[];try{n=Zt(t.cssRules,(function(t){return t.cssText}))}catch(t){}return n},gt([_t()],t.prototype,"observe",null),gt([_t()],t.prototype,"disconnect",null),gt([_t()],t.prototype,"setStyleSheets",null),t}(),Te=Jt((function(t){var n,i,r,e,s=(u=new Set,c=new Set,h=new Set,a=new Set,f=new Map,l=new Map,v=new Map,d=new Set,y=new Set,w=new Map,p=new Set,{isMovedNode:function(t){return u.has(t)},markAsMovedNode:function(t){p.delete(t),u.add(t)},isDetachedMove:function(t){return!!un.findAncestor(t,(function(t){return p.has(t)}),!0)},isAddedNode:function(t){var n=un.findAncestor(t,(function(t){return c.has(t)||y.has(t)||u.has(t)}),!0);return!!n&&!u.has(n)},isMovedNodeIntoAddedNode:function(t){return u.has(t)&&!!un.findAncestor(t,(function(t){return c.has(t)||y.has(t)}),!0)},markAsAddedNode:function(t){p.delete(t),y.delete(t),c.add(t)},markAsPendingInsert:function(t){y.add(t)},isPendingInsert:function(t){return y.has(t)},isRemovedNode:function(t){return!!un.findAncestor(t,(function(t){return h.has(t)}),!0)},markAsRemovedNode:function(t){h.add(t)},isUselessNode:function(t){return a.has(t)},markAsUselessNode:function(t){a.add(t)},getPlaceholder:function(t,n){var i="previous"===n?l:f;return t&&i.has(t)?i.get(t)||null:t},getSiblings:function(t){var n=t.addedNodes.length,i=this.getPlaceholder(t.previousSibling,"previous"),r=this.getPlaceholder(t.nextSibling,"next");if(n)for(var e=i,s=r,o=t.previousSibling!==i,u=t.nextSibling!==r,c=0;c<n;c++){var h=t.addedNodes[c],a=t.addedNodes[n-c-1];this.isLatestNodeMutation(h,t)?(l.delete(h),t.previousSibling&&o&&(f.set(t.previousSibling,h),o=!1),e=h):l.set(h,e),this.isLatestNodeMutation(a,t)?(f.delete(a),t.nextSibling&&u&&(l.set(t.nextSibling,a),u=!1),s=a):f.set(a,s)}else t.previousSibling&&t.previousSibling!==i&&f.set(t.previousSibling,r),t.nextSibling&&t.nextSibling!==r&&l.set(t.nextSibling,i);return{previousSibling:i,nextSibling:r}},setAttributeMutation:function(t,n){var i=v.get(t)||new Set;i.add(n),v.set(t,i)},isAttributeMutated:function(t,n){var i;return!!(null===(i=v.get(t))||void 0===i?void 0:i.has(n))},setLatestNodeMutation:function(t,n){w.set(t,n)},isLatestNodeMutation:function(t,n){return w.get(t)===n},markAsFutureAddedNode:function(t){w.has(t)||p.add(t)},isTextMutated:function(t){return d.has(t)},setTextMutated:function(t){return d.add(t)}}),o=[];var u,c,h,a,f,l,v,d,y,w,p;try{for(var m=Et(t),g=m.next();!g.done;g=m.next()){"childList"===(E=g.value).type&&ke(E,s)}}catch(t){n={error:t}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}try{for(var S=Et(t),b=S.next();!b.done;b=S.next()){var E;switch((E=b.value).type){case"attributes":Ie(E,s,o);break;case"characterData":Ce(E,s,o);break;case"childList":xe(E,s,o)}}}catch(t){r={error:t}}finally{try{b&&!b.done&&(e=S.return)&&e.call(S)}finally{if(r)throw r.error}}return o}),"optimizeMutations"),Ne=csSymbol.for("ignoreNextSerialization");function ke(t,n){for(var i=0;i<t.addedNodes.length;i++){var r=t.addedNodes[i];n.markAsFutureAddedNode(r),n.setLatestNodeMutation(r,t)}for(i=0;i<t.removedNodes.length;i++){r=t.removedNodes[i];n.setLatestNodeMutation(r,t)}}function Ce(t,n,i){void 0===i&&(i=[]);var r=t.target;return!un.isConnected(r)||n.isTextMutated(r)||n.isAddedNode(r)||function(t,n,i){var r=csSymbol.for(i?"".concat(n,":").concat(i):n),e=ei(),s=t[r];if(s&&e<s)return!0;return t[r]=e+Me,!1}(r,"characterData")||(n.setTextMutated(r),csArray.prototype.push.call(i,t)),i}function Ie(t,n,i){void 0===i&&(i=[]);var r=t.target,e="".concat(t.attributeNamespace,"/").concat(t.attributeName);return!un.isConnected(r)||n.isAttributeMutated(r,e)||n.isAddedNode(r)||(n.setAttributeMutation(r,e),csArray.prototype.push.call(i,t)),i}var Me=30;function xe(t,n,i){void 0===i&&(i=[]);var r=un.isConnected(t.target),e=!r&&n.isRemovedNode(t.target),s=r&&n.isAddedNode(t.target),o=n.getSiblings(t),u=o.nextSibling,c=o.previousSibling,h=null,a=function(){if(h){var t=h.childListType,n=h.movedNodes,r=mt(h,["childListType","movedNodes"]);csArray.prototype.push.call(i,"added"===t?r:pt(pt({},r),{movedNodes:n})),h=null}},f=function(n){return n===(null==h?void 0:h.childListType)?h:(a(),{childListType:n,type:"childList",target:t.target,addedNodes:[],removedNodes:[],movedNodes:[],previousSibling:c,nextSibling:u})};if(r){for(var l=0;l<t.addedNodes.length;l++){var v=t.addedNodes[l];n.isLatestNodeMutation(v,t)?(n.isMovedNode(v)?(h=f("moved"),csArray.prototype.push.call(h.movedNodes,v)):(n.markAsAddedNode(v),s||(h=f("added"),csArray.prototype.push.call(h.addedNodes,v))),c=v):un.isConnected(v)?n.isMovedNode(v)||n.markAsPendingInsert(v):n.markAsUselessNode(v)}a()}var d=en(t.removedNodes,(function(t){if(un.isConnected(t)){if(!e&&!n.isPendingInsert(t)){if(n.isDetachedMove(t))return!0;n.markAsMovedNode(t),n.isMovedNodeIntoAddedNode(t)&&(t[Ne]=!0)}return!1}return!n.isUselessNode(t)&&(n.markAsRemovedNode(t),!0)}));return d.length&&csArray.prototype.push.call(i,{type:"childList",removedNodes:d,addedNodes:[],movedNodes:[],target:t.target,nextSibling:u,previousSibling:c}),i}var Pe={childList:!0,subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0},_e=function(){function t(t,n){var i=this;this.Un=t,this.Bi=n;var r=Ee((function(n){return t(n,i)}),!0);this.Un=Dt("DocumentMutationObserver:callback",(function(t){tn(t,(function(t){return r.push(t)}))}))}var n;return t.setShadowRootFilter=function(t){csArray.prototype.push.call(n.shadowRootFilters,t)},t.zi=function(t){if(n.shadowRootFilters.length>0&&J(t))for(var i=0;i<n.shadowRootFilters.length;i++){if((0,n.shadowRootFilters[i])(t))return}this.observedTargets.add(t),this.mutationObserver.observe(t,Pe)},t.disconnectShadowRoot=function(t){var i=this;this.observedTargets.has(t)&&(this.observedTargets.delete(t),this.isRefreshing||(this.isRefreshing=!0,pe((function(){i.isRefreshing=!1;var t=i.mutationObserver.takeRecords();t.length&&n.mutationCallback(t),i.mutationObserver.disconnect(),i.observedTargets.forEach((function(t){i.mutationObserver.observe(t,Pe)}))}))))},t.observe=function(t,n){var i=this;csArray.prototype.push.call(this.callbacks,t),n&&csArray.prototype.push.call(this.shadowRootCallbacks,n),this.started?n&&csArray.prototype.forEach.call(Yt.getAllShadowHosts(document),(function(t){return n(csElementshadowRoot.apply(t),"initial")})):(this.mutationObserver=new csMutationObserver(this.mutationCallback),this.zi(document),this.shadowRootObserver=new rr(this.onShadowRoot),this.shadowRootObserver.observe(),this.started=!0,tn(this.shadowRootObserver.shadowRoots,(function(t){i.zi(t)})))},t.disconnect=function(t,i){var r,e;this.callbacks=csArray.prototype.filter.call(this.callbacks,(function(n){return n!==t})),i&&(this.shadowRootCallbacks=csArray.prototype.filter.call(this.shadowRootCallbacks,(function(t){return t!==i}))),0===this.callbacks.length&&(this.callbacks=[],this.shadowRootCallbacks=[],n.shadowRootFilters=[],null===(r=this.shadowRootObserver)||void 0===r||r.disconnect(),null===(e=this.mutationObserver)||void 0===e||e.disconnect(),this.observedTargets.clear(),this.started=!1)},Object.defineProperty(t.prototype,"shadowRoots",{get:function(){var t,i;return null!==(i=null===(t=n.shadowRootObserver)||void 0===t?void 0:t.shadowRoots)&&void 0!==i?i:[]},enumerable:!1,configurable:!0}),t.prototype.takeRecords=function(){var t,i=null===(t=n.mutationObserver)||void 0===t?void 0:t.takeRecords(),r=n.shadowRootObserver.takeRecords();return(null==i?void 0:i.length)&&r.length?function(t,n,i){for(var r=t.length+n.length+((null==i?void 0:i.length)||0),e=new csArray(r),s=0,o=0;o<t.length;o++)e[s++]=t[o];for(o=0;o<n.length;o++)e[s++]=n[o];if(!i)return e;for(o=0;o<i.length;o++)e[s++]=i[o];return e}(i,r):null!=i?i:r},t.prototype.observe=function(){n.observe(this.Un,this.Bi)},t.prototype.disconnect=function(){n.disconnect(this.Un,this.Bi)},n=t,t.callbacks=[],t.shadowRootCallbacks=[],t.started=!1,t.observedTargets=new Set,t.shadowRootFilters=[],t.mutationCallback=function(t){Wr.mutations.count.increase(t.length),csArray.prototype.forEach.call(n.callbacks,(function(i){return i(t,n.mutationObserver)}))},t.onShadowRoot=function(t,i){tn(n.shadowRootCallbacks,(function(n){return n(t,i)})),"removed"!==i?n.zi(t):n.disconnectShadowRoot(t)},t.isRefreshing=!1,gt([_t()],t.prototype,"observe",null),gt([_t()],t.prototype,"disconnect",null),t}(),De=function(){function t(t){var n=this;this.Un=t,this.Vi=function(t){t.sheet.ownerNode&&("cssRuleInserted"===t.type?n.Un({type:t.type,target:t.sheet.ownerNode,rule:t.rule,index:t.index}):"cssRuleDeleted"===t.type?n.Un({type:t.type,target:t.sheet.ownerNode,index:t.index}):"cssRuleUpdated"===t.type&&n.Un({type:t.type,target:t.sheet.ownerNode,rule:t.rule,index:t.index}))},this.Un=function(n){return pe((function(){return t(n)}))},this.Gi=new Re((function(t){return pe((function(){return St(n,void 0,void 0,(function(){return bt(this,(function(n){switch(n.label){case 0:return[4,ge()];case 1:return n.sent(),this.Vi(t),[2]}}))}))}))})),"adoptedStyleSheets"in Document.prototype&&(this.Ji=new Oe(t))}return t.prototype.observe=function(){var t,n=this;this.Fn=new _e((function(t){return n.Yi(t)}),(function(t,i){"added"===i&&n.Wi(t)})),this.Fn.observe(),this.Gi.observe(),null===(t=this.Ji)||void 0===t||t.observe()},t.prototype.disconnect=function(){var t,n;null===(t=this.Fn)||void 0===t||t.disconnect(),this.Gi.disconnect(),null===(n=this.Ji)||void 0===n||n.disconnect()},t.prototype.Yi=function(t){for(var n=Te(t),i=0;i<n.length;i++){var r=n[i];if(r)switch(r.type){case"attributes":this.processAttributeChanged(r);break;case"characterData":this.processCharacterDataChanged(r);break;case"childList":this.processChildListChanged(r);break;default:Pt.error("processRawMutations: unknown record type '".concat(r.type,"'"))}else Pt.error("processRawMutations: empty record")}},t.prototype.processAttributeChanged=function(t){var n={type:"attributeChanged",target:t.target,attribute:t.attributeName,namespace:t.attributeNamespace,oldValue:t.oldValue,newValue:un.getAttributeNS(t.target,t.attributeNamespace,t.attributeName)};this.Un(n)},t.prototype.processCharacterDataChanged=function(t){var n={type:"characterDataChanged",target:t.target,oldValue:t.oldValue,newValue:t.target.data};this.Un(n)},t.prototype.processChildListChanged=function(t){var n,i,r;if(null===(n=t.movedNodes)||void 0===n?void 0:n.length){var e={type:"nodesMoved",target:t.target,nodes:t.movedNodes,previousSibling:t.previousSibling,nextSibling:t.nextSibling};this.Un(e)}if(null===(i=t.addedNodes)||void 0===i?void 0:i.length){var s={type:"nodesAdded",target:t.target,previousSibling:t.previousSibling,nextSibling:t.nextSibling,nodes:Kt(t.addedNodes)};this.Un(s)}if(null===(r=t.removedNodes)||void 0===r?void 0:r.length){var o={type:"nodesRemoved",target:t.target,nodes:Zt(t.removedNodes,(function(t){return t}))};this.Un(o)}},t.prototype.Wi=function(t){var n={type:"shadowRootAttached",target:t.host,shadowRoot:t};this.Un(n)},gt([_t()],t.prototype,"processAttributeChanged",null),gt([_t()],t.prototype,"processCharacterDataChanged",null),gt([_t()],t.prototype,"processChildListChanged",null),t}(),Le=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=4,i.data=n.data,i}return l(n,t),n}(ue),Ue=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=8,i.data=n.data,i}return l(n,t),n}(ue),je=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=10,i.name=n.name,i.publicId=n.publicId,i.systemId=n.systemId,i}return l(n,t),n}(ue),qe=function(t){function n(i){var r=t.call(this,i)||this;return r.nodeType=9,r.baseURI=n.getBaseURI(i),r.children=[],r}return l(n,t),n.getBaseURI=function(t){var n=t.baseURI;if(null==n){var i=t.getElementsByTagName("base");n=0!==i.length?i[0].href:t.URL}return n},n}(ue),He=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=11,i.mode=n.mode,i.children=[],i}return l(n,t),n}(ue),Fe=function(){function t(t,n,i){var r;"string"==typeof t?(this.name=t,this.value=n,this.namespaceURI=null!=i?i:""):(this.name=t.name,this.value=t.value,this.namespaceURI=null!==(r=t.namespaceURI)&&void 0!==r?r:"")}return t.create=function(n){for(var i,r,e=n.attributes,s=new csArray(e.length),o=0;o<s.length;o++){var u=e[o];s[o]=new t(u.name,u.value,u.namespaceURI),"href"===u.name&&U(n)&&(s[o].value=null!==(r=null===(i=n.sheet)||void 0===i?void 0:i.href)&&void 0!==r?r:u.value)}return s},t}(),Be={workTime:40,async:!0,initialDOM:!0},ze=(Je(),csSymbol("InitialDom")),Ve=csSymbol.for("ignoreNextSerialization");function Ge(t){return!!t[Ve]&&(delete t[Ve],!0)}function Je(t){return void 0===t&&(t=Be),function(n,i){var r;null!==(r=t.workTime)&&void 0!==r||(t.workTime=Be.workTime);var e,s=Dt("serialize:callback",(function(t){return i(t)})),o=new Lt,u=function(n,i){n.hasChildNodes()&&o.push({node:n,serializedNode:i});var r=n instanceof Element&&csElementshadowRoot.apply(n);if(r){var e=i.shadowRoot=We(r);t.async&&t.initialDOM&&Sr.setProperty(r,ze,!0),u(r,e)}},c=!0,h=8,a=Dt("work",(function(){var r;if(c)e=We(n),t.async&&t.initialDOM&&Sr.setProperty(n,ze,!0),u(n,e),c=!1;else if(o.isEmpty)return;for(var f=function(t){if(t<1)throw new Error("Precision should be >= 1");var n=0,i=performance.now();return{started:i,elapsed:function(){return++n%t==0&&(i=performance.now()),i-this.started}}}(100);!o.isEmpty;){if(t.async&&f.elapsed()>=t.workTime)return void(--h<=0&&csSetTimeout(a));var l=o.pop(),v=l.node,d=null!==(r=l.serializedNode.children)&&void 0!==r?r:[];if(!F(v))for(var y=0,w=csNodefirstChild.apply(v);w;w=csNodenextSibling.apply(w))if(!Ge(w)){var p=We(w);t.async&&t.initialDOM&&Sr.setProperty(w,ze,!0),d[y++]=p,u(w,p)}}t.async?csSetTimeout((function(){return s(e)})):i(e)}));if(t.async)for(var f=0;f<h;f++)csSetTimeout(a,1);else t.workTime=1/0,a()}}var Ye=Jt((function(t){var n=We(t),i=n;if(F(t))return n;for(var r=0,e=csNodefirstChild.apply(t);e;e=csNodenextSibling.apply(e))Ge(e)||(i.children[r++]=Ye(e));var s=t.shadowRoot;return s&&(i.shadowRoot=Ye(s)),n}),"serializeSync");function We(t){var n,i;switch(t.nodeType){case 1:i=n=new he(t),n.attributes=function(t){if(F(t))return[];return Fe.create(t)}(t);break;case 3:i=new ce(t);break;case 4:i=new Le(t);break;case 8:i=new Ue(t);break;case 10:i=new je(t);break;case 9:i=new qe(t);break;case 11:i=new He(t);break;default:throw new Error("Node type not supported: "+t.nodeType)}return i}var $e,Xe=function(){function t(){this.$i=[],this.isStarted=!1}return t.prototype.produceEvent=function(t){this.isStarted&&(t.timestamp=ei(),csArray.prototype.forEach.call(this.$i,(function(n){return n(t)})))},t.prototype.onStop=function(){},t.prototype.start=function(){this.isStarted||(this.isStarted=!0,this.onStart())},t.prototype.stop=function(){this.isStarted&&(this.isStarted=!1,this.onStop(),this.$i=[])},t.prototype.stopForInactivity=function(){this.isStarted&&(this.isStarted=!1,this.onStop())},t.prototype.subscribe=function(t){var n=this;return csArray.prototype.push.call(this.$i,t),function(){var i=csArray.prototype.indexOf.call(n.$i,t);csArray.prototype.splice.call(n.$i,i,1)}},t}(),Ke=Je(),Ze=function(t){function n(){var n=t.apply(this,g([],m(arguments),!1))||this;return n.Xi=!1,n}return l(n,t),n.prototype.onStart=function(){var t=this;this.Xi=!0,this.Un=function(t,n){var i=!1,r=function(){if(!i)return t.apply(n,arguments)};return r.cancel=function(){return i=!0},r}(this.Ki,this),this.Zi=new De(this.Un),this.Zi.observe();var n=Wr.mutations.initialDOM.asyncMeasure(),i=function(){t.Xi=!1,ze=csSymbol("InitialDom"),n()};this.produceEvent(new ae((function(t){return Ke(document,(function(n){i(),t({type:"DomEvent",domEvent:"initialDOM",initialDOM:n})}))})))},n.prototype.onStop=function(){var t,n;this.Xi=!1,null===(t=this.Un)||void 0===t||t.cancel(),null===(n=this.Zi)||void 0===n||n.disconnect()},n.prototype.Qi=function(t,n){var i={type:"DomEvent",domEvent:n.type,target:0,targetProps:{}};return"target"in n&&(i.target=Rr(n.target),i.targetProps=Sr.getProperties(n.target)),[n,i]},n.prototype.Ki=function(t){if(!this.tr(t))switch(t.type){case"attributeChanged":var n=m(this.Qi(t.type,t),2),i=n[0];(C=n[1]).attribute=i.attribute,C.isSvg=B(i.target),C.namespace=i.namespace,C.newValue=i.newValue,C.oldValue=i.oldValue,C.localName=oe(i.target),C.linkRel=D(i.target)?i.target.rel:null,C.parentLocalName=i.target.parentElement?oe(i.target.parentElement):void 0,"input"===C.localName&&(C.inputType=i.target.getAttribute("type")),this.produceEvent(C);break;case"characterDataChanged":var r=m(this.Qi(t.type,t),2),e=r[0];(C=r[1]).newValue=e.newValue,C.oldValue=e.oldValue,C.targetNodeType=e.target.nodeType,C.parentLocalName=e.target.parentElement?oe(e.target.parentElement):null,C.parentProps=e.target.parentElement?Sr.getProperties(e.target.parentElement):void 0,this.produceEvent(C);break;case"nodesAdded":var s=m(this.Qi(t.type,t),2),o=s[0],u=s[1];u.targetLocalName=P(o.target)?oe(o.target):null,u.nextSibling=o.nextSibling?Rr(o.nextSibling):null,u.previousSibling=o.previousSibling?Rr(o.previousSibling):null,Wr.mutations.serializedMutations.measure((function(){u.nodes=Zt(o.nodes,Ye)})),this.produceEvent(u);break;case"nodesMoved":var c=m(this.Qi(t.type,t),2),h=c[0];(C=c[1]).previousSibling=h.previousSibling?Rr(h.previousSibling):null,C.nextSibling=h.nextSibling?Rr(h.nextSibling):null,C.nodesIds=Zt(h.nodes,Rr),this.produceEvent(C);break;case"nodesRemoved":var a=m(this.Qi(t.type,t),2),f=a[0];(C=a[1]).nodesIds=Zt(f.nodes,Rr),this.produceEvent(C);break;case"shadowRootAttached":var l=m(this.Qi(t.type,t),2),v=l[0];(C=l[1]).shadowRoot=We(v.shadowRoot),this.produceEvent(C);break;case"cssRuleInserted":var d=m(this.Qi(t.type,t),2),y=d[0];(C=d[1]).index=y.index,C.rule=y.rule,this.produceEvent(C);break;case"cssRuleDeleted":var w=m(this.Qi(t.type,t),2),p=w[0];(C=w[1]).index=p.index,this.produceEvent(C);break;case"cssRuleUpdated":var g=m(this.Qi(t.type,t),2),S=g[0];(C=g[1]).rule=S.rule,C.index=S.index,this.produceEvent(C);break;case"adoptedStyleSheetRegistered":var b=m(this.Qi(t.type,t),2),E=b[0];(C=b[1]).sheetId=E.sheetId,C.cssRules=E.cssRules,this.produceEvent(C);break;case"adoptedStyleSheetsSet":var A=m(this.Qi(t.type,t),2),R=A[0];(C=A[1]).sheetsIds=R.sheetsIds,this.produceEvent(C);break;case"adoptedStyleSheetRuleInserted":var O=m(this.Qi(t.type,t),2),T=O[0];(C=O[1]).sheetId=T.sheetId,C.rule=T.rule,C.index=T.index,this.produceEvent(C);break;case"adoptedStyleSheetRuleDeleted":var N=m(this.Qi(t.type,t),2),k=N[0];(C=N[1]).sheetId=k.sheetId,C.index=k.index,this.produceEvent(C);break;case"adoptedStyleSheetRuleUpdated":var C,I=m(this.Qi(t.type,t),2),M=I[0];(C=I[1]).sheetId=M.sheetId,C.rule=M.rule,C.index=M.index,this.produceEvent(C)}},n.prototype.nr=function(t){return this.Xi&&!Sr.getProperty(t,ze)},n.prototype.tr=function(t){switch(t.type){case"nodesAdded":case"nodesMoved":case"nodesRemoved":case"shadowRootAttached":return this.nr(t.target)||Tr.isMaskedElement(t.target)||Tr.isMaskedElementChild(t.target);case"characterDataChanged":var n=t.target.parentElement;return null!==n&&(this.nr(n)||Tr.isMaskedElement(n)||Tr.isMaskedElementChild(n));case"attributeChanged":return this.nr(t.target)||Tr.isMaskedElementChild(t.target)||Tr.isMaskedAttribute(t.target,t.attribute);case"cssRuleInserted":case"cssRuleDeleted":case"cssRuleUpdated":return this.nr(t.target)||Tr.isMaskedElementChild(t.target);default:return!1}},n}(Xe);!function(t){t.isDOMEvent=function(t){return"DomEvent"===t.type}}($e||($e={}));var Qe,ts=function(){function t(){this.$i=[]}return t.prototype.start=function(){},t.prototype.stop=function(){this.$i.length=0,this.$i=[]},t.prototype.pushEvent=function(n){var i=this;if(t.pendingEvents++,this.isListening(n)){var r=this.$i;csSetTimeout((function(){var e=Dt("Processor:processEvent",(function(t){return i.processEvent(t)})),s=e(n);null!=s&&csArray.prototype.forEach.call(r,(function(t){return t(s)})),t.pendingEvents--}))}else csSetTimeout((function(){csArray.prototype.forEach.call(i.$i,(function(t){return t(n)}))}))},t.prototype.subscribe=function(t){var n=this;return csArray.prototype.push.call(this.$i,t),function(){n.$i=csArray.prototype.filter.call(n.$i,(function(n){return n!==t}))}},t.prototype.emitEvent=function(t){var n=this;pe((function(){return csArray.prototype.forEach.call(n.$i,(function(n){return n(t)}))}))},t.pendingEvents=0,t}();function ns(t){for(var n=new ArrayBuffer(t.length),i=new Uint8Array(n),r=0,e=t.length;r<e;r+=1)i[r]=csString.prototype.charCodeAt.call(t,r);return n}function is(t){for(var n=new Uint8Array(t),i="",r=0;r<n.byteLength;r+=1)i+=csString.fromCodePoint(n[r]);return i}function rs(t){return ns(self.atob(t))}function es(t){var n=csArray.from(new Uint8Array(t));return csArray.prototype.join.call(csArray.prototype.map.call(n,(function(t){return csString.prototype.padStart.call(t.toString(16),2,"0")})),"")}function ss(t){var n=-1!==csString.prototype.indexOf.call(t,";base64,"),i=csString.prototype.indexOf.call(t,","),r=n?[csString.prototype.substring.call(t,0,i-7),csString.prototype.substring.call(t,i+1)]:[csString.prototype.substring.call(t,0,i),csString.prototype.substring.call(t,i+1)];if(!n&&/^%3Csvg/i.test(r[1]))try{r[1]=decodeURIComponent(r[1])}catch(t){Pt.warn("".concat(t,", calling decodeURIComponent on: ").concat(r[1]))}var e=n?rs(r[1]):ns(r[1]);return new Blob([e],{type:csString.prototype.replace.call(r[0],"data:","")})}!function(t){t.ELLIPSIS="…",t.stringReplaceAll=function(t,n,i){if("replaceAll"in csString.prototype)return csString.prototype.replaceAll.call(t,n,i);var r,e=new csRegExp((r=n,csString.prototype.replace.call(r,/[.*+?^${}()|[\]\\]/g,"\\$&")),"g");return csString.prototype.replace.call(t,e,i)},t.truncate=function(t,n,i){return void 0===i&&(i=""),t.length<=n?t:csString.prototype.slice.call(t,0,n-i.length)+i}}(Qe||(Qe={}));var os,us=function(){function t(){}return t.toStaticResourceEvent=function(n,i,r){return y(this,void 0,void 0,(function(){var e,s,o,u;return w(this,(function(c){switch(c.label){case 0:return[4,t.ir(n)];case 1:return(e=c.sent())?[4,t.rr(e)]:[2,null];case 2:return s=c.sent(),o=Xr(n)?void 0:n,u={type:"StaticResourceManagerEvent",timestamp:r,resourceId:i,resource:{hash:s,data:e}},o&&(u.originalResourceName=o),[2,u]}}))}))},t.toCSSStaticResourceEvent=function(n,i,r,e){return y(this,void 0,void 0,(function(){var s,o,u,c;return w(this,(function(h){switch(h.label){case 0:return[4,t.er(n,e)];case 1:return s=h.sent(),o=Si(n),(u=s.get(o))?(c={type:"StaticResourceManagerEvent",timestamp:r,resourceId:i,resource:{hash:u.hash,data:u.data}},s.delete(o),s.size&&(c.nestedResources=[],s.forEach((function(t){t&&csArray.prototype.push.call(c.nestedResources,{hash:t.hash,data:t.data})}))),[2,c]):[2,null]}}))}))},t.rr=function(t){return y(this,void 0,void 0,(function(){var n;return w(this,(function(i){switch(i.label){case 0:return[4,t.arrayBuffer()];case 1:return n=i.sent(),[4,crypto.subtle.digest(this.ur,n)];case 2:return[2,es(i.sent())]}}))}))},t.ir=function(t){return y(this,void 0,void 0,(function(){var n,i;return w(this,(function(r){switch(r.label){case 0:return Xr(t)?[3,3]:[4,window.fetch(t)];case 1:return[4,r.sent().blob()];case 2:return n=r.sent(),[3,4];case 3:if(!(i=ss(t)))return[2,null];n=i,r.label=4;case 4:return[2,n]}}))}))},t.er=function(n,i){return y(this,void 0,void 0,(function(){var r,e,s,o,u,c,h,a,f,l,v,d,y,m,g,S,b,E;return w(this,(function(w){switch(w.label){case 0:r=new Map,e=Si(n),s=[{resourceRawPath:n,resourceAbsolutePath:e}],w.label=1;case 1:if(!(s.length>0))return[3,17];if(o=csArray.prototype.pop.call(s),!i&&null!==o.resourceAbsolutePath&&!Xr(o.resourceAbsolutePath))return r.set(o.resourceAbsolutePath,null),[3,1];if(void 0!==r.get(o.resourceAbsolutePath))return[3,1];w.label=2;case 2:return w.trys.push([2,15,,16]),null===o.resourceRawPath||csString.prototype.indexOf.call(o.resourceRawPath,".css")>0?o.data?[3,5]:[4,fetch(o.resourceAbsolutePath)]:[3,8];case 3:return m=w.sent(),u=o,[4,m.text()];case 4:u.data=w.sent(),w.label=5;case 5:o.nestedResources||(o.nestedResources=ne(o.data)),c=!1,h=!1,a=function(n){var i,e,u=Xr(n)?n:o.resourceAbsolutePath?(i=n,e=o.resourceAbsolutePath,new csURL(i,e).href):Si(n),a=r.get(u);if(void 0!==a){if(null!==a){var f=t.cr(a,n);o.data=Qe.stringReplaceAll(o.data,n,f)}return"continue"}var l=void 0!==nn(s,(function(t){return t.resourceAbsolutePath===u}));l||(c=!0,h||(csArray.prototype.push.call(s,o),h=!0),csArray.prototype.push.call(s,{resourceRawPath:n,resourceAbsolutePath:u}))};try{for(b=void 0,f=p(o.nestedResources),l=f.next();!l.done;l=f.next())v=l.value,a(v)}catch(t){b={error:t}}finally{try{l&&!l.done&&(E=f.return)&&E.call(f)}finally{if(b)throw b.error}}return c?[3,7]:[4,t.hr(o.data)];case 6:d=w.sent(),r.set(o.resourceAbsolutePath,{hash:d.hash,data:d.data}),w.label=7;case 7:return[3,14];case 8:return y=void 0,Xr(o.resourceAbsolutePath)?[3,11]:[4,fetch(o.resourceAbsolutePath)];case 9:return[4,(m=w.sent()).blob()];case 10:return y=w.sent(),[3,12];case 11:if(!(g=ss(o.resourceAbsolutePath)))return r.set(o.resourceAbsolutePath,null),[3,1];y=g,w.label=12;case 12:return[4,t.rr(y)];case 13:S=w.sent(),r.set(o.resourceAbsolutePath,{hash:S,data:y}),w.label=14;case 14:return[3,16];case 15:return w.sent(),r.set(o.resourceAbsolutePath,null),[3,16];case 16:return[3,1];case 17:return[2,r]}}))}))},t.cr=function(n,i){var r="cs://resources/".concat(n.hash);return Xr(i)||(r+="?".concat(t.ar,"=").concat(i)),r},t.hr=function(n){return y(this,void 0,void 0,(function(){var i,r,e;return w(this,(function(s){switch(s.label){case 0:return[4,(i=new Blob([n],{type:"text/css"})).arrayBuffer()];case 1:return r=s.sent(),[4,crypto.subtle.digest(t.ur,r)];case 2:return e=s.sent(),[2,{data:i,hash:es(e)}]}}))}))},t.ur="SHA-256",t.ar="original-resource-name",t}(),cs=function(t){function n(){var n=t.call(this)||this;return n.lr="cssrm://",n.vr=0,n.yr=!1,n}return l(n,t),n.prototype.isListening=function(t){return!!n.isSupported()&&(!!$e.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent||"attributeChanged"===t.domEvent||"characterDataChanged"===t.domEvent))},n.prototype.processEvent=function(t){switch(t.domEvent){case"initialDOM":case"nodesAdded":this.wr(t);break;case"attributeChanged":this.pr(t);break;case"characterDataChanged":this.mr(t)}return t},n.prototype.disableOnlineAssets=function(){this.yr=!1},n.prototype.enableOnlineAssets=function(){this.yr=!0},n.prototype.isOnlineAssetsActivated=function(){return this.yr},n.prototype.wr=function(t){var n,i,r=this,e="initialDOM"===t.domEvent?[t.initialDOM]:t.nodes;try{for(var s=p(e),o=s.next();!o.done;o=s.next()){var u=o.value;Sr.traverse(u,(function(t,n){if(3===t.nodeType&&n)r.gr(t,n.localName);else if(he.isElement(t)){var i=nn(t.attributes,(function(t){return"style"===t.name}));if(i&&(i.value=r.Sr(i.value)),r.br(t)||r.Er(t,n)){var e=nn(t.attributes,(function(t){return"src"===t.name}));e&&e.value&&(e.value=r.Ar(e.value));var s=nn(t.attributes,(function(t){return"srcset"===t.name}));if(s)return void(s.value=r.Rr(s.value))}if(r.Or(t)&&r.yr){var o=nn(t.attributes,(function(t){return"href"===t.name}));if(!o||!o.value)return;r.vr++,r.Tr(Si(o.value),r.vr,!0),r.Nr(t,o,r.vr)}}}))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},n.prototype.Nr=function(t,n,i){csArray.prototype.push.call(t.attributes,{name:"data-cs-original-href",namespaceURI:"",value:n.value}),n.value=this.lr+i},n.prototype.gr=function(t,n){if(t&&"style"===n){var i=this.Sr(t.data);null!==i&&(t.data=i)}},n.prototype.mr=function(t){if("style"===t.parentLocalName&&t.newValue){var n=this.Sr(t.newValue);null!==n&&(t.newValue=n)}},n.prototype.pr=function(t){if(t.newValue&&t.newValue!==t.oldValue){var n="src"===t.attribute,i="srcset"===t.attribute;if("style"===t.attribute)t.newValue=this.Sr(t.newValue);else if(n||i){var r="img"===t.localName,e="source"===t.localName&&t.parentLocalName&&"picture"===t.parentLocalName;(r||e)&&(n&&(t.newValue=this.Ar(t.newValue)),i&&(t.newValue=this.Rr(t.newValue)))}}},n.prototype.Ar=function(t){return Xr(t)||this.yr?(this.vr++,this.Tr(t,this.vr,!1,ei()),this.lr+this.vr):t},n.prototype.Rr=function(t){var n,i;if(!this.yr)return t;var r=t,e=Kr(t),s=ei();try{for(var o=p(e),u=o.next();!u.done;u=o.next()){var c=u.value;this.vr++,this.Tr(Si(c),this.vr,!1,s),r=csString.prototype.replace.call(r,c,this.lr+this.vr)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r},n.prototype.Sr=function(t){var n,i,r,e=ne(t),s=t,o=ei();try{for(var u=p(e),c=u.next();!c.done;c=u.next()){var h=c.value,a=Xr(h);if((a||this.yr)&&!this.kr(h)){this.vr++,s=csString.prototype.replace.call(s,h,this.lr+this.vr);var f=!!(r=h)&&ai(r,".css");a?this.Tr(h,this.vr,!1,o):this.yr&&(f?this.Tr(h,this.vr,!0,o):this.Tr(Si(h),this.vr,!1,o))}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return s},n.prototype.Tr=function(t,n,i,r){var e=this;void 0===r&&(r=ei());var s=i?us.toCSSStaticResourceEvent:us.toStaticResourceEvent,o=new ae((function(i){return y(e,void 0,void 0,(function(){var e,o;return w(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,s(t,n,r,this.yr)];case 1:return e=u.sent(),i(e||{type:"warning",message:"Failed to process static resource: ".concat(t)}),[3,3];case 2:return o=u.sent(),i({type:"warning",message:o}),[3,3];case 3:return[2]}}))}))}));this.emitEvent(o)},n.prototype.br=function(t){return"img"===t.localName},n.prototype.Er=function(t,n){return"source"===t.localName&&!!n&&"picture"===n.localName},n.prototype.Or=function(t){return"link"===t.localName&&csArray.prototype.some.call(t.attributes,(function(t){return"rel"===t.name&&"stylesheet"===t.value}))},n.isSupported=function(){return ui()&&function(){var t;return"undefined"!=typeof crypto&&C(null===(t=crypto.subtle)||void 0===t?void 0:t.digest)}()&&!!csArray.from},n.prototype.kr=function(t){return 0===csString.prototype.replace.call(t,/['"]+/g,"").length},d([Xt("StaticResourceManagerProcessor.processEvent")],n.prototype,"processEvent",null),n}(ts);!function(t){t.Visible="visible",t.Hidden="hidden",t.Blur="blur",t.PagehideVisible="pagehideVisible",t.PagehideHidden="pagehideHidden",t.ExitPageByNavigate="exitPageByNavigate"}(os||(os={}));var hs,as=function(){function t(){var t=this;this.Cr=!1,this.Ir=function(n){try{switch(n.type){case"visibilitychange":return"hidden"===document.visibilityState?t.Mr(os.Hidden):t.Mr(os.Visible);case"pagehide":return"hidden"===document.visibilityState?t.Mr(os.PagehideHidden):t.Mr(os.PagehideVisible);case"blur":return t.Mr(os.Blur);case"navigate":return t.Pr(n)?t.Mr(os.ExitPageByNavigate):void 0;default:return}}catch(t){}}}return t.prototype.start=function(){this.Cr||(this.Cr=!0,this._r(),this.Dr(),this.Lr(),ci()&&this.Ur())},t.prototype.stop=function(){this.Cr&&(this.Cr=!1,this.jr(),this.qr(),this.Hr(),ci()&&this.Fr())},t.prototype.onEvent=function(t){this.Mr=t},t.prototype.Ur=function(){window.navigation.addEventListener("navigate",this.Ir)},t.prototype.Fr=function(){window.navigation.removeEventListener("navigate",this.Ir)},t.prototype._r=function(){document.addEventListener("visibilitychange",this.Ir)},t.prototype.jr=function(){document.removeEventListener("visibilitychange",this.Ir)},t.prototype.Dr=function(){window.addEventListener("pagehide",this.Ir)},t.prototype.qr=function(){window.removeEventListener("pagehide",this.Ir)},t.prototype.Lr=function(){window.addEventListener("blur",this.Ir)},t.prototype.Hr=function(){window.removeEventListener("blur",this.Ir)},t.prototype.Pr=function(t){return t instanceof NavigateEvent!=!1&&(!t.hashChange&&!t.downloadRequest&&!t.formData)},t}();!function(t){t[t.Active=0]="Active",t[t.Paused=1]="Paused",t[t.Stopped=2]="Stopped"}(hs||(hs={}));var fs,ls=function(){function t(t,n,i){void 0===i&&(i=[]);this.Br=t,this.zr=n,this.Vr=i,this.Gr=null,this.Jr=hs.Active,this.Yr=[]}return t.prototype.reset=function(){this.Gr=null,this.Yr=[],this.Jr=hs.Active},t.prototype.disconnect=function(){this.Jr=hs.Stopped},t.prototype.Wr=function(){var n=this;this.zr(hs.Paused),this.Jr=hs.Paused,csSetTimeout((function(){n.Jr===hs.Paused&&n.$r()}),t.STOP_TIMEOUT)},t.prototype.Xr=function(){this.zr(hs.Active),this.Jr=hs.Active,tn(this.Yr,this.Br),this.Yr=[]},t.prototype.$r=function(){this.Yr=[],this.zr(hs.Stopped),this.Jr=hs.Stopped},t.prototype.pushEvent=function(t,n){if(n.isUserEvent&&(this.Gr=t.date,this.Jr!==hs.Active))return this.Xr(),void this.Br(t);if(this.Kr(t))this.Br(t);else switch(this.Jr){case hs.Active:if(this.Zr(t,n))return this.Wr(),void csArray.prototype.push.call(this.Yr,t);this.Br(t);break;case hs.Paused:csArray.prototype.push.call(this.Yr,t);case hs.Stopped:}},t.prototype.Zr=function(n,i){return!i.isUserEvent&&null!==this.Gr&&n.date-this.Gr>t.INACTIVITY_TIMEOUT},t.prototype.Kr=function(t){return csArray.prototype.indexOf.call(this.Vr,t.type)>-1},t.INACTIVITY_TIMEOUT=5e3,t.STOP_TIMEOUT=5e3,t}(),vs=function(t){function n(n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S){void 0===y&&(y=[]);var b=t.call(this)||this;return b.wt=n,b.Qr=i,b.te=r,b.ne=e,b.ie=s,b.It=o,b.re=u,b.ee=c,b.se=h,b.oe=a,b.ue=f,b.ce=l,b.he=v,b.ae=d,b.fe=y,b.le=w,b.ve=p,b.de=m,b.ye=g,b.we=S,b.pe=0,b.ge=new Pr,b.Se={allowFromQuotaService:!0,allowFromSerialization:!0},b.be=cr((function(){b.Qr.eventsCount()>0&&b.Ee()}),2e3),b.Ae=function(t){return b.processBrowserEvent(t)},b.Re=function(t){return b.Oe(t)},b.Te=0,b.Ne=0,b.ke=new as,b.Ce=!1,b.Ie=51200,b.Me=!1,b.xe=!1,b.Pe=[],b._e=new ls((function(t){return b.De(t)}),(function(t){switch(t){case hs.Active:b.Le();break;case hs.Stopped:b.Ue()}}),[hr.RESOURCE_HASHES,hr.TEXT_VISIBILITY]),b.je=function(t){b.ce.removeBatchInProgress("".concat(t.params.sn,".").concat(t.params.pn,".").concat(t.params.ri))},b}return vn(n,t),n.prototype.init=function(){this.qe(),this.ue.onLoad(this.je),this.ue.onError(this.je)},n.prototype.Le=function(){csArray.prototype.forEach.call(this.le,(function(t){return t.start()}))},n.prototype.Ue=function(){csArray.prototype.forEach.call(this.le,(function(t){return t.stopForInactivity()}))},n.prototype.qe=function(){var t,n,i,r=this;this.ae.onEvent(this.Ae,this.Re),null===(t=this.oe)||void 0===t||t.onInputNodeToEncrypt(this.Re),null===(n=this.oe)||void 0===n||n.onApiErrorToEncrypt((function(t){r.He(t)})),null===(i=this.oe)||void 0===i||i.onUserIdentifierToEncrypt(this.Ae),this.ke.onEvent((function(t){if(csSetTimeout((function(){return r.Fe("page-state",t)})),t!==os.Visible){if(t===os.Blur)return r.Be();if(!r.Ce)return r.Ce=!0,csSetTimeout((function(){r.Ce=!1})),t===os.Hidden?r.Be():r.ze()}}))},n.prototype.isRecording=function(){return this.It.hasValidSession()&&this.isStarted},n.prototype.Be=function(){var t=this;if(this.canSendEvents()){this.ae.flush(),this.ce.saveBatchesInProgress(),tn(this.fe,(function(n){var i,r;return tn(null!==(r=null===(i=n.getPendingEvents)||void 0===i?void 0:i.call(n))&&void 0!==r?r:[],(function(n){return t.Qr.addEvent(n)}))}));var n=this.Qr.getEvents();if(0!==n.length){this.Fe("pending-events",this.ae.pendingEvents);var i=this.ue.getQueryParams();i.rst=this.getRecordingStartTimestamp(),i.let=this.getRecordingLastEventTimestamp();var r=this.ne.getCurrentIndex();i.ri=r.toString(),this.he.removeQueryParams(),this.he.setQueryParams(i),this.Ne=n[n.length-1].date;var e=this.Qr.stringifyEvents();if(e.length>this.Ie){var s=this.Ve();if(s.length>0){var o=kn(s);this.he.send(o)||this.ce.save({key:"".concat(i.sn,".").concat(i.pn,".").concat(i.ri,".last"),metadata:dn(dn({},i),{datatype:"json"}),events:o}),this.ne.increment()}if(this.Qr.eventsCount()>0){i.ri=this.ne.getCurrentIndex().toString();var u=this.Qr.stringifyEvents();this.ce.save({key:"".concat(i.sn,".").concat(i.pn,".").concat(i.ri,".last"),metadata:dn(dn({},i),{datatype:"json"}),events:u}),this.ne.increment()}}else{this.he.send(e)||this.ce.save({key:"".concat(i.sn,".").concat(i.pn,".").concat(i.ri,".last"),metadata:dn(dn({},i),{datatype:"json"}),events:e}),this.ne.increment()}this.he.removeQueryParams(),this.Qr.clearEvents()}}},n.prototype.ze=function(){var t=this;if(this.canSendEvents()){this.ae.flush();var n=this.ue.getQueryParams();this.ce.saveBatchesInProgress(),n.rst=this.getRecordingStartTimestamp(),delete n.ri,n.hlm="true",this.he.removeQueryParams(),tn(this.fe,(function(n){var i,r;return tn(null!==(r=null===(i=n.getPendingEvents)||void 0===i?void 0:i.call(n))&&void 0!==r?r:[],(function(n){return t.Qr.addEvent(n)}))}));var i=this.Qr.getEvents();if(0===i.length)return delete n.let,delete n.rst,this.he.setQueryParams(n),this.he.send(),void this.he.removeQueryParams();this.Fe("pending-events",this.ae.pendingEvents),this.Ne=i[i.length-1].date,n.let=this.getRecordingLastEventTimestamp(),this.he.setQueryParams(n);var r=this.Qr.stringifyEvents();if(r.length>this.Ie){var e=this.Ve();if(e.length>0){var s=kn(e);this.he.send(s)||this.ce.save({key:"".concat(n.sn,".").concat(n.pn,".last"),metadata:dn(dn({},n),{datatype:"json"}),events:s})}else delete n.let,delete n.rst,delete n.ri,this.he.removeQueryParams(),this.he.setQueryParams(n),this.he.send(),this.he.removeQueryParams();if(this.Qr.eventsCount()>0){n.rst=this.getRecordingStartTimestamp(),n.let=this.getRecordingLastEventTimestamp();var o=this.ne.getCurrentIndex();n.ri=o.toString();var u=this.Qr.stringifyEvents();this.ce.save({key:"".concat(n.sn,".").concat(n.pn,".").concat(n.ri,".last"),metadata:dn(dn({},n),{datatype:"json"}),events:u}),this.ne.increment()}}else{this.he.send(r)||(this.ce.save({key:"".concat(n.sn,".").concat(n.pn,".").concat(n.ri,".last"),metadata:dn(dn({},n),{datatype:"json"}),events:r}),this.ne.increment())}this.he.removeQueryParams(),this.Qr.clearEvents()}},n.prototype.blockSendingEventsFromQuotaService=function(){this.Se.allowFromQuotaService=!1},n.prototype.allowSendingEventsFromQuotaService=function(){this.Se.allowFromQuotaService=!0},n.prototype.blockSendingEventsFromSerialization=function(){this.Se.allowFromSerialization=!1},n.prototype.allowSendingEventsFromSerialization=function(){this.Se.allowFromSerialization=!0},n.prototype.canSendEvents=function(){return this.Se.allowFromQuotaService&&this.Se.allowFromSerialization},n.prototype.onIframeJavascriptError=function(t){var n;if(this.re&&this.ye){null===(n=this.re)||void 0===n||n.anonymize(t);var i=this.ye.translate({message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename,timestamp:ei(),type:"JSError"});i&&this.Ae(i)}},n.prototype.onIframeCustomError=function(t){if(this.we){var n=this.we.translate(dn(dn({},t),{timestamp:ei(),type:"CustomError"}));n&&this.Ae(n)}},n.prototype.onIframeDetailedApiError=function(t){this.Ge(t)},n.prototype.onIframeRecordingUserEvent=function(t){var n,i;try{for(var r=gn(t),e=r.next();!e.done;e=r.next()){var s=e.value;this.Oe(s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.onIframeRecordingBrowserEvent=function(t){var n,i;if(this.isStarted)try{for(var r=gn(t),e=r.next();!e.done;e=r.next()){var s=e.value;this.processBrowserEvent(s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.processBrowserEvent=function(t){this.ie.isCurrentPageviewValid()&&this._e.pushEvent(t,{isUserEvent:!1})},n.prototype.Oe=function(t){this.ie.refreshSession(),this.ie.isSessionValid()&&this._e.pushEvent(t,{isUserEvent:!0})},n.prototype.De=function(t){Wr.general.nbEvents.increase(),this.Qr.addEvent(t),this.Qr.isThresholdReached()?this.pushEvents():this.Qr.isFull()&&this.be(),this.Je(t)},n.prototype.Je=function(t){this.wt.emitDebugEvents&&this.ge.emit("recordingEvent",dn(dn({},t),{typeName:hr[t.type]}))},n.prototype.onStart=function(){var t,i=this;this.Fe("tag-version","15.85.1"),this.Fe("page-state",document.visibilityState),this._e.reset(),this.ke.start(),this.initStates(),this.ae.start(),this.ee&&this.se&&this.ee.subscribe(n.Ye,(function(t){return i.Ge(t)}),{detailedEvent:!0}),this.wt.emitDebugEvents&&this.ge.emit("replayRecordingStarted"),csArray.prototype.forEach.call(this.Pe,(function(t){return i.We(t)})),this.Pe=[],this.Me&&(null===(t=this.ve)||void 0===t||t.enableOnlineAssets(),this.Me=!1)},n.prototype.onStop=function(){var t;this.ke.stop(),this.ee&&this.ee.unsubscribe(n.Ye),this.ae.stop(),this._e.disconnect(),null===(t=this.ve)||void 0===t||t.disableOnlineAssets()},n.prototype.clearStates=function(){this.ae.flush(),this.be.cancel(),this.pushEvents(),this.ue.removeQueryParams()},n.prototype.initStates=function(){this.Te=ei(),this.ne.reset(),this.pe=0,this.ue.setQueryParams(this.te.getRequestParameters())},n.prototype.pushEvents=function(){tn(this.fe,(function(t){var n;return null===(n=t.flushEvents)||void 0===n?void 0:n.call(t)})),this.Qr.eventsCount()>0&&(this.isStarted?this.Ee():this.Qr.clearEvents())},n.prototype.Ee=function(){if(this.canSendEvents()){var t=this.Qr.getEvents();this.Ne=t[t.length-1].date;var n=this.ne.getCurrentIndex();this.ue.setQueryParams({ri:n.toString(),rst:this.getRecordingStartTimestamp(),let:this.getRecordingLastEventTimestamp()});var i=this.ue.getQueryParams();this.ce.addBatchInProgress("".concat(i.sn,".").concat(i.pn,".").concat(n),this.ue.getQueryParams(),t),this.ue.send(t),this.ne.increment(),this.Qr.clearEvents(),this.$e&&this.$e()}},n.prototype.addInitialDom=function(t){this.Qr.addEventByTimestamp(t),this.Je(t)},n.prototype.Ge=function(t){if(this.de&&(t.plainCustomRequestHeaders||t.plainCustomResponseHeaders||t.requestBodyAttributes||t.responseBodyAttributes||t.customRequestHeaders||t.customResponseHeaders||t.queryParameters||t.requestBody||t.responseBody)){if(this.de.truncate(t),this.oe)return void this.oe.registerApiErrorToEncrypt(t);t.customRequestHeaders="",t.customResponseHeaders="",t.requestBodyAttributes="",t.responseBodyAttributes="",t.queryParameters="",t.requestBody="",t.responseBody=""}this.He(t)},n.prototype.He=function(t){if(this.pe<n.Xe){var i={type:hr.API_ERROR,date:ei(),args:[this.se.anonymize(t)]};this.Ae(i),this.pe=this.pe+1}},n.prototype.Ke=function(t){var i,r;t===Br.ETR_SESSION?this.ue.setQueryParams(((i={})[n.Ze]=n.Qe,i)):t===Br.ETR_PAGE&&this.ue.setQueryParams(((r={})[n.ns]=n.Qe,r))},n.prototype.clearEvents=function(){this.Qr.clearEvents()},n.prototype.onCustomJavaScriptErrorEvent=function(t){var n,i=null===(n=this.ye)||void 0===n?void 0:n.translate({type:"JSError",timestamp:ei(),message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename});i&&this.Ae(i)},n.prototype.onCustomErrorEvent=function(t){var n,i=null===(n=this.we)||void 0===n?void 0:n.translate({type:"CustomError",timestamp:ei(),message:t.message,attributes:t.attributes});i&&this.Ae(i)},n.prototype.onPageEvent=function(t){this.rs(t)},n.prototype.onUserIdentifierEvent=function(t){var n,i={userIdentifier:t,date:ei(),keyId:this.wt.encryptionPublicKeyId};null===(n=this.oe)||void 0===n||n.registerUserIdentifierToEncrypt(i)},n.prototype.onEventTriggerRecording=function(t,n){this.isStarted?this.We({eventName:t,eventType:n}):csArray.prototype.push.call(this.Pe,{eventName:t,eventType:n})},n.prototype.We=function(t){this.Ke(t.eventType),this.rs(t.eventName),this.pushEvents()},n.prototype.rs=function(t){var i={type:hr.PAGE_EVENT,date:ei(),args:[{eventName:csString.prototype.slice.call(t,0,n.es)}]};this.Qr.addEvent(i)},n.prototype.triggerUnanonymizationConsentGranted=function(){var t={date:ei(),type:hr.UNANONYMIZED_CONSENT_GRANTED};this.Qr.addEvent(t)},n.prototype.triggerUnanonymizationConsentWithdrawn=function(){var t={date:ei(),type:hr.UNANONYMIZED_CONSENT_WITHDRAWN};this.Qr.addEvent(t)},n.prototype.triggerRecordingForSessionGranted=function(){this.Fe("consent-granted")},n.prototype.triggerRecordingForSessionWithdrawn=function(){this.Fe("consent-withdrawn")},n.prototype.activateOnlineAssetsOnNextPageview=function(){this.xe=!0},n.prototype.getStaticResourceManagerStatus=function(){return this.ve?{isStarted:this.wt.useStaticResourceManager&&cs.isSupported(),onlineAssets:{activated:this.ve.isOnlineAssetsActivated(),enabledOnNextPageview:this.xe}}:null},n.prototype.resetOnlineAssetsOnPageview=function(){this.Me=!1,this.xe=!1},n.prototype.updateOnlineAssetsOnPageview=function(){this.ve&&this.xe&&(this.Me=!0,this.xe=!1)},n.prototype.onRecordingRequestSent=function(t){this.$e=t},n.prototype.getRecordingStartTimestamp=function(){return this.Te.toString()},n.prototype.getRecordingLastEventTimestamp=function(){return this.Ne.toString()},n.prototype.onOptOut=function(){tn(this.fe,(function(t){var n;return null===(n=t.releaseResources)||void 0===n?void 0:n.call(t)}))},n.prototype.Fe=function(t,n){if(this.wt.emitRecordInfoEvents){var i={date:ei(),type:hr.RECORDING_INFO_EVENT,args:null==n?[t]:[t,n]};this.Qr.addEvent(i)}},n.prototype.Ve=function(){return this.Qr.extractEvents(hr.API_ERROR,hr.JAVASCRIPT_ERROR,hr.CUSTOM_ERROR,hr.TEXT_VISIBILITY,hr.POINTER_DOWN)},n.Ye="RecordingService",n.es=255,n.Xe=20,n.ns="etrp",n.Ze="etrs",n.Qe="1",wn([Xt("addInitialDom")],n.prototype,"addInitialDom",null),n}(_r),ds=function(t){function n(n,i,r){var e=t.call(this)||this;return e.Tn=n,e.he=i,e.ue=r,e.ss=!1,e.us={},e.cs=function(t){var n,i;if(0!==t.length)try{for(var r=gn(t),s=r.next();!s.done;s=r.next()){var o=s.value,u=o.metadata,c=o.events;e.hs(u.rt)&&e.ue.send(c,u)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},window.addEventListener("focus",(function(){e.recover()})),e}return vn(n,t),n.prototype.onStart=function(){this.us={}},n.prototype.onStop=function(){},n.prototype.recover=function(){this.Tn.recover(this.cs)},n.prototype.addBatchInProgress=function(t,n,i){this.us[t]={metadata:dn({},n),events:i}},n.prototype.removeBatchInProgress=function(t){delete this.us[t]},n.prototype.blockSendingLastMessage=function(){this.ss=!1},n.prototype.allowSendingLastMessage=function(){this.ss=!0},n.prototype.sendLastMessageBeacon=function(){if(this.ss){var t=this.ue.getQueryParams(),n=(t.ri,t.rst,t.let,yn(t,["ri","rst","let"]));n.hlm="true",this.he.setQueryParams(n),this.he.send()}},n.prototype.hs=function(t){return!!t&&-1===csString.prototype.indexOf.call(t,Hr.RECORDING_TEMPORARILY)},n.prototype.saveBatchesInProgress=function(){var t=this;csArray.prototype.forEach.call(Object.keys(this.us),(function(n){var i=t.us[n],r=i.metadata,e=i.events;t.Tn.save({key:"".concat(r.sn,".").concat(r.pn,".").concat(r.ri),metadata:dn(dn({},r),{datatype:"json"}),events:csJSON.stringify(e)})}))},n.prototype.save=function(t){this.Tn.save(t)},wn([_t("RecordingRecovery")],n.prototype,"recover",null),n}(_r),ys=function(){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.fs=t}return t.prototype.addProvider=function(t){csArray.prototype.push.call(this.fs,t)},t.prototype.getRequestParameters=function(){return csArray.prototype.reduce.call(this.fs,(function(t,n){return dn(dn({},n.getRequestParameters()),t)}),{})},t}(),ws=function(){function t(t,n){var i=this;this.ls=t,this.gt=n,this.vs=[{boundElement:window,type:"hashchange",listener:function(){return i.hashChangeListener()}},{boundElement:document,type:"visibilitychange",listener:function(){return i.visibilityChangeListener()}}]}return t.prototype.onEvent=function(t){this.ds=t},t.prototype.start=function(){this.ii(),this.triggerInitialEvents()},t.prototype.stop=function(){this.ei()},t.prototype.ii=function(){csArray.prototype.forEach.call(this.vs,(function(t){return sr(t)}))},t.prototype.ei=function(){csArray.prototype.forEach.call(this.vs,(function(t){return or(t)}))},t.prototype.triggerInitialEvents=function(){this.hashChangeListener()},t.prototype.hashChangeListener=function(){var t={type:hr.HASH_CHANGE,args:[this.gt.anonymizePII(this.ls.href)],date:ei()};this.ds(t)},t.prototype.visibilityChangeListener=function(){var t={type:hr.VISIBILITY_CHANGE,args:[document.visibilityState],date:ei()};this.ds(t)},wn([_t("hashChange")],t.prototype,"hashChangeListener",null),wn([_t("visibilityChange")],t.prototype,"visibilityChangeListener",null),t}(),ps=function(){function t(){}return t.prototype.onScannedAsset=function(t){this.ys=t},t.prototype.scanCssString=function(t){this.ws(ne(t))},t.prototype.scanElement=function(t,n){Tr.getMaskedElementDetails(t).state!==Tr.MaskedElementState.NotMasked||n&&Tr.isMaskedAttribute(t,n)||(j(t)?this.ps(t):U(t)?this.gs(t,n):(this.Ss(t,n),this.bs(t,n),this.Es(t,n)))},t.prototype.gs=function(t,n){var i;if((!n||"href"===n)&&t.href){var r={assetId:(null===(i=t.sheet)||void 0===i?void 0:i.href)||t.href,assetBasePath:window.location.href,assetRawPath:t.getAttribute("href")};this.ys({type:"stylesheet",asset:r})}},t.prototype.ps=function(t){var n,i,r,e,s,o,u=new Set;if(t.textContent)try{for(var c=gn(ne(t.textContent)),h=c.next();!h.done;h=c.next()){var a=h.value;u.add(a)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}try{o=null===(s=t.sheet)||void 0===s?void 0:s.cssRules}catch(t){"SecurityError"===t.name||"InvalidAccessError"===t.name||Ui.error(t.message)}if(o)for(var f=0;f<o.length;f++){var l=o.item(f).cssText;try{for(var v=(r=void 0,gn(ne(l))),d=v.next();!d.done;d=v.next()){a=d.value;u.add(a)}}catch(t){r={error:t}}finally{try{d&&!d.done&&(e=v.return)&&e.call(v)}finally{if(r)throw r.error}}}this.ws(on(u))},t.prototype.As=function(t){return!this.Rs(t)&&!Xr(t)&&!function(t){return hi(t,"#")}(t)},t.prototype.Ss=function(t,n){if(P(e=t)&&"img"===e.localName||function(t){return P(t)&&"source"===t.localName}(t)){if(!n||"src"===n){var i=t.getAttribute("src");if(i&&this.As(i)){var r={assetId:t.src,assetRawPath:i,assetBasePath:window.location.href};this.ys({type:"asset",asset:r})}}n&&"srcset"!==n||!t.srcset||this.Os(t.srcset)}var e},t.prototype.bs=function(t,n){if(1===t.nodeType){if(t.hasAttribute&&(!n||"style"===n)&&t.hasAttribute("style")){var i=t.getAttribute("style");if("string"!=typeof i)throw new Error("Unexpected style: "+t.outerHTML);this.scanCssString(i)}}else Pt.warn("StaticResourceUrlTracker: Wrong element nodeType: ".concat(null==t?void 0:t.nodeName,"/").concat(t.nodeType))},t.prototype.Os=function(t){this.ws(Kr(t))},t.prototype.Es=function(t,n){if((B(e=t)&&"image"===e.localName||function(t){return B(t)&&"use"===t.localName}(t)||function(t){return B(t)&&"feImage"===t.localName}(t))&&(!n||"href"===n||"xlink:href"===n)){var i=t.getAttribute("href")||t.getAttribute("xlink:href");if(i&&this.As(i)){var r={assetId:Si(i),assetRawPath:i,assetBasePath:window.location.href};this.ys({type:"asset",asset:r})}}var e},t.prototype.ws=function(t){var n=this;return csArray.prototype.forEach.call(csArray.prototype.map.call(csArray.prototype.filter.call(t,(function(t){return n.As(t)})),(function(t){return{rawUrl:t,absoluteUrl:Si(t)}})),(function(t){var i={assetId:t.absoluteUrl,assetBasePath:window.location.href,assetRawPath:t.rawUrl};n.ys({type:"asset",asset:i})}))},t.prototype.Rs=function(t){return/^https:\/\/\w+:\w+@/.test(t)},t}(),ms=function(){function t(t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.Ts=[],this.Yr=[],this.Ns=t}return t.prototype.next=function(t){var n,i,r=this;this.Yr.length===this.Ns&&csArray.prototype.shift.call(this.Yr),csArray.prototype.push.call(this.Yr,t),1===this.Yr.length&&csSetTimeout((function(){return r.clear()}));try{for(var e=Et(this.Ts),s=e.next();!s.done;s=e.next()){(0,s.value)(t)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}},t.prototype.subscribe=function(t){var n,i,r=this;if(nn(this.Ts,(function(n){return t===n})))return function(){r.Ts=csArray.prototype.filter.call(r.Ts,(function(n){return n!==t}))};csArray.prototype.push.call(this.Ts,t);try{for(var e=Et(this.Yr),s=e.next();!s.done;s=e.next()){var o=s.value;t(o)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}return function(){r.Ts=csArray.prototype.filter.call(r.Ts,(function(n){return n!==t}))}},t.prototype.clear=function(){this.Yr=[]},t.prototype.hasObservers=function(){return this.Ts.length>0},t}(),gs=function(){function t(t){this.Un=t}var n;return t.prototype.observe=function(){var t=this;(this.ks=n.Cs.subscribe((function(n){return t.Un(n)})),n.Is)||(n.Is=!0,n.Ms.observe(),kt(document,NodeFilter.SHOW_ELEMENT).visitAll((function(t){n.xs.add(t),n.Cs.next(t)})))},t.prototype.disconnect=function(){n.Is&&(this.ks(),n.Cs.hasObservers()||(n.Is=!1,n.Ms.disconnect(),n.Cs.clear(),n.xs.clear()))},n=t,t.xs=be(),t.Cs=new ms,t.Ps=Jt((function(t){pe((function(){var i,r;try{for(var e=Et(t),s=e.next();!s.done;s=e.next()){var o=s.value;"childList"===o.type&&tn(o.addedNodes,(function(t){kt(t,NodeFilter.SHOW_ELEMENT).visitAll((function(t){n.xs.has(t)||(n.xs.add(t),n.Cs.next(t))}))}))}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}))}),"ElementObserver.findAllElements"),t.Is=!1,t.Ms=new _e(n.Ps),gt([_t()],t.prototype,"observe",null),gt([_t()],t.prototype,"disconnect",null),t}(),Ss=function(){function t(t,n,i){void 0===n&&(n=30),void 0===i&&(i=0);var r=this;this._s=t,this.Ds=n,this.Ls=i,this.Us=new Lt,this.xt=!1,this.js=0,this.qs=function(){for(r.js=0;r.Us.length;){if(r.js>=r.Ds)return void csSetTimeout(r.qs,r.Ls);var t=si(),n=r.Us.pop();if(!n)break;r.runTask(n);var i=si()-t;r.js+=i}r.xt=!1}}return t.prototype.schedule=function(t,n){void 0===n&&(n=!1),this._s&&!n?(Wr.general.pendingTasks.increase(),this.Us.push(t),this.Hs()):t()},t.prototype.Hs=function(){var t=this;this.xt||(this.xt=!0,csSetTimeout((function(){t.qs()})))},t.prototype.runTask=function(t){Wr.general.pendingTasks.decrease(),t()},t.prototype.runPendingTasks=function(){var t=this;this.Us.forEach((function(n){t.runTask(n)})),this.Us.clear()},t.prototype.clearQueue=function(){Wr.general.pendingTasks.clear(),Wr.mutations.pendingMutations.clear(),this.Us.clear()},t.prototype.isEmpty=function(){return 0===this.Us.length},wn([_t("TaskScheduler"),Xt("runTask")],t.prototype,"runTask",null),wn([Xt("runPendingTasks")],t.prototype,"runPendingTasks",null),t}(),bs=function(){function t(){var t=this;this.Gn=!1,this.Fs=new Re((function(n){return"cssRuleInserted"===n.type&&t.Bs(n)})),this.zs=Ee((function(n){t.Gn&&n.length>0&&t.Vs.schedule((function(){return tn(n,(function(n){return t.Gs.scanElement(n)}))}))})),this.Js=function(n){var i,r,e,s=n.type,o=n.asset;"stylesheet"===s&&(null===(i=t.Ys)||void 0===i||i.call(t,o)),null===(r=t.Ws)||void 0===r||r.call(t,o);var u={date:ei(),type:hr.STATIC_RESOURCE_URL,args:[o.assetId]};null===(e=t.ds)||void 0===e||e.call(t,u)},this.Vs=new Ss(!0,30,0),this.$s=new gs((function(n){return t.Xs(n)})),this.Fn=new _e((function(n){return t.Ks(n)})),this.Gs=new ps,this.Gs.onScannedAsset(this.Js)}return t.prototype.onEvent=function(t){this.ds=t},t.prototype.onAsset=function(t){this.Ws=t},t.prototype.onStyleSheetFound=function(t){this.Ys=t},t.prototype.start=function(){this.Gn||(this.Gn=!0,this.Fs.observe(),this.$s.observe(),this.Fn.observe())},t.prototype.stop=function(){this.Gn&&(this.Fs.disconnect(),this.$s.disconnect(),this.Fn.disconnect(),this.Gn=!1)},t.prototype.Bs=function(t){t.rule&&this.Gn&&this.Gs.scanCssString(t.rule)},t.prototype.Xs=function(t){this.Gn&&Tr.getMaskedElementDetails(t).state===Tr.MaskedElementState.NotMasked&&this.zs.push(t)},t.prototype.Ks=function(t){var n=this;csSetTimeout((function(){var i,r;try{for(var e=gn(t),s=e.next();!s.done;s=e.next()){var o=s.value;switch(o.type){case"attributes":n.Gs.scanElement(o.target,o.attributeName);break;case"characterData":n.Zs(o.target)}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}))},t.prototype.Zs=function(t){_(t)&&csNodeparentNode.apply(t)&&j(csNodeparentNode.apply(t))&&this.Gs.scanCssString(t.data)},t}(),Es=function(){function t(t){this.Qs=[],this.no=[],this.mn={},this.gn=t}return t.prototype.setQueryParams=function(t){var n=this;csArray.prototype.forEach.call(Object.keys(t),(function(i){n.mn[i]=t[i]}))},t.prototype.removeQueryParams=function(t){var n=this;t?csArray.prototype.forEach.call(t,(function(t){delete n.mn[t]})):this.mn={}},t.prototype.onBeaconSuccess=function(t){csArray.prototype.push.call(this.Qs,t)},t.prototype.onBeaconFailure=function(t){csArray.prototype.push.call(this.no,t)},t.prototype.send=function(t){var n=this,i=In.toQuery(dn(dn({},this.mn),{ct:zi.UNCOMPRESSED})),r=this.io(i,t);return r?csArray.prototype.forEach.call(this.Qs,(function(t){return t()})):csArray.prototype.forEach.call(this.no,(function(t){return t(n.mn)})),r},t.prototype.io=function(t,n){try{if("function"!=typeof csNavigatorsendBeacon)return!1;var i=csNavigatorsendBeacon("".concat(this.gn,"?").concat(t),n||"");if(i)return i}catch(t){}return"function"==typeof navigator.sendBeacon&&navigator.sendBeacon("".concat(this.gn,"?").concat(t),n||"")},t}(),As=function(){function t(t){this.ro={},this.eo=new Ir(t)}return t.prototype.save=function(t){var n=t.key,i=t.metadata,r=t.events;this.eo.isThresholdReached()||(this.eo.addString(n),"string"==typeof r?this.eo.addString(r):this.eo.addArrayBuffer(r),this.eo.isThresholdReached()||(this.ro[n]={metadata:i,events:r}))},t.prototype.recover=function(t){var n=this,i=[];csArray.prototype.forEach.call(this.so(),(function(t){var r=n.ro[t];void 0!==r&&(delete r.metadata.datatype,csArray.prototype.push.call(i,r),n.oo(t))})),0!==i.length&&(t(i),this.eo.reset())},t.prototype.so=function(){return Object.keys(this.ro)},t.prototype.oo=function(t){delete this.ro[t]},t}();!function(t){t[t.NOT_STARTED=0]="NOT_STARTED",t[t.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",t[t.OPEN_FAILED=2]="OPEN_FAILED",t[t.READY=3]="READY"}(fs||(fs={}));var Rs,Os=function(){function t(t,n,i){this.uo=t,this.co=i,this.ho=fs.NOT_STARTED,this.ao=[],this.fo=0,this.lo=self.origin,this.vo="object"==typeof window?"":"worker-",this.eo=new Ir(n),this.do()}return t.prototype.do=function(){return pn(this,void 0,void 0,(function(){return mn(this,(function(t){switch(t.label){case 0:return[4,this.yo()];case 1:return t.sent(),this.ho===fs.READY?this.wo():this.co(this.ao),[2]}}))}))},t.prototype.wo=function(){var t=this;csArray.prototype.forEach.call(this.ao,(function(n){t.save(n)})),this.ao=[]},t.prototype.save=function(t){return pn(this,void 0,void 0,(function(){var n,i,r;return mn(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.ho===fs.OPEN_IN_PROGRESS?(csArray.prototype.push.call(this.ao,t),[2]):this.ho!==fs.READY||this.eo.isThresholdReached()?[2]:(n=t.key,i=t.metadata,r=t.events,this.eo.addString(n),"string"==typeof r?this.eo.addString(r):this.eo.addArrayBuffer(r),this.eo.isThresholdReached()?[2]:[4,this.po.put("".concat(this.lo,"/").concat(n),new Response(r,{headers:i}))]);case 1:return e.sent(),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},t.prototype.recover=function(t){return pn(this,void 0,void 0,(function(){return mn(this,(function(n){switch(n.label){case 0:return this.po?[3,2]:[4,this.yo()];case 1:if(n.sent(),this.ho!==fs.READY)return[2];n.label=2;case 2:return this.mo(t),[2]}}))}))},t.prototype.yo=function(){return pn(this,void 0,void 0,(function(){var t;return mn(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.ho=fs.OPEN_IN_PROGRESS,t=this,[4,self.caches.open("".concat(this.vo).concat(this.uo))];case 1:return t.po=n.sent(),this.ho=fs.READY,[3,3];case 2:return n.sent(),this.ho=fs.OPEN_FAILED,[3,3];case 3:return[2]}}))}))},t.prototype.mo=function(t){return pn(this,void 0,void 0,(function(){var n,i,r,e,s=this;return mn(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,6,7]),this.fo++,this.fo>1?[2]:[4,this.po.keys()];case 1:return 0===(n=o.sent()).length?[2]:[4,this.po.matchAll()];case 2:return i=o.sent(),r=csArray.prototype.map.call(i,(function(t){var n={};t.headers.forEach((function(t,i){n[i]=t})),delete n["content-type"];var i=n.datatype;return delete n.datatype,"json"===i||"base64"===i?t.text().then((function(t){return{metadata:n,events:t}})):t.arrayBuffer().then((function(t){return{metadata:n,events:t}}))})),[4,Promise.all(r)];case 3:return e=o.sent(),[4,Promise.all(csArray.prototype.map.call(n,(function(t){return s.po.delete(t)})))];case 4:return o.sent(),t(e),this.eo.reset(),[3,7];case 5:return o.sent(),[3,7];case 6:return this.fo--,[7];case 7:return[2]}}))}))},t}(),Ts=function(){function t(t){try{this.So(t)}catch(t){this.bo()}}return t.prototype.So=function(t){self.caches?this.Eo(t):this.bo()},t.prototype.save=function(t){this.Ao.save(t)},t.prototype.recover=function(t){this.Ao.recover(t)},t.prototype.Eo=function(n){var i=this;this.Ao=new Os(n,t.Ro,(function(t){i.bo(t)}))},t.prototype.bo=function(n){var i=this;this.Ao=new As(t.Ro),n&&csArray.prototype.forEach.call(n,(function(t){i.Ao.save(t)}))},t.Ro=16777216,t}(),Ns=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.isListening=function(t){return $e.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent)},n.prototype.processEvent=function(t){var n,i,r=this,e=0,s="initialDOM"===t.domEvent?[t.initialDOM]:t.nodes,o=function(n){if(n instanceof he){var i=Tr.getMaskedAttributeDetails(n);n.attributes=u.Oo(n,i)}if(Tr.getMaskedElementDetails(n).state===Tr.MaskedElementState.Child)return"initialDOM"===t.domEvent?{value:null}:(t.nodes=csArray.prototype.filter.call(t.nodes,(function(t){return t!==n})),"continue");Sr.traverse(n,(function(t){if(t instanceof he){var n=Tr.getMaskedAttributeDetails(t);t.attributes=r.Oo(t,n);var i=Tr.getMaskedElementDetails(t);i.state===Tr.MaskedElementState.Parent&&(r.To(t,i),e++)}}))},u=this;try{for(var c=p(s),h=c.next();!h.done;h=c.next()){var a=o(h.value);if("object"==typeof a)return a.value}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return e>0&&Hn.counters.sensitiveElements.count("masked-elements",e),t},n.prototype.Oo=function(t,n){return 0===n.attributes.length?t.attributes:csArray.prototype.filter.call(t.attributes,(function(t){return-1===csArray.prototype.indexOf.call(n.attributes,t.name)}))},n.prototype.To=function(t,n){var i="width: ".concat(n.width,"px !important; height: ").concat(n.height,"px !important;");t.children=[],t.shadowRoot=void 0,csArray.prototype.push.call(t.attributes,{name:"style",value:i,namespaceURI:""}),he.getAttribute(t,"data-cs-mask")||csArray.prototype.push.call(t.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})},d([Xt("MaskedElementProcessor.processEvent")],n.prototype,"processEvent",null),n}(ts);!function(t){t.ANONYMIZED_TEXT_STATUS_PROP="anonymizationStatus",t.WHITELISTED_STATUS="whitelisted",t.isWhitelistedElement=function(n){return Sr.getProperty(n,t.ANONYMIZED_TEXT_STATUS_PROP)===t.WHITELISTED_STATUS},t.whitelistElement=function(n){Sr.setProperty(n,t.ANONYMIZED_TEXT_STATUS_PROP,t.WHITELISTED_STATUS)},t.removeWhitelistElement=function(n){Sr.setProperty(n,t.ANONYMIZED_TEXT_STATUS_PROP,void 0)}}(Rs||(Rs={}));var ks=/[\u4E00-\u9FFF]|[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]/g,Cs=/[^ａ\s]/g;function Is(t){var n=csString.prototype.replace.call(t,ks,"ａ");return csString.prototype.replace.call(n,Cs,"a")}var Ms,xs=["id","class","style","srcset","sizes","rel","type","width","height","media","align","dir","bgcolor","color","border","colspan","rowspan","cols","rows","size","start","slot","data-cs-override-id"],Ps=function(t){var n=new Set(xs);return csArray.prototype.forEach.call(t,(function(t){n.add(t)})),n},_s=["svg","slot"],Ds={href:new Set(["a"]),src:new Set(["iframe"])},Ls=function(){function t(t,n,i,r,e){void 0===r&&(r=null),void 0===e&&(e=!1),this.ko=t,this.Co=n,this.gt=i,this.Io=r,this.Mo=e,this.xo=Ps(this.Co)}return t.prototype.Po=function(t,n,i){var r,e;void 0===n&&(n=null),void 0===i&&(i=!0);var s=this.gt.checkAndAnonymizePII(t,n);if(this.Mo)try{for(var o=p(this.gt.getLogs()),u=o.next();!u.done;u=o.next()){var c=u.value;i?(Hn.counters.redactedPII.count("cc-in-text-nodes"),Pt.implementation("".concat(c," - text-node"))):Pt.implementation("".concat(c," - attribute"))}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return s},t.prototype.sanitize=function(t){var n=this;return Sr.traverse(t,(function(t,i){if(t.anonymized=n.ko,3===t.nodeType){var r=n.getAnonymizedValue(t.data,null==i?void 0:i.localName,i?Sr.getProperties(i):void 0),e=r.anonymizedValue,s=r.withAnonymization;return t.anonymized=s,void(t.data=e)}if(he.isElement(t))return n._o(t);4!==t.nodeType||(t.data=n.ko?Is(t.data):n.Po(t.data,n.Io))})),t},t.prototype.setAnonymization=function(t){this.ko=t},t.prototype.getAnonymizedValue=function(t,n,i){if("style"===n)return{anonymizedValue:t,withAnonymization:!1};var r=(null==i?void 0:i[Rs.ANONYMIZED_TEXT_STATUS_PROP])===Rs.WHITELISTED_STATUS;return this.ko&&!r?{anonymizedValue:Is(t),withAnonymization:!0}:{anonymizedValue:this.Po(t,this.Io),withAnonymization:!1}},t.prototype._o=function(t){var n=this;if(!Sr.getProperty(t,"SVG")){var i=nn(t.attributes,(function(t){return"type"===t.name})),r=null==i?void 0:i.value;t.attributes=csArray.prototype.map.call(t.attributes,(function(i){return i.anonymized=n.ko,i.value=n.getAnonymizedAttributeValue(t.localName,i.name,i.value,r),i}))}},t.prototype.getAnonymizedAttributeValue=function(t,n,i,r){return this.Do(t,n,r)?i:function(t){return Ds.hasOwnProperty(t)}(n)?function(t,n,i){var r;return(null===(r=Ds[n])||void 0===r?void 0:r.has(t))&&!Xr(i)}(t,n,i)?this.gt.anonymizePII(i):i:this.ko&&function(t,n,i){return("submit"===i||"button"===i)&&"input"===t&&"value"===n}(t,n,r)?Is(i):("contenteditable"===n&&"false"!==i&&Pt.implementation("Element found with contenteditable attr","contenteditable-attr"),this.ko?"":this.Po(i,null,!1))},t.prototype.Do=function(t,n,i){return function(t,n,i){return"radio"===i&&"input"===t&&"name"===n||csArray.prototype.indexOf.call(_s,t)>-1}(t,n,i)||this.xo.has(n)},t}(),Us=function(){function t(){}return t.create=function(n,i){if(!t.isSupported())throw new Error("IntersectionObserver is not supported");if(i&&i.delay&&i.delay<100)throw new Error("Visibility delay should be > 100ms");return(null==i?void 0:i.trackVisibility)&&(n=t.Lo(n)),new IntersectionObserver(n,i)},t.isSupported=function(){return!!window.IntersectionObserver&&!!window.IntersectionObserverEntry},t.Lo=function(t){return function(n,i){return t(Zt(n,js),i)}},t}();function js(t){return t.isVisible||!un.isVisibleInViewportInForeground(t.target)?t:{boundingClientRect:t.boundingClientRect,intersectionRatio:t.intersectionRatio,intersectionRect:t.intersectionRect,isIntersecting:t.isIntersecting,rootBounds:t.rootBounds,target:t.target,time:t.time,isVisible:!0}}var qs=function(){return function(t,n,i){var r,e,s,o,u;i.value=(r=i.value,e=csSymbol("oncePerTickSymbol"),s=null,o={},u=function(){var t,n=null!==(t=this)&&void 0!==t?t:o;s=arguments,n[e]||(n[e]=!0,Hs((function(){n[e]=!1,r.apply(n,s)})))},u.oncePerTickSymbol=e,u)}},Hs=null!==(Ms=e.csQueueMicrotask)&&void 0!==Ms?Ms:csSetTimeout;qs.isScheduled=function(t,n){return t[n.oncePerTickSymbol]};var Fs,Bs=function(){function t(t){var n=this;this.Un=t,this.Uo=new Map,this.jo=function(t){var i=t.target;if(n.Uo.has(i))return!0;var r=!1;return n.Uo.forEach((function(t,e){!r&&n.Uo.get(e).subtree&&(r=e.contains(i))})),r},Wr.general.nbOfMutationObservers.increase(),this.Fn=new csMutationObserver((function(i){qs.isScheduled(n,n.garbageCollect)&&(i=en(i,n.jo)),i.length&&pe((function(){return t(i,n)}))}))}return t.prototype.disconnect=function(){Wr.general.nbOfMutationObservers.decrease(),this.Fn.disconnect(),this.Uo=new Map},t.prototype.takeRecords=function(){return this.Fn.takeRecords()},t.prototype.observe=function(t,n){return Wr.mutations.elementMutationObserved.increase(),this.Uo.set(t,n),this.Fn.observe(t,n)},t.prototype.unobserve=function(t){this.Uo.has(t)&&(Wr.mutations.elementMutationObserved.decrease(),this.Uo.delete(t),this.garbageCollect())},t.prototype.garbageCollect=function(){var t=this;Wr.mutations.unobserveGarbageCollection.measure((function(){var n=en(t.takeRecords(),t.jo);n.length&&t.Un(n,t),t.Fn.disconnect(),t.Uo.forEach((function(n,i){return t.Fn.observe(i,n)}))}))},gt([qs()],t.prototype,"garbageCollect",null),t}(),zs=function(){function t(t){this.Un=t,this.qo=new Set}return t.prototype.onMutations=function(t){var n,i;if(rn(t,(function(t){var n;return!!(null===(n=t.removedNodes)||void 0===n?void 0:n.length)})))try{for(var r=Et(this.qo.values()),e=r.next();!e.done;e=r.next()){var s=e.value;un.isConnected(s)||(this.qo.delete(s),this.Un(s))}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.observe=function(t){var n=this;this.Zi||(this.Zi=new _e((function(t){return csSetTimeout((function(){return n.onMutations(t)}))})),this.Zi.observe()),this.qo.add(t)},t.prototype.disconnect=function(){var t;null===(t=this.Zi)||void 0===t||t.disconnect(),this.qo.clear(),this.Zi=void 0},gt([_t("NodeDisconnectedObserver.onMutations")],t.prototype,"onMutations",null),t}(),Vs=function(){function t(t){var n=this;this.Ho=new Set,this.Fo=new zs((function(t){return n.Bo(t)})),this.Gn=!1,this.zo=t?pt(pt({},Js),t):Js}return t.prototype.stop=function(){var t,n;this.Gn=!1,null===(t=this.Vo)||void 0===t||t.disconnect(),null===(n=this.Fn)||void 0===n||n.disconnect()},t.prototype.start=function(t){var n=this;if(this.Gn)throw new Error("VisibilityObserver is already started");this.Un=Dt("VisibilityObserver:callback",(function(n,i){return t(n,i)}));var i={root:null,rootMargin:"0px",threshold:.5,trackVisibility:!0,delay:300};this.Vo=Us.create((function(t){return n.handleIntersection(t)}),i),this.Fn=new Bs((function(t){return csSetTimeout((function(){tn(t,(function(t){return n.Bo(t.target)}))}))})),this.do(),this.Gn=!0},t.prototype.observe=function(t){if(!this.Gn)throw new Error("Observer is stopped.");!1===this.zo.reobserve&&t[this.Go]||(Wr.visibilityObserver.nbElements.increase(),t[this.Go]=!0,this.watchIntersection(t))},t.prototype.do=function(){this.Jo=csSymbol("isVisible"),this.Go=csSymbol("ObservedElement"),this.Yo=csSymbol("LinkedElement"),this.Wo=csSymbol("Tracked")},t.prototype.Bo=function(t){var n,i;this.Ho.add(t);try{for(var r=Et(this.$o(t)),e=r.next();!e.done;e=r.next()){var s=e.value;this.Ho.add(s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}this.recheckCssVisibilityAll()},t.prototype.recheckCssVisibilityAll=function(){var t=this;tn(this.Ho.keys(),(function(n){n.isConnected&&!un.areAncestorsHiddenByCSS(n)&&n[t.Go]&&t.watchIntersection(n)})),this.Ho.clear()},t.prototype.watchIntersection=function(t){this.Fn.unobserve(t),this.Vo.unobserve(t);var n=un.getTopAncestorHiddenByCSS(t);n?(n!==t&&(this.Xo(n,t),this.watchMutation(n)),this.watchMutation(t)):this.Vo.observe(t)},t.prototype.watchMutation=function(t,n){void 0===n&&(n=!0),n&&delete t[this.Jo],this.Vo.unobserve(t);this.Fn.observe(t,{attributeFilter:["style","class","hidden"]})},t.prototype.handleIntersection=function(t){var n,i,r=this;try{for(var e=Et(t),s=e.next();!s.done;s=e.next()){var o=s.value,u=o.target;if(o.isVisible){var c=this.zo.allowSameMatch||!o.target[this.Jo];o.target[this.Jo]=!0,c&&!this.zo.delay&&this.onVisibilityChanged(o.target,Fs.VisibleInViewPort)}else{un.isVisibleInDocument(u)||this.Ko(u)}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}this.zo.delay&&csSetTimeout((function(){var n,i;try{for(var e=Et(t),s=e.next();!s.done;s=e.next()){var o=s.value,u=o.isIntersecting&&o.isVisible;o.target[r.Jo]&&u&&r.onVisibilityChanged(o.target,Fs.VisibleInViewPort)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}}),this.zo.delay)},t.prototype.Ko=function(t){Wr.visibilityObserver.hiddenElements.increase();var n=un.getTopElement(t);this.watchMutation(t),n&&(this.Fo.observe(n),this.Xo(n,t),this.watchMutation(n,!1))},t.prototype.Xo=function(t,n){var i;(t[this.Yo]=null!==(i=t[this.Yo])&&void 0!==i?i:new Set).add(n)},t.prototype.$o=function(t){var n,i,r=[];return tn(null!==(i=null===(n=t[this.Yo])||void 0===n?void 0:n.values())&&void 0!==i?i:[],(function(t){return csArray.prototype.push.call(r,t)})),r},t.prototype.onVisibilityChanged=function(t,n){if(n===Fs.VisibleInViewPort&&this.zo.trackOnce){if(this.Vo.unobserve(t),this.Fn.unobserve(t),t[this.Wo])return;t[this.Wo]=!0}this.Un(t,n)},t.isSupported=function(){return Us.isSupported()},gt([_t()],t.prototype,"observe",null),gt([dr({wait:50}),_t(),Xt("recheckCssVisibilityAll")],t.prototype,"recheckCssVisibilityAll",null),gt([_t()],t.prototype,"watchIntersection",null),gt([_t()],t.prototype,"watchMutation",null),gt([_t(),Xt("VisibilityObserver.handleIntersection")],t.prototype,"handleIntersection",null),gt([_t()],t.prototype,"onVisibilityChanged",null),t}();!function(t){t.VisibleInViewPort="VisibleInViewPort",t.HiddenByAnother="HiddenByAnother",t.Hidden="Hidden"}(Fs||(Fs={}));var Gs,Js={delay:1e3,trackOnce:!0,reobserve:!1},Ys=function(){function t(t){var n=this;this.Un=t,this.xs=be(),this.Zo=function(t){pe((function(){var i,r;try{for(var e=Et(t),s=e.next();!s.done;s=e.next()){var o=s.value;"childList"===o.type&&tn(o.addedNodes,(function(t){kt(t,NodeFilter.SHOW_TEXT).visitAll((function(t){n.xs.has(t)||(n.xs.add(t),n.Un(t))}))}))}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}))},this.Ms=new _e(this.Zo)}return t.prototype.observe=function(){var t=this;this.Ms.observe(),kt(document,NodeFilter.SHOW_TEXT).visitAll((function(n){t.xs.add(n),t.Un(n)}))},t.prototype.disconnect=function(){this.xs.clear(),this.Ms.disconnect()},t}();!function(t){t.ENCRYPTED_NODE_PROP="toEncrypt",t.shouldEncrypt=function(n){return!0===Sr.getProperty(n,t.ENCRYPTED_NODE_PROP)},t.markEncryptedNode=function(n){Sr.setProperty(n,t.ENCRYPTED_NODE_PROP,!0)},t.unmarkEncryptedNode=function(n){Sr.setProperty(n,t.ENCRYPTED_NODE_PROP,void 0)}}(Gs||(Gs={}));var Ws,$s=function(t){function n(n){var i=t.call(this)||this;return i.Qo=new Set,i.tu=new Set,i.nu=!1,i.iu=new Set,i.ko=!1,i.ru=new Vs(n),i.eu=new Ys((function(t){var n=un.getParentElement(t);!n||!n.isConnected||Tr.isMaskedElement(n)||Tr.isMaskedElementChild(n)||Gs.shouldEncrypt(n)||j(n)||F(n)||H(n)||x(t.data)||(i.Qo.add(n),i.su())})),i}return l(n,t),n.prototype.onStart=function(){var t=this;Vs.isSupported()&&(this.ru.start((function(n,i){return t.onVisibilityChanged(n,i)})),this.eu.observe())},n.prototype.onStop=function(){Vs.isSupported()&&(this.ru.stop(),this.eu.disconnect(),this.Qo.clear(),this.tu.clear(),this.iu.clear(),this.nu=!1)},n.prototype.setAnonymization=function(t){this.ko=t},n.prototype.su=function(){var t=this;this.nu||(this.nu=!0,Se((function(){var n,i;if(t.isStarted){t.nu=!1;var r=t.Qo;t.Qo=new Set;try{for(var e=p(on(r)),s=e.next();!s.done;s=e.next()){var o=s.value;o.isConnected&&!t.tu.has(o)&&(t.tu.add(o),rn(csNodechildNodes.apply(o),(function(t){return 3===t.nodeType}))&&t.ru.observe(o))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}}}),1001))},n.prototype.onVisibilityChanged=function(t,n){var i=this;n!==Fs.VisibleInViewPort||this.ko&&!Rs.isWhitelistedElement(t)||tn(csNodechildNodes.apply(t),(function(t){if(3===t.nodeType){var r=t.data;i.iu.has(r)||(i.iu.add(r),i.produceEvent({type:"TextVisibility",text:r,state:n}))}}))},d([_t()],n.prototype,"onVisibilityChanged",null),n}(Xe);!function(t){t.isTextVisibilityEvent=function(t){return"TextVisibility"===t.type}}(Ws||(Ws={}));var Xs,Ks,Zs,Qs,to=function(t){function n(n,i,r,e){void 0===e&&(e=null);var s=t.call(this)||this;s.gt=r,s.Io=e;return s.ou=new Ls(n,i,r,e,!0),s}return l(n,t),n.prototype.setAnonymization=function(t){this.ou.setAnonymization(t)},n.prototype.isListening=function(t){return Ws.isTextVisibilityEvent(t)||$e.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent||"attributeChanged"===t.domEvent||"characterDataChanged"===t.domEvent)},n.prototype.processEvent=function(t){if(Ws.isTextVisibilityEvent(t))return t.text=this.gt.checkAndAnonymizePII(t.text,this.Io),t;switch(t.domEvent){case"initialDOM":case"nodesAdded":this.hu(t);break;case"attributeChanged":this.au(t);break;case"characterDataChanged":this.fu(t)}return t},n.prototype.hu=function(t){var n,i,r="initialDOM"===t.domEvent?[t.initialDOM]:t.nodes;try{for(var e=p(r),s=e.next();!s.done;s=e.next()){var o=s.value;this.ou.sanitize(o)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}},n.prototype.au=function(t){t.isSvg||t.newValue&&(null!==t.localName?t.newValue=this.ou.getAnonymizedAttributeValue(t.localName,t.attribute,t.newValue,t.inputType):t.newValue="")},n.prototype.fu=function(t){t.newValue=this.ou.getAnonymizedValue(t.newValue,t.parentLocalName,t.parentProps).anonymizedValue},d([Xt("AnonymizedTextProcessor.processEvent")],n.prototype,"processEvent",null),n}(ts),no=function(t){function n(n){var i=t.call(this)||this;return i.lu=n,i}return l(n,t),n.prototype.isListening=function(t){return $e.isDOMEvent(t)&&"initialDOM"===t.domEvent},n.prototype.processEvent=function(t){return"initialDOM"===t.domEvent&&(t.initialDOM.baseURI=this.lu.anonymizeUrl(t.initialDOM.baseURI)),t},d([Xt("UrlAnonymizationProcessor.processEvent")],n.prototype,"processEvent",null),n}(ts),io="textarea",ro=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.isListening=function(t){return $e.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent||"characterDataChanged"===t.domEvent)},n.prototype.processEvent=function(t){switch(t.domEvent){case"initialDOM":this.vu(t);break;case"nodesAdded":this.du(t);break;case"characterDataChanged":this.yu(t)}return t},n.prototype.vu=function(t){var n=this;Sr.traverse(t.initialDOM,(function(t,i){n.wu(t,i)&&(t.data=n.pu(t.data))}))},n.prototype.du=function(t){var n,i,r=this;try{for(var e=p(t.nodes),s=e.next();!s.done;s=e.next()){var o=s.value;Sr.traverse(o,(function(n,i){r.mu(n,i,t)&&(n.data=r.pu(n.data))}))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}},n.prototype.yu=function(t){t.parentLocalName===io&&(t.newValue=this.pu(t.newValue))},n.prototype.pu=function(t){return csString.prototype.replace.call(t,/\S/g,"•")},n.prototype.mu=function(t,n,i){return this.gu(t,i)||this.wu(t,n)},n.prototype.gu=function(t,n){return 3===t.nodeType&&n.targetLocalName===io},n.prototype.wu=function(t,n){return 3===t.nodeType&&N(n)&&n.localName===io},d([Xt("AnonymizedTextAreaProcessor.processEvent")],n.prototype,"processEvent",null),n}(ts),eo=function(){function t(t){var n=this;this.Un=t,this.Su={boundElement:window,type:"resize",listener:function(){return n.resizeListener()}},this.Un=t}return t.prototype.observe=function(){sr(this.Su),this.hi()},t.prototype.hi=function(){this.resizeListener()},t.prototype.disconnect=function(){or(this.Su)},t.prototype.resizeListener=function(){var t={width:Wt.windowWidth(),height:Wt.windowHeight()};this.Un(t)},gt([_t("resize")],t.prototype,"resizeListener",null),t}();!function(t){t.PORTRAIT="Portrait",t.LANDSCAPE="Landscape"}(Xs||(Xs={})),function(t){t.PORTRAIT_PRIMARY="portrait-primary",t.PORTRAIT_SECONDARY="portrait-secondary",t.LANDSCAPE_PRIMARY="landscape-primary",t.LANDSCAPE_SECONDARY="landscape-secondary"}(Ks||(Ks={})),function(t){t[t.PORTRAIT=0]="PORTRAIT",t[t.PORTRAIT_REVERSE=180]="PORTRAIT_REVERSE",t[t.LANDSCAPE=-90]="LANDSCAPE",t[t.LANDSCAPE_REVERSE=90]="LANDSCAPE_REVERSE"}(Zs||(Zs={})),function(t){var n=null;t.isScreenOrientationApiSupported=function(){var t;return null!=n?n:n=!!(null===(t=e.screen)||void 0===t?void 0:t.orientation)},t.isDeprecatedScreenOrientationApiSupported=function(){return"orientation"in e},t.getCurrentOrientation=function(){return t.isScreenOrientationApiSupported()?function(){var t;switch(null===(t=e.screen.orientation)||void 0===t?void 0:t.type){case Ks.PORTRAIT_PRIMARY:case Ks.PORTRAIT_SECONDARY:return Xs.PORTRAIT;case Ks.LANDSCAPE_PRIMARY:case Ks.LANDSCAPE_SECONDARY:return Xs.LANDSCAPE;default:return Xs.PORTRAIT}}():t.isDeprecatedScreenOrientationApiSupported()?function(){switch(window.orientation){case Zs.PORTRAIT:case Zs.PORTRAIT_REVERSE:return Xs.PORTRAIT;case Zs.LANDSCAPE:case Zs.LANDSCAPE_REVERSE:return Xs.LANDSCAPE;default:return Xs.PORTRAIT}}():Xs.LANDSCAPE}}(Qs||(Qs={}));var so=function(t){function n(){var n=t.apply(this,g([],m(arguments),!1))||this;return n.bu=null,n.Eu=null,n.Au=new eo((function(t){n.produceEvent(v(v({},t),{type:"viewportResize"})),n.onScreenPotentiallyChanged()})),n}return l(n,t),n.prototype.onScreenPotentiallyChanged=function(){var t=Qs.getCurrentOrientation(),n=this.Ru(t),i=n.screenWidth,r=n.screenHeight;if(i!==this.bu||r!==this.Eu){this.bu=i,this.Eu=r;var e={type:"screenResize",width:i,height:r};this.produceEvent(e)}},n.prototype.Ru=function(t){var n,i,r=Wt.screenWidth(),e=Wt.screenHeight();return t===Xs.PORTRAIT?(n=r,i=e):(n=Math.max(r,e),i=Math.min(r,e)),{screenWidth:n,screenHeight:i}},n.prototype.onStart=function(){this.Au.observe()},n.prototype.onStop=function(){this.bu=null,this.Eu=null,this.Au.disconnect()},n}(Xe);function oo(t){var n=csEventtarget.apply(t);return n&&P(n)&&csElementshadowRoot.apply(n)&&t.composedPath?t.__csOriginalTarget||t.composedPath()[0]:n}var uo=function(){function t(t,n){void 0===n&&(n={closest:!1});var i=this;this.Un=t,this.zo=n,this.Ou="",this.Tu=be(),this.Ks=Jt((function(t){var n,r;if(""!==i.Ou){var e=[];try{for(var s=Et(Qt(t,(function(t){return t.addedNodes}))),o=s.next();!o.done;o=s.next()){var u=o.value;if(V(u)||i.zo.closest&&_(u))sn(i.zo.closest?i.Nu(u,i.Ou):i.findMatchingElements(u,i.Ou),e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}e.length&&i.Un(e,"added")}}),"SelectorObserver.processMutations"),this.ku=function(t,n){if(""!==i.Ou&&"added"===n){var r=i.findMatchingElements(t,i.Ou);r.length&&i.Un(r,"added")}},this.Zi=new _e(this.Ks,this.ku)}return Object.defineProperty(t.prototype,"selectors",{get:function(){return""===this.Ou?null:this.Ou},enumerable:!1,configurable:!0}),t.prototype.observe=function(t){var n,i,r=this;""===this.Ou?this.Zi.observe():this.Ou+=",",this.Ou+=t;var e=this.findMatchingElements(document,t);try{for(var s=Et(this.Zi.shadowRoots),o=s.next();!o.done;o=s.next()){var u=o.value;sn(this.findMatchingElements(u,t),e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}e.length&&(tn(e,(function(t){r.Tu.add(t)})),this.Un(e,"initial"))},t.prototype.processPendingMutations=function(){this.Ks(this.Zi.takeRecords())},t.prototype.disconnect=function(){this.Zi.disconnect(),this.Tu.clear(),this.Ou=""},t.prototype.Nu=function(t,n){var i=this,r=[];if(_(t)){var e;if(t.parentElement)(e=kr(t.parentElement,n))&&csArray.prototype.push.call(r,e);return csArray.prototype.filter.call(r,(function(t){return!1===i.Tu.has(t)}))}return I(t)&&(e=kr(t,n))?(csArray.prototype.push.call(r,e),csArray.prototype.filter.call(r,(function(t){return!1===i.Tu.has(t)}))):this.findMatchingElements(t,n)},t.prototype.findMatchingElements=function(t,n){var i=this,r=Kt(window.csquerySelectorAll[t.nodeType].call(t,n));return P(t)&&nt.call(t,n)&&csArray.prototype.push.call(r,t),csArray.prototype.filter.call(r,(function(t){return!1===i.Tu.has(t)}))},gt([_t()],t.prototype,"observe",null),gt([_t()],t.prototype,"disconnect",null),gt([Xt("SelectorObserver.findMatchingElements")],t.prototype,"findMatchingElements",null),t}(),co=function(t){function n(){var n=t.call(this)||this;return n.Cu=function(t){var i=oo(t);i&&n.Iu(i,t.type)},n.ni=new rr((function(t,i){switch(i){case"initial":case"added":n.Mu(t);break;case"removed":n.xu(t)}})),n.Pu=new uo((function(t,i){"initial"!==i&&"added"!==i||n._u(t)})),n}return l(n,t),n.shouldProcessElement=function(t){return"VIDEO"===t.tagName&&un.isConnected(t)&&!Tr.isMaskedElement(t)&&!Tr.isMaskedElementChild(t)},n.isPlaying=function(t){return!t.paused&&!t.ended},n.prototype.onStart=function(){this.Mu(document),this.ni.observe(),this.Pu.observe("video")},n.prototype.onStop=function(){this.xu(document),this.ni.disconnect(),this.Pu.disconnect()},n.prototype.Iu=function(t){for(var i,r,e=this,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];if(this.isStarted&&n.shouldProcessElement(t)){var u=function(n){var i={type:"VideoEvent",videoEventType:n,nodeId:Rr(t)};"seeked"===n&&(i.newTimePositionInSec=t.currentTime),ve((function(){return e.produceEvent(i)}))};try{for(var c=p(s),h=c.next();!h.done;h=c.next()){u(h.value)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}}},n.prototype._u=function(t){var i,r;try{for(var e=p(t),s=e.next();!s.done;s=e.next()){var o=s.value;this.Iu(o,"seeked"),n.isPlaying(o)&&this.Iu(o,"play")}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}},n.prototype.Mu=function(t){var n,i;try{for(var r=p(["play","pause","seeked"]),e=r.next();!e.done;e=r.next()){sr({type:e.value,listener:this.Cu,boundElement:t})}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.xu=function(t){var n,i;try{for(var r=p(["play","pause","seeked"]),e=r.next();!e.done;e=r.next()){or({type:e.value,listener:this.Cu,boundElement:t})}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n}(Xe);function ho(t){return"INPUT"===t.nodeName}function ao(t){return ho(t)&&"number"===t.type}function fo(t){return ho(t)&&("checkbox"===t.type||"radio"===t.type)}var lo,vo,yo=function(t){function n(n){var i=t.call(this)||this;return i.oe=n,i.Du=be(),i.Lu=function(t){return i.inputHandler(t)},i.Uu=[],i.ju(),i.qu(),i.Pu=new uo((function(t){var n,r,e=function(t){i.Hu(t)&&pe((function(){i.Fu(t,Rr(t))}),"low")};try{for(var s=p(t),o=s.next();!o.done;o=s.next()){e(o.value)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}})),i.ni=new rr((function(t,n){switch(n){case"initial":case"added":sr({type:"change",listener:i.Lu,boundElement:t});break;case"removed":or({type:"change",boundElement:t,listener:i.Lu})}})),i}return l(n,t),n.prototype.onStart=function(){sr({type:"keyup",boundElement:document,listener:this.Lu}),sr({type:"change",boundElement:document,listener:this.Lu}),tn(this.Uu,(function(t){return t.activate()})),this.Pu.observe(csArray.prototype.join.call(n.Bu,",")),this.ni.observe()},n.prototype.onStop=function(){or({type:"keyup",boundElement:document,listener:this.Lu}),or({type:"change",boundElement:document,listener:this.Lu}),tn(this.Uu,(function(t){return t.deactivate()})),this.Pu.disconnect(),this.ni.disconnect(),this.Du.clear()},n.prototype.Fu=function(t,n){var i,r,e;if(!this.Du.has(t))if(this.Du.add(t),function(t){return"SELECT"===t.nodeName}(t)){var s={type:"InputEvent",inputType:"select",target:Rr(t),selectedIndex:t.selectedIndex,timestamp:ei()};this.produceEvent(s)}else if(fo(t)){var o={type:"InputEvent",inputType:"checkable",target:Rr(t),checked:t.checked,timestamp:ei()};this.produceEvent(o)}else{var u=function(t){return"TEXTAREA"===t.nodeName||ho(t)&&!ao(t)&&!fo(t)}(t),c=ao(t);if(u||c){var h=null!==(i=t.value)&&void 0!==i?i:"";if(null===(r=this.oe)||void 0===r?void 0:r.shouldEncrypt(t))return void(null===(e=this.oe)||void 0===e||e.registerInputNodeToEncrypt({targetId:n,targetValue:h,date:ei()}));var a=c?"0":"•",f={type:"InputEvent",inputType:"text",target:Rr(t),value:csString.prototype.replace.call(h,/\S/g,a),timestamp:ei()};this.produceEvent(f)}}},n.prototype.inputHandler=function(t){var n=this;if(this.isStarted){var i=yr(t),r=Rr(i);r&&this.Hu(i)&&un.isConnected(i)&&pe((function(){n.Fu(i,r)}),"low")}},n.prototype.ju=function(){this.trackChanges(HTMLInputElement,"checked"),this.trackChanges(HTMLInputElement,"value"),this.trackChanges(HTMLTextAreaElement,"value")},n.prototype.qu=function(){this.trackChanges(HTMLSelectElement,"selectedIndex"),this.trackChanges(HTMLSelectElement,"value"),this.trackChanges(HTMLOptionElement,"selected",!0)},n.prototype.trackChanges=function(t,n,i){var r=this;void 0===i&&(i=!1);var e=ir(t.prototype,n,(function(t,n,e){if(e!==n&&un.isConnected(t)){var s=i?t.parentElement:t;r.zu(s)}}));e&&csArray.prototype.push.call(this.Uu,e)},n.prototype.Hu=function(t){return!Tr.isMaskedElement(t)&&!Tr.isMaskedElementChild(t)&&(q(t)||z(t)||H(t))},n.prototype.zu=function(t){var n=this;if(this.isStarted&&un.isConnected(t)){var i=Rr(t);i&&this.Hu(t)&&pe((function(){n.Fu(t,i)}),"low")}},n.Bu=["textarea","input:not([type])",'input[type="text"]','input[type="email"]','input[type="search"]','input[type="tel"]','input[type="url"]','input[type="password"]','input[type="number"]','input[type="checkbox"]','input[type="radio"]',"select"],d([qi()],n.prototype,"inputHandler",null),d([_t()],n.prototype,"trackChanges",null),n}(Xe),wo=function(t){function n(){var n=t.call(this)||this;n.Vu="object"==typeof window.customElements&&"function"==typeof window.customElements.whenDefined&&"function"==typeof window.Promise,n.Gu=Dt("CustomElementRegistrationProducer:onElementsFound",(function(t){var i,r,e;try{for(var s=p(t),o=s.next();!o.done;o=s.next()){var u=o.value;Tr.isMaskedElement(u)||Tr.isMaskedElementChild(u)||P(e=u)&&k(e.tagName)&&csString.prototype.indexOf.call(e.tagName,"-")>0&&-1===csString.prototype.indexOf.call(e.tagName,":")&&-1===csString.prototype.indexOf.call(e.tagName,'"')&&-1===csString.prototype.indexOf.call(e.tagName,",")&&csArray.prototype.indexOf.call(W,csString.prototype.toLocaleLowerCase.call(e.tagName))<0&&n.register(csString.prototype.toLowerCase.call(u.tagName))}}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}}));var i=Ee(n.Gu);return n.$s=new gs((function(t){return i.push(t)})),n.Qo=new Set,n}return l(n,t),n.prototype.onStart=function(){this.Vu&&this.$s.observe()},n.prototype.onStop=function(){this.Qo.clear(),this.$s.disconnect()},n.prototype.register=function(t){return y(this,void 0,void 0,(function(){return w(this,(function(n){switch(n.label){case 0:return this.Qo.has(t)?[2]:(this.Qo.add(t),[4,window.customElements.whenDefined(t)]);case 1:return n.sent(),this.produceEvent({type:"CustomElementRegistration",tagName:csString.prototype.toLowerCase.call(t)}),[2]}}))}))},d([_t()],n.prototype,"register",null),n}(Xe),po=function(){function t(t){this.Un=t}return t.isNavigationTimingObserverSupported=function(){var t,n;return(null==(null===(t=window.PerformanceObserver)||void 0===t?void 0:t.supportedEntryTypes)?void 0:csArray.prototype.indexOf.call(null===(n=window.PerformanceObserver)||void 0===n?void 0:n.supportedEntryTypes,"navigation"))>=0},t.getTimeOrigin=function(){return window.performance.timeOrigin},t.Ju=function(){if(this.isNavigationTimingObserverSupported())return new window.PerformanceObserver((function(n){return t.Yu(n)}))},t.Yu=function(n){var i=n.getEntriesByType("navigation")[0];i&&(this.Wu=i,t.$u(i))},t.Hn=function(t){this.Xu(t),this.Wu&&t(this.Wu),this.Ku||this.Zu()},t.Xu=function(t){this.Qu.add(t)},t.tc=function(t){this.Qu.delete(t)},t.Zu=function(){if(this.nc||(this.nc=this.Ju()),!this.nc)return this.Wu||(this.Wu={requestStart:window.performance.timing.requestStart,domInteractive:window.performance.timing.domInteractive}),void this.$u(this.Wu);this.nc.observe({type:"navigation",buffered:!0}),this.Ku=!0},t.$u=function(t){this.Qu.forEach((function(n){return n(t)}))},t.$n=function(t){this.tc(t),0===this.Qu.size&&this.rc()},t.rc=function(){var t;this.Ku&&(null===(t=this.nc)||void 0===t||t.disconnect(),this.Ku=!1,this.Wu=null,this.nc=this.Ju())},t.prototype.observe=function(){t.Hn(this.Un)},t.prototype.disconnect=function(){t.$n(this.Un)},t.Ku=!1,t.Qu=new Set,t.Wu=null,t}(),mo=function(t){function n(){var n=t.apply(this,g([],m(arguments),!1))||this;return n.ec=null,n.sc=new po((function(t){if(!n.ec){var i=n.oc(t);i&&(n.ec=i,n.produceEvent(i))}})),n}return l(n,t),n.prototype.onStart=function(){this.ec?this.produceEvent(this.ec):this.sc.observe()},n.prototype.onStop=function(){this.sc.disconnect()},n.prototype.oc=function(t){var n=po.getTimeOrigin();return{type:"PerformanceTiming",timings:{timeOrigin:n,requestStart:Math.floor(n+t.requestStart),domInteractive:Math.floor(n+t.domInteractive)},timestamp:ei()}},n}(Xe);!function(t){t[t.TAP=0]="TAP",t[t.LONG_PRESS=1]="LONG_PRESS",t[t.DRAG=2]="DRAG",t[t.FLICK=3]="FLICK",t[t.PINCH_IN=4]="PINCH_IN",t[t.PINCH_OUT=5]="PINCH_OUT"}(lo||(lo={})),function(t){t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT"}(vo||(vo={}));var go,So=function(){function t(){}return t.prototype.compute=function(t,n){var i=this.cc(n.x)-this.cc(t.x),r=this.cc(n.y)-this.cc(t.y),e=n.time-t.time;return{duration:e,distance:this.hc(i,r),direction:this.ac(i,r),velocity:this.fc(i,r,e)}},t.prototype.computePinchMetrics=function(t,n){var i=this.cc(n.x)-this.cc(t.x),r=this.cc(n.y)-this.cc(t.y);return{duration:n.time-t.time,distance:this.hc(i,r)}},t.prototype.getScale=function(t,n){return Math.abs(n/t-1)},t.prototype.cc=function(t){return t/window.devicePixelRatio},t.prototype.hc=function(t,n){return Math.round(Math.sqrt(t*t+n*n))},t.prototype.fc=function(t,n,i){var r=i/1e3,e=t/r,s=n/r;return Math.round(Math.abs(e)+Math.abs(s))},t.prototype.ac=function(t,n){return Math.abs(t)>Math.abs(n)?t>0?vo.RIGHT:vo.LEFT:n>0?vo.DOWN:vo.UP},t}(),bo="undefined"!=typeof performance&&!!performance.now,Eo=bo?function(){return performance.now()}:csDate.now,Ao=bo?null===(go=performance.timing)||void 0===go?void 0:go.navigationStart:0,Ro=function(){return Math.round(Eo()+Ao)};function Oo(t,n){void 0===n&&(n=0);var i=Math.pow(10,n);return Math.round(t*i)/i}var To,No=function(){function t(){this.lc={},this.vc=function(){},this.yc=new So,this.wc()}return t.isGestureDetectionSupported=function(){return"undefined"!=typeof devicePixelRatio},t.prototype.onGesture=function(t){this.vc=t},t.prototype.isValidTouchEvent=function(t){return"touches"in t&&"changedTouches"in t},t.prototype.processActionDown=function(t){if(this.mc(t)){this.gc(t)&&this.wc();var n={x:t.touches[0].clientX,y:t.touches[0].clientY,time:Ro()};if(1===t.touches.length)this.lc.startPinchTime=n.time,this.lc.firstTouch=n;else if(2===t.touches.length&&(this.lc.secondTouch={x:t.touches[1].clientX,y:t.touches[1].clientY,time:Ro()},this.lc.firstTouch&&this.lc.secondTouch)){var i=this.yc.computePinchMetrics(this.lc.firstTouch,this.lc.secondTouch);this.Sc=i.distance}csArray.prototype.push.call(this.bc,n),this.Ec=yr(t)}},t.prototype.processActionMove=function(){this.Ac=!0},t.prototype.processActionUp=function(t){if(this.Rc(t)){if(csArray.prototype.push.call(this.bc,{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Ro()}),this.Oc(t)&&this.lc.startPinchTime){var n={x:t.touches[0].clientX,y:t.touches[0].clientY,time:this.lc.startPinchTime},i={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Ro()};this.lc.firstTouch&&(this.lc.firstTouch=n,this.lc.secondTouch=i),this.Tc(t)}this.Sc||this.Nc()&&this.kc(t)}},t.prototype.wc=function(){this.bc=[],this.Ec=null,this.Ac=!1,this.Sc=null,this.Cc=!0},t.prototype.kc=function(t){var n=this.yc.compute(this.bc[0],this.bc[1]);this.Cc=t.isTrusted;var i=this.Ac?this.Ic(n):this.Mc(n);if(this.xc(i.type,t.changedTouches)){var r=t.changedTouches[0];i.pageX=Oo(r.pageX,1),i.pageY=Oo(r.pageY,1)}this.vc(i,t)},t.prototype.Tc=function(t){if(this.lc.firstTouch&&this.lc.secondTouch){var n=this.yc.computePinchMetrics(this.lc.firstTouch,this.lc.secondTouch);this.Cc=t.isTrusted;var i=this.Pc(n);i&&this.vc(i,t)}},t.prototype.Pc=function(t){if(this.Sc&&!(this.yc.getScale(this.Sc,t.distance)<.1))return{type:this.Sc>t.distance?lo.PINCH_IN:lo.PINCH_OUT,target:this.Ec,distance:t.distance,isTrusted:this.Cc}},t.prototype.Ic=function(t){return{type:t.velocity<100?lo.DRAG:lo.FLICK,target:this.Ec,velocity:t.velocity,distance:t.distance,direction:t.direction,isTrusted:this.Cc}},t.prototype.Mc=function(t){return{type:t.duration<1e3?lo.TAP:lo.LONG_PRESS,target:this.Ec,isTrusted:this.Cc}},t.prototype.xc=function(t,n){return t===lo.TAP&&n&&1===n.length},t.prototype.gc=function(t){return 1===t.touches.length},t.prototype.Nc=function(){return 2===this.bc.length},t.prototype.mc=function(t){return t.touches.length>0},t.prototype.Rc=function(t){return t.changedTouches.length>0},t.prototype.Oc=function(t){return this.Ac&&!!this.Sc&&1===t.changedTouches.length&&1===t.touches.length},t}(),ko=function(){function t(t){this.Un=t}return t.prototype.observe=function(){t._c&&t.Dc(this.Un)},t.prototype.disconnect=function(){t._c&&t.Lc(this.Un)},t.Uc=function(n,i){csArray.prototype.forEach.call(on(t.Qu),(function(t){return t(n,i)}))},t.Dc=function(n){t.Qu.has(n)||(t.Qu.add(n),1===t.Qu.size&&(t.jc.onGesture(t.Uc),csArray.prototype.forEach.call(t.vs,(function(t){return sr(t)}))))},t.Lc=function(n){t.Qu.delete(n),0===t.Qu.size&&csArray.prototype.forEach.call(t.vs,(function(t){return or(t)}))},t.qc=function(n){if(t.jc.isValidTouchEvent(n))switch(n.type){case"touchstart":t.jc.processActionDown(n);break;case"touchmove":t.jc.processActionMove();break;case"touchend":t.jc.processActionUp(n)}},t.vs=[{boundElement:e.document,type:"touchstart",listener:function(n){return t.qc(n)}},{boundElement:e.document,type:"touchmove",listener:function(n){return t.qc(n)}},{boundElement:e.document,type:"touchend",listener:function(n){return t.qc(n)}}],t._c=No.isGestureDetectionSupported(),t.Qu=new Set,t.jc=new No,t}(),Co=function(t){function n(){var n=t.call(this)||this;return n.Hc=new ko(n.Fc.bind(n)),n}return l(n,t),n.prototype.onStart=function(){this.Hc.observe()},n.prototype.onStop=function(){this.Hc.disconnect()},n.prototype.Fc=function(t){var n=this.Bc(t);n&&this.produceEvent(n)},n.prototype.Bc=function(t){if(!this.zc(t))return null;var n,i=(n=t.target,Sr.getProperty(n,Ar));return i?{type:"Gesture",targetId:i,data:{type:t.type,direction:t.direction,distance:t.distance,velocity:t.velocity,pageX:t.pageX,pageY:t.pageY}}:null},n.prototype.zc=function(t){return null!==t.target&&!(P(t.target)&&Tr.isMaskedElementChild(t.target))},n}(Xe),Io=function(){function t(t){var n=this;this.Un=t,this.Vc=!1,this.Su={boundElement:e,type:"error",listener:function(t){return n.Gc(t)}}}return t.prototype.observe=function(){sr(this.Su,this.Vc)},t.prototype.disconnect=function(){or(this.Su,this.Vc)},t.prototype.Gc=function(t){this.Un(t)},t}(),Mo=function(t){function n(){var n=t.apply(this,g([],m(arguments),!1))||this;return n.Jc=new Io((function(t){return n.Yc(t)})),n}return l(n,t),n.prototype.Yc=function(t){var n=t.message,i=t.filename,r=t.lineno,e=t.colno;n=null!=n?n:"[NO ERROR MESSAGE]",i=!i||Xr(i)?"":i,this.produceEvent({type:"JSError",message:n,filename:i,lineno:r,colno:e})},n.prototype.onStart=function(){this.Jc.observe()},n.prototype.onStop=function(){this.Jc.disconnect()},n}(Xe),xo=function(t){function n(n){var i=t.call(this)||this;return i.Wc=n,i.$c=1024,i.Xc=150,i}return l(n,t),n.prototype.isListening=function(t){return"JSError"===t.type},n.prototype.processEvent=function(t){return t.message=Qe.truncate(t.message,this.$c,Qe.ELLIPSIS),t.filename=Qe.truncate(t.filename,this.Xc,Qe.ELLIPSIS),this.Wc(t)},n}(ts),Po=[],_o=!1,Do=Jt((function(){for(var t=csDate.now(),n=0;n<Po.length;n++)if(Po[n](),csDate.now()-t>=35)return Po=csArray.prototype.slice.call(Po,n+1),void csSetTimeout(Do);Po=[],_o=!1}),"executeTasks");!function(t){t[t.Started=0]="Started",t[t.Stopped=1]="Stopped",t[t.Processing=2]="Processing",t[t.Completed=3]="Completed"}(To||(To={}));var Lo=function(){function t(){var t=this;this.Kc=new Lt,this.Jr=To.Stopped,this.Un=null,this.Zc=function(n){t.Jr!==To.Stopped&&n&&(t.Un(n),t.Qc())}}return Object.defineProperty(t.prototype,"queueLength",{get:function(){return this.Kc.length},enumerable:!1,configurable:!0}),t.prototype.start=function(t){if(this.Un)throw new Error("callback already set");this.Jr=To.Started,this.Un=t},t.prototype.push=function(t){this.Kc.push(t),this.th()},t.prototype.stop=function(){this.Un=null,this.Jr=To.Stopped,this.Kc.clear()},t.pipe=function(n,i){var r,e,s=n,o=new csArray,u=function(n){var i=new t;i.start((function(t){n.pushEvent(t)})),csArray.prototype.push.call(o,i),tn(s,(function(t){return t.subscribe((function(t){return i.push(t)}))})),s=[n]};try{for(var c=p(i),h=c.next();!h.done;h=c.next()){u(h.value)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(r)throw r.error}}var a=new Uo(o);return tn(s,(function(t){return t.subscribe((function(t){return a.push(t)}))})),a},t.prototype.nh=function(){return this.Jr===To.Stopped},t.prototype.ih=function(){return this.Jr===To.Processing},t.prototype.Qc=function(){var t=this;this.nh()||(this.Kc.isEmpty?this.Jr=To.Completed:(this.Jr=To.Processing,function(t){if(csArray.prototype.push.call(Po,t),!_o){for(var n=0;n<3;n++)csSetTimeout(Do);_o=!0}}((function(){var n=t.Kc.pop();n instanceof ae?n.complete(t.Zc):t.Zc(n)}))))},t.prototype.th=function(){this.nh()||this.ih()||this.Qc()},t}(),Uo=function(t){function n(n){var i=t.call(this)||this;return i.rh=n,i}return l(n,t),Object.defineProperty(n.prototype,"queueLength",{get:function(){return csArray.prototype.reduce.call(this.rh,(function(t,n){return t+n.queueLength}),0)},enumerable:!1,configurable:!0}),n.prototype.stop=function(){t.prototype.stop.call(this),tn(this.rh,(function(t){return t.stop()}))},n}(Lo),jo=function(){function t(t,n){void 0===n&&(n=[]),this.producers=t,this.processors=n,this.Gn=!1,this.Qu=[]}return Object.defineProperty(t.prototype,"pendingEvents",{get:function(){var t,n;return null!==(n=null===(t=this.Kc)||void 0===t?void 0:t.queueLength)&&void 0!==n?n:0},enumerable:!1,configurable:!0}),t.prototype.start=function(){if(this.Gn)throw new Error("Recording is already started.");var t=this.Qu;this.Kc=Lo.pipe(this.producers,this.processors),this.Kc.start((function(n){return csArray.prototype.forEach.call(t,(function(t){return t(n)}))})),tn(this.producers,(function(t){return t.start()})),tn(this.processors,(function(t){return t.start()})),this.Gn=!0},t.prototype.stop=function(){var t,n,i,r;this.Kc.stop(),this.Qu.length=0;try{for(var e=p(this.producers),s=e.next();!s.done;s=e.next()){s.value.stop()}}catch(n){t={error:n}}finally{try{s&&!s.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}try{for(var o=p(this.processors),u=o.next();!u.done;u=o.next()){u.value.stop()}}catch(t){i={error:t}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}this.Gn=!1,this.Qu=[]},t.prototype.subscribe=function(t){var n=this;if(this.Gn)throw new Error("Recording is already started.");return csArray.prototype.push.call(this.Qu,t),function(){return n.Qu=csArray.prototype.filter.call(n.Qu,(function(n){return n!==t}))}},t}(),qo=function(t){function n(n){var i=t.call(this)||this;return i.fe=n,i}return vn(n,t),n.prototype.subscribe=function(n){return t.prototype.subscribe.call(this,n)},n.prototype.onStart=function(){var t=this;tn(this.fe,(function(n){n.onEvent((function(i){var r;return t.Br(i,null!==(r=n.eventType)&&void 0!==r?r:"browser")}))})),tn(this.fe,(function(t){var n;null===(n=t.start)||void 0===n||n.call(t)}))},n.prototype.onStop=function(){tn(this.fe,(function(t){var n;return null===(n=t.stop)||void 0===n?void 0:n.call(t)}))},n.prototype.Br=function(t,n){this.produceEvent({timestamp:ei(),type:"Legacy",originalEvent:t,eventType:n})},n}(Xe);function Ho(t){var n=function(t){var n={type:Fo(t.type)};for(var i in t){var r=t[i];void 0!==r&&"type"!==i&&(n[i]=r)}return n}(t.data);return{type:hr.GESTURE_RECOGNITION,args:[t.targetId,n],date:t.timestamp}}function Fo(t){switch(t){case lo.DRAG:case lo.FLICK:return fr.SWIPE;case lo.LONG_PRESS:return fr.LONG_PRESS;case lo.TAP:return fr.TAP;case lo.PINCH_IN:return fr.PINCH_IN;case lo.PINCH_OUT:return fr.PINCH_OUT}}var Bo;function zo(t){return function(t,n){var i=[],r=!1;return{push:function(t){var e=this;csArray.prototype.push.call(i,t),i.length!==n.batchSize?n.autoFlushDelay&&n.autoFlushDelay>0&&!r&&(r=!0,csSetTimeout((function(){r=!1,i.length>0&&e.flush()}),n.autoFlushDelay)):this.flush()},flush:function(){if(i.length){var n=i;i=[],t(n)}}}}((function(n){var i={visibleInViewPort:n},r={type:hr.TEXT_VISIBILITY,date:ei(),args:[i]};t(r)}),{batchSize:20,autoFlushDelay:1e3})}!function(t){t.REQUEST_START="requestStart",t.DOM_INTERACTIVE="domInteractive",t.TIME_ORIGIN="timeOrigin"}(Bo||(Bo={}));dn(dn({},{connectEnd:"ce",connectStart:"cs",decodedBodySize:"dbs",domainLookupEnd:"dle",domainLookupStart:"dls",duration:"d",fetchStart:"fs",initiatorType:"it",name:"n",nextHopProtocol:"nhp",redirectEnd:"re",redirectStart:"rs",requestStart:"rqs",responseEnd:"rse",responseStart:"rss",responseStatus:"rst",secureConnectionStart:"scs",startTime:"st",transferSize:"ts"}),{domComplete:"dc",domContentLoadedEventEnd:"dclee",domContentLoadedEventStart:"dcles",domInteractive:"di",loadEventEnd:"lee",loadEventStart:"les",type:"t"});var Vo=0;var Go,Jo=function(){function t(t,n,i,r,e){var s=this;this.eh=t,this.oh=n,this.uh=i,this.ye=r,this.we=e,this.hh=function(){},this.ah=function(){},this.fh=zo((function(t){return s.hh(t)}))}return Object.defineProperty(t.prototype,"pendingEvents",{get:function(){return this.eh.pendingEvents},enumerable:!1,configurable:!0}),t.prototype.start=function(){var t,n,i=this;this.yh={processEvent:function(t,n){if(t.originalEvent.type===hr.PERFORMANCE_RESOURCE_TIMING)return Vo>=500?null:(Vo+=1,n(dn(dn({},t.originalEvent),{date:t.timestamp})));n(t.originalEvent)},reset:function(){Vo=0}},this.eh.subscribe((function(t){var n,r,e,s,o,u,c=t,h=c.timestamp;switch(c.type){case"Legacy":var a="user"===c.eventType?null!==(n=i.ah)&&void 0!==n?n:function(){}:i.hh;i.yh.processEvent(c,a);break;case"CustomElementRegistration":i.hh({type:hr.CUSTOM_ELEMENT_REGISTRATION,date:h,args:[c.tagName]});break;case"DomEvent":!function(t,n,i){var r,e,s=t.timestamp;switch(t.domEvent){case"initialDOM":var o=t.initialDOM,u={type:hr.INITIAL_DOM,date:s,args:[o]};i.emitInitialDomDone(u);break;case"nodesAdded":csArray.prototype.forEach.call(t.nodes,(function(i){n({type:hr.MUTATION_INSERT,date:s,args:[t.target,t.nextSibling,i]})}));break;case"nodesMoved":try{for(var c=gn(t.nodesIds),h=c.next();!h.done;h=c.next()){var a=h.value;n({type:hr.MUTATION_MOVE,date:s,args:[a,t.nextSibling,t.target]})}}catch(t){r={error:t}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(r)throw r.error}}break;case"nodesRemoved":csArray.prototype.forEach.call(t.nodesIds,(function(t){n({type:hr.MUTATION_REMOVE,date:s,args:[t]})}));break;case"attributeChanged":var f=t.target,l=t.namespace,v=t.attribute,d=t.newValue;n({type:hr.MUTATION_ATTRIBUTE,date:s,args:[f,l,v,d]});break;case"characterDataChanged":f=t.target,d=t.newValue,n({type:hr.MUTATION_CHARACTER_DATA,date:s,args:[f,d]});break;case"cssRuleInserted":f=t.target;var y=t.rule,w=N(p=t.index)?[f,y,p]:[f,y];n({type:hr.STYLESHEET_RULE_INSERT,date:s,args:w});break;case"cssRuleDeleted":f=t.target;var p=t.index;n({type:hr.STYLESHEET_RULE_DELETE,date:s,args:[f,p]});break;case"cssRuleUpdated":f=t.target,y=t.rule,p=t.index,n({type:hr.STYLESHEET_RULE_UPDATE,date:s,args:[f,y,p]});break;case"shadowRootAttached":f=t.target;var m=t.shadowRoot;n({type:hr.ATTACH_SHADOW,date:s,args:[f,m]});break;case"adoptedStyleSheetRegistered":var g=t.sheetId,S=t.cssRules;n({type:hr.REGISTER_ADOPTED_STYLE_SHEET,date:s,args:[g,{cssRules:S}]});break;case"adoptedStyleSheetsSet":f=t.target;var b=t.sheetsIds;n({type:hr.SET_ADOPTED_STYLE_SHEETS,date:s,args:[f,b]});break;case"adoptedStyleSheetRuleInserted":g=t.sheetId,y=t.rule,w=N(p=t.index)?[g,y,p]:[g,y],n({type:hr.ADOPTED_STYLESHEET_RULE_INSERT,date:s,args:w});break;case"adoptedStyleSheetRuleDeleted":g=t.sheetId,p=t.index,n({type:hr.ADOPTED_STYLESHEET_RULE_DELETE,date:s,args:[g,p]});break;case"adoptedStyleSheetRuleUpdated":w=[g=t.sheetId,y=t.rule,p=t.index],n({type:hr.ADOPTED_STYLESHEET_RULE_UPDATE,date:s,args:w});break;default:Ui.error("translateDOMEvent: DOMEvent not supported")}}(c,i.hh,i.oh);break;case"InputEvent":var f=function(t){switch(t.inputType){case"text":return{type:hr.INPUT_TEXT,args:[t.target,t.value],date:t.timestamp};case"select":return{type:hr.INPUT_SELECT,args:[t.target,t.selectedIndex],date:t.timestamp};case"checkable":return{type:hr.INPUT_CHECKABLE,args:[t.target,t.checked],date:t.timestamp}}}(c);null===(r=i.ah)||void 0===r||r.call(i,f);break;case"encryptedCharacterDataChanged":var l=c.target,v=c.rawData,d=c.encryptedData,y=c.encryptionMetadata;i.hh({type:hr.MUTATION_ENCRYPTED_CHARACTER_DATA,date:h,args:[l,v,d,y]});break;case"StaticResource":var w=c.url;i.hh({type:hr.STATIC_RESOURCE_URL,date:h,args:[w]});break;case"ResizeMaskedElement":l=c.target;var p=c.width,m=c.height;i.hh({type:hr.MUTATION_ATTRIBUTE,date:h,args:[l,"","style","width:".concat(p,"px !important;height:").concat(m,"px !important;")]});break;case"Gesture":var g=Ho(t);null===(e=i.ah)||void 0===e||e.call(i,g);break;case"TextVisibility":i.fh.push(c.text);break;case"StaticResourceManagerEvent":null===(s=i.uh)||void 0===s||s.processEvent(c);break;case"screenResize":p=c.width,m=c.height;var S={type:hr.SCREEN_RESIZE,date:h,args:[p,m]};i.hh(S);break;case"viewportResize":p=c.width,m=c.height;var b={type:hr.RESIZE,date:h,args:[p,m]};i.hh(b);break;case"PerformanceTiming":i.hh(function(t){return{type:hr.PERFORMANCE_TIMINGS,args:[{performanceTiming:Bo.REQUEST_START,timestamp:t.timings.requestStart},{performanceTiming:Bo.DOM_INTERACTIVE,timestamp:t.timings.domInteractive},{performanceTiming:Bo.TIME_ORIGIN,timestamp:t.timings.timeOrigin}],date:t.timestamp}}(c));break;case"CustomError":(E=null===(o=i.we)||void 0===o?void 0:o.translate(c))&&i.hh(E);break;case"JSError":(E=null===(u=i.ye)||void 0===u?void 0:u.translate(c))&&i.hh(E);break;case"VideoEvent":var E;(E=function(t){switch(t.videoEventType){case"play":return{type:hr.VIDEO_PLAY,args:[t.nodeId],date:t.timestamp};case"pause":return{type:hr.VIDEO_PAUSE,args:[t.nodeId],date:t.timestamp};case"seeked":var n=t;return{type:hr.VIDEO_SEEK,args:[n.nodeId,n.newTimePositionInSec],date:t.timestamp};default:return null}}(c))&&i.hh(E);break;case"warning":Ui.warn(c.message);break;default:Ui.error("WebRecorderEventTranslator: Event not supported (".concat(c.type,")"))}})),this.oh.emitInitialDomStart(),null===(t=this.ye)||void 0===t||t.start(),null===(n=this.we)||void 0===n||n.start(),this.eh.start()},t.prototype.stop=function(){var t,n,i;this.reset(),this.flush(),this.eh.stop(),null===(t=this.uh)||void 0===t||t.flushEvents(),null===(n=this.ye)||void 0===n||n.stop(),null===(i=this.we)||void 0===i||i.stop()},t.prototype.flush=function(){this.fh.flush()},t.prototype.onEvent=function(t,n){var i,r=this;this.hh=t,this.ah=n,null===(i=this.uh)||void 0===i||i.onEvent((function(t){return r.hh(t)}))},t.prototype.reset=function(){this.yh.reset()},t}(),Yo=function(){function t(t){void 0===t&&(t=100),this.ph=t,this.mh={},this.gh=null,this.ar="original-resource-name"}return t.prototype.onEvent=function(t){this.Sh=t},t.prototype.processEvent=function(t){this.bh(t.resourceId,t.resource.hash,t.originalResourceName),this.Eh(t)},t.prototype.flushEvents=function(){this.gh&&csClearTimeout(this.gh),this.Ah()},t.prototype.onSendStaticResource=function(t){this.Eh=t},t.prototype.Ah=function(){if(Object.keys(this.mh).length){var t={type:hr.RESOURCE_HASHES,date:ei(),args:[this.mh]};this.gh=null,this.mh={},this.Sh(t)}},t.prototype.bh=function(t,n,i){var r=this,e=n;i&&(e+="?".concat(this.ar,"=").concat(i)),this.mh[t]=e,this.gh||(this.gh=window.csSetTimeout((function(){return r.Ah()}),this.ph))},t}(),Wo=function(){function t(t,n,i){this.oh=t,this.It=n,this.Rh=i,this.Oh=zr.ETR_DISABLED,this.Th=zr.ETR_PENDING,this.Nh=!0}return t.prototype.getEtrStatus=function(t){void 0===t&&(t=this.It.getSession());var n=null==t?void 0:t.etrStatus;return this.kh()&&n===zr.ETR_SAVED_SESSION?n:this.Oh},t.prototype.onEventTriggerRecording=function(t,n){switch(n){case Br.ETR_PAGE:this.Ch(zr.ETR_SAVED_PAGE);break;case Br.ETR_LEGACY:case Br.ETR_SESSION:this.Ch(zr.ETR_SAVED_SESSION)}},t.prototype.handleCollectStateChange=function(t){this.Nh=!1,t?this.Ih(this.Th):this.Ih(zr.ETR_DISABLED)},t.prototype.handleArtificialPageview=function(){this.Rh?(this.Nh=!0,this.Ih(zr.ETR_DISABLED)):this.kh()&&this.Ih(zr.ETR_PENDING)},t.prototype.handleSessionRenewal=function(){this.Nh=!0,this.Ih(zr.ETR_DISABLED)},t.prototype.Ih=function(t){this.Oh=t,this.Th=zr.ETR_PENDING,this.Mh(t),this.oh.emitRecordingContextChange()},t.prototype.Ch=function(t){this.Nh?Number(t)>Number(this.Th)&&(this.Th=t):this.kh()&&Number(t)>Number(this.Oh)&&(this.Oh=t,this.Mh(t),this.oh.emitRecordingContextChange())},t.prototype.Mh=function(t){var n=this.It.getSession();null!==n&&n.etrStatus===zr.ETR_NOT_SAVED_SESSION&&t===zr.ETR_SAVED_SESSION&&(n.etrStatus=t,this.It.setSession(n))},t.prototype.kh=function(){return this.Oh!==zr.ETR_DISABLED},t}();function $o(t,n){var i,r,e,s,o=null,u=function(c){var h=si();if(!c&&null!==o){var a=n-(h-o);if(a>0)return void(r=window.csSetTimeout(u,a))}var f=h-e;r=null,o=null,e=null,s=t.apply(void 0,Rt([f],At(i),!1))},c=function(){for(var t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];if(i=Rt([],At(t),!1),!e)return e=si(),r=window.csSetTimeout(u,n),s;o=si()};return c.flushPending=function(){r&&(window.csClearTimeout(r),u(!0))},c.cancel=function(){o=null,e=null,r&&(window.csClearTimeout(r),r=null)},c}function Xo(t){return void 0===t&&(t=0),function(n,i,r){var e=r.value,s=!1;r.value=function(){for(var n=this,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];s||(s=!0,csSetTimeout((function(){s=!1,e.apply(n,i)}),t))}}}!function(t){t[t.NOT_EXIST=2]="NOT_EXIST"}(Go||(Go={}));var Ko,Zo,Qo=function(t){function n(n,i,r){var e=t.call(this)||this;return e.uh=n,e.xh=i,e.Ph=r,e._h={},e.Dh=new Set,e.ih=!1,e}return vn(n,t),n.prototype.initState=function(){var t=this;ui()&&(this.Lh=this.Ph.getRequestParameters(),this.Uh="".concat(this.xh,"/exist?").concat(In.toQuery(this.Lh)),this.jh="".concat(this.xh,"/putTag?").concat(In.toQuery(this.Lh)),this.qh=$o((function(){return pn(t,void 0,void 0,(function(){return mn(this,(function(t){switch(t.label){case 0:if(this.ih)return this.qh(),[2];this.ih=!0,t.label=1;case 1:return t.trys.push([1,,3,4]),[4,this.Hh()];case 2:return t.sent(),[3,4];case 3:return this.ih=!1,[7];case 4:return[2]}}))}))}),300),this.uh.onSendStaticResource((function(n){t.Fh(n)})))},n.prototype.onStart=function(){},n.prototype.onStop=function(){},n.prototype.onIframeStaticResource=function(t){this.Fh(t)},n.prototype.Fh=function(t){var n=this;this.Bh(t.resource.hash,t.resource.data),t.nestedResources&&t.nestedResources.length>0&&csArray.prototype.forEach.call(t.nestedResources,(function(t){n.Bh(t.hash,t.data)}))},n.prototype.Bh=function(t,n){this.Dh.has(t)||(this.Dh.add(t),this._h[t]=n,this.qh())},n.prototype.Hh=function(){return pn(this,void 0,void 0,(function(){var t,n,i,r=this;return mn(this,(function(e){switch(e.label){case 0:return t=this._h,this._h={},[4,this.zh(t)];case 1:return(n=e.sent()).length?(i=this.Vh(n),[4,Promise.all(csArray.prototype.map.call(i,(function(t){return window.fetch(r.jh,{method:"POST",body:t})})))]):[2];case 2:return e.sent(),[2]}}))}))},n.prototype.Gh=function(t){return pn(this,void 0,void 0,(function(){var n,i;return mn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),(n=Object.keys(t)).length?(i={projectId:this.Lh.pid,filter:Go.NOT_EXIST,hashes:n,touch:!0},[4,window.fetch(this.Uh,{method:"POST",body:csJSON.stringify(i)})]):[2,[]];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()];case 3:return r.sent(),[2,[]];case 4:return[2]}}))}))},n.prototype.zh=function(t){return pn(this,void 0,void 0,(function(){var n,i;return mn(this,(function(r){switch(r.label){case 0:return n=[],[4,this.Gh(t)];case 1:return i=r.sent(),csArray.prototype.forEach.call(i,(function(i){var r=t[i];r?csArray.prototype.push.call(n,{hash:i,data:r}):Ui.warn("SRM: received unknown hash: "+i)})),[2,n]}}))}))},n.prototype.Vh=function(t){var n,i,r=0,e=[new FormData];try{for(var s=gn(t),o=s.next();!o.done;o=s.next()){var u=o.value,c=u.data,h=u.hash,a=e.length-1;if((r+=c.size)<8388608)e[a].append("",c,h);else{var f=new FormData;f.append("",c,h),r=c.size,csArray.prototype.push.call(e,f)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return e},n}(_r),tu=function(){function t(t){this.Jh=t,this.Yh=20,this.Wh=0,this.Cr=!1}return t.prototype.translate=function(t){if(this.Wh>=this.Yh)return this.Jh.stop(),null;this.Wh+=1;var n=t.filename,i=t.message,r=t.lineno,e=t.colno,s=t.timestamp;return{type:hr.JAVASCRIPT_ERROR,date:s,args:[{errorType:"jsError",message:i,filename:n,lineno:r,colno:e}]}},t.prototype.start=function(){this.Cr||(this.Wh=0,this.Cr=!0)},t.prototype.stop=function(){this.Cr=!1},t}(),nu=function(){function t(){this.Yh=20,this.$h=0,this.Cr=!1}return t.prototype.translate=function(t){if(this.$h>=this.Yh)return null;this.$h+=1;var n=t.message,i=t.attributes,r=t.timestamp;return{type:hr.CUSTOM_ERROR,date:r,args:[{errorType:"customError",message:n,attributes:i}]}},t.prototype.start=function(){this.Cr||(this.$h=0,this.Cr=!0)},t.prototype.stop=function(){this.Cr=!1},t}(),iu="v2/recording",ru=["isRecording"],eu=["replay:resourceManager:enableForOnlineResource:nextPageviewOnly","cssrm:onlineAssets:activateForNextPageview"],su=["replay:resourceManager:getStatus","cssrm:getStatus"],ou=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S,b){this.Xh=t,this.It=n,this.wt=i,this.Lh=r,this.Kh=e,this.gt=s,this.ie=o,this.Zh=u,this.re=c,this.ee=h,this.se=a,this.Qh=f,this.oh=l,this.ta=v,this.na=d,this.ia=y,this.ra=w,this.lu=p,this.de=m,this.ea=g,this.sa=S,this.oe=b}return t.prototype.init=function(){var t,n=this,i=[],r=[];csArray.prototype.push.call(r,new Ns),this.oa=new to(this.ea.shouldUseAnonymization(),this.wt.whitelistedAttributes,this.gt,this.wt.anonymizeDigits),this.ua();var e=new Ts("csPersisted");this.ca(e);var s=new xr;this.Qr=new Mr;var o=new bs;csArray.prototype.push.call(i,o),this.wt.useStaticResourceManager&&cs.isSupported()&&(this.ve=new cs,this.uh=new Yo,this.ha=new Qo(this.uh,this.wt.getStaticResourceManagerUri(),this.Lh),this.na.addListener(this.ha),csArray.prototype.push.call(r,this.ve));var u=new ys(s,this.Lh,{getRequestParameters:function(){return{let:n.recordingService.getRecordingLastEventTimestamp()}}},{getRequestParameters:function(){return{rst:n.recordingService.getRecordingStartTimestamp()}}},{getRequestParameters:function(){return{rt:csArray.prototype.join.call(n.It.getCollectStates(),",")}}}),c=new Es("".concat(this.wt.getRecordingUri(),"/").concat(iu));csArray.prototype.push.call(r,this.oa),csArray.prototype.push.call(r,new no(this.lu)),csArray.prototype.push.call(r,new ro),this.aa=new Cr,this.aa.init(),csArray.prototype.push.call(i,this.aa),this.ce=new ds(e,c,this.ue),csArray.prototype.push.call(i,new ws(window.location,this.gt));var h=new Ze,a=new so,f=new co,l=new yo(this.oe),v=new wo,d=[a,this.Zh,h,new qo(csArray.prototype.filter.call(i,(function(t){return t}))),v,new mo,new Co,l,f];this.wt.textVisibilityEnabled&&Vs.isSupported()&&(this.fa=new $s,csArray.prototype.push.call(d,this.fa)),this.wt.jsErrorsEnabled&&(this.Jh=new Mo,this.va=new xo((function(t){return n.re.anonymize(t)})),this.ye=new tu(this.Jh),csArray.prototype.push.call(d,this.Jh),csArray.prototype.push.call(r,this.va)),(null===(t=this.wt.customErrors)||void 0===t?void 0:t.enabled)&&(this.we=new nu);var y=new jo(d,r),w=new Jo(y,this.oh,this.uh,this.ye,this.we),p=[h,a,f,l,v];this.recordingService=new vs(this.wt,this.Qr,u,s,this.ie,this.It,this.re,this.ee,this.se,this.oe,this.ue,this.ce,c,w,i,p,this.ve,this.de,this.ye,this.we),this.ta.addListener(this.recordingService),this.na.addListener(this.recordingService),this.recordingService.init(),this.Kh.register(ru,(function(){return n.It.isReplayRecorded()&&!n.ia.isUrlExcludedForSessionReplay()})),this.Kh.register(eu,(function(){n.recordingService.activateOnlineAssetsOnNextPageview(),n.oh.emitRecordingContextChange()})),this.Kh.register(su,(function(){return n.recordingService.getStaticResourceManagerStatus()})),this.da=new Wo(this.oh,this.It,this.wt.malkaUrlEnabled),this.ta.addListener(this.da),this.Xh.enableRecordingContext(this.recordingService,this.It,this.da),this.ya()},t.prototype.onAfterNaturalPageView=function(){var t;this.ia.isUrlExcludedForSessionReplay()?this.recordingService.resetOnlineAssetsOnPageview():this.recordingService.updateOnlineAssetsOnPageview(),null===(t=this.ha)||void 0===t||t.initState()},t.prototype.onStartTracking=function(){this.ce.recover(),this.ua(),this.It.isReplayRecorded()&&!this.ia.isUrlExcludedForSessionReplay()&&(this.It.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.wa())},t.prototype.onArtificialPageViewEnd=function(){!this.It.isReplayRecorded()||this.ia.isUrlExcludedForSessionReplay()||this.It.isTemporarilyRecorded()||this.ce.sendLastMessageBeacon(),this.recordingService.clearStates()},t.prototype.onBeforeArtificialPageView=function(){this.da.handleArtificialPageview()},t.prototype.onAfterArtificialPageView=function(){this.ua(),this.It.isReplayRecorded()&&!this.ia.isUrlExcludedForSessionReplay()?(this.It.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.recordingService.updateOnlineAssetsOnPageview(),this.pa()):(this.recordingService.resetOnlineAssetsOnPageview(),this.ma())},t.prototype.onBeforeSessionRenewal=function(){this.da.handleSessionRenewal(),this.recordingService.clearStates(),this.ma()},t.prototype.onOptout=function(){this.ma(),this.recordingService.onOptOut()},t.prototype.onReplayUnanonymizationConsentGranted=function(){this.ua(),this.recordingService.triggerUnanonymizationConsentGranted(),this.oh.emitRecordingContextChange()},t.prototype.onReplayUnanonymizationConsentWithdrawn=function(){this.ua(),this.recordingService.triggerUnanonymizationConsentWithdrawn(),this.oh.emitRecordingContextChange()},t.prototype.onCollectStateChange=function(t,n){if(t===Hr.QUOTA_REACHED||t===Hr.ANALYTICS_ONLY&&n===Fr.ETR_OFF)this.recordingService.clearEvents(),this.ma();else{this.ue.setQueryParams({rt:csArray.prototype.join.call(this.It.getCollectStates(),",")}),this.recordingService.allowSendingEventsFromQuotaService(),this.recordingService.pushEvents();var i=t===Hr.ANALYTICS_ONLY&&n===Fr.ETR_ON;this.da.handleCollectStateChange(i)}},t.prototype.onInitialDomStart=function(){this.recordingService.blockSendingEventsFromSerialization(),this.ce.blockSendingLastMessage()},t.prototype.onInitialDomDone=function(t){this.recordingService.allowSendingEventsFromSerialization(),this.recordingService.addInitialDom(t),this.ce.allowSendingLastMessage(),this.aa.start(),this.recordingService.pushEvents()},t.prototype.onAfterReplayRecordingConsentGranted=function(){this.It.isReplayRecorded()&&!this.ia.isUrlExcludedForSessionReplay()&&(this.It.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.wa(),this.recordingService.triggerRecordingForSessionGranted())},t.prototype.onAfterReplayRecordingConsentWithdrawn=function(){this.recordingService.isRecording()&&(this.recordingService.triggerRecordingForSessionWithdrawn(),this.recordingService.clearStates(),this.ma())},t.prototype.ya=function(){var t,n,i,r;(null===(n=null===(t=this.wt.experimental.sessionReplay)||void 0===t?void 0:t.shadowRoot)||void 0===n?void 0:n.filterByHostSelector)&&tn(null===(r=null===(i=this.wt.experimental.sessionReplay)||void 0===i?void 0:i.shadowRoot)||void 0===r?void 0:r.filterByHostSelector,(function(t){Nr(t)&&_e.setShadowRootFilter((function(n){try{return nt.call(n.host,t)}catch(t){return!1}}))}))},t.prototype.wa=function(){this.recordingService.start(),this.ce.start(),this.oh.emitRecordingContextChange()},t.prototype.ma=function(){var t;void 0===t&&(t=!1),t&&(Er=1),Ar=csSymbol("nodeIdentifier"),this.recordingService.stop(),this.ce.stop(),this.oh.emitRecordingContextChange()},t.prototype.pa=function(){this.ma(),this.wa()},t.prototype.ca=function(t){this.ue=this.ra.create("".concat(this.wt.getRecordingUri(),"/").concat(iu),!0,"byteArray",t,["rt","v","pid","pn","sn","uu"])},t.prototype.ua=function(){var t,n=this.ea.shouldUseAnonymization();this.oa.setAnonymization(n),null===(t=this.fa)||void 0===t||t.setAnonymization(n)},wn([Xt("Recording.onStartTracking")],t.prototype,"onStartTracking",null),wn([Xt("onInitialDomDone")],t.prototype,"onInitialDomDone",null),t}();!function(t){t[t.NOT_NEEDED=1]="NOT_NEEDED",t[t.NOT_EXPRESSED=2]="NOT_EXPRESSED",t[t.WITHDRAWN=3]="WITHDRAWN",t[t.GRANTED=4]="GRANTED"}(Ko||(Ko={})),function(t){t.isReplayConsentNeeded=function(t){return t.replayConsentRequiredForSession},t.isRecordingBlockedByConsent=function(t){return t.collectState===Hr.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED||t.collectState===Hr.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN},t.isRecordingWithDrawn=function(t){return t.collectState===Hr.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}}(Zo||(Zo={}));var uu=function(){function t(t,n,i,r){this.Ct=t,this.It=n,this.wt=i,this.ga=r,this.Sa=!1}return t.prototype.isNaturalPageViewSent=function(){return this.Sa},t.prototype.setNaturalPageViewSent=function(t){this.Sa=t},t.prototype.getTrackingContext=function(){var t=this.It.getSession();if(!t)return null;var n=this.getSessionKey();if(!n)return null;var i=this.wt.projectId,r=this.wt.uxaDomain,e=t.pageNumber,s=this.ga.getPageViewType(),o=this.It.isReplayRecorded(),u=this.ba(t);return dn({projectId:i,sessionKey:n,pageNumber:e,pageViewType:s,isRecording:o,uxaDomain:r,recordingConsentState:u},this.wt.smbConfig)},t.prototype.getSessionKey=function(){var t=this.Ct.getVisitor();return t?"".concat(t.id,".").concat(t.visitsCount):null},t.prototype.ba=function(t){return Zo.isReplayConsentNeeded(this.wt)?t.collectState===Hr.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED?Ko.NOT_EXPRESSED:t.collectState===Hr.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Ko.WITHDRAWN:Ko.GRANTED:Ko.NOT_NEEDED},t}(),cu=function(){function t(t){this.Ea=t,this.Aa=[]}return t.prototype.handleCommand=function(t){if(C(t)&&(this.Ra(t),this.Ea.isNaturalPageViewSent())){var n=this.Ea.getTrackingContext();null!==n&&this.Oa(t,n)}},t.prototype.Ra=function(t){csArray.prototype.push.call(this.Aa,t)},t.prototype.executeRegisteredCallbacks=function(){var t=this,n=this.Ea.getTrackingContext();null!==n&&csArray.prototype.map.call(this.Aa,(function(i){return t.Oa(i,n)}))},t.prototype.Oa=function(t,n){csSetTimeout((function(){t(n)}))},t}(),hu=function(){function t(t){this.Ea=t,this.Ta=[]}return t.prototype.handleCommand=function(t){return this.Ea.isNaturalPageViewSent()?this.Na(t):void this.ka(t)},t.prototype.Na=function(t){var n=this.Ea.getSessionKey();return this.Ca(t)&&null!==n&&this.Oa(t.callback,n),n},t.prototype.ka=function(t){this.Ca(t)&&csArray.prototype.push.call(this.Ta,t.callback)},t.prototype.flushPendingCallbacks=function(){var t=this,n=this.Ea.getSessionKey();null!==n&&csArray.prototype.forEach.call(this.Ta,(function(i){t.Oa(i,n)})),this.Ta=[]},t.prototype.Ca=function(t){return t&&"function"==typeof t.callback},t.prototype.Oa=function(t,n){csSetTimeout((function(){t(n)}))},t}(),au=function(){function t(t,n){this.Ia=t,this.Ea=n}return t.prototype.onTrackingContextRequestCallback=function(t){var n=this.Ea.getTrackingContext();null!==n&&this.Ia.sendToChildren(Ni.TrackingContextResultMessage,dn(dn({},t),{trackingContext:n}))},t.prototype.onIframeIntegrationCallback=function(t){if(this.Ea.isNaturalPageViewSent()){var n=this.Ea.getTrackingContext();null!==n&&(t.trackingContext=n,this.Ia.sendToChildren(Ni.IntegrationCallback,t))}},t.prototype.sendAfterPageViewCallbackToChildren=function(){var t=this.Ea.getTrackingContext();if(null!==t){var n={trackingContext:t,initiator:Oi.AfterPageView};this.Ia.sendToChildren(Ni.IntegrationCallback,n)}},t}();var fu,lu,vu=function(){function t(t){this.Ea=t}return t.prototype.handleCommand=function(t,n){T(t)&&C(n)&&this.Oa(t,n)},t.prototype.Oa=function(t,n){var i=this;csSetTimeout((function(){var r=i.Ea.getTrackingContext();if(r){var e=function(t,n){var i,r=t.isRecording,e=t.pageNumber,s=t.projectId,o=t.siteId,u=t.uxaDomain,c=t.csLiteDomain,h=/^(.+)\.(\d+)$/.exec(t.sessionKey);if(r&&h){var a=Sn(h,3),f=a[1],l=a[2];i=o?"".concat(c,"/sites/").concat(o,"/player?uu=").concat(f,"&sn=").concat(l,"&pn=").concat(e):"".concat(u,"/quick-playback/index.html?pid=").concat(s,"&uu=").concat(f,"&sn=").concat(l,"&pvid=").concat(e,"&recordingType=cs"),n.withTimestamp&&(i+="&t=".concat(ei()-n.recordingStartTimestamp))}return{replayLink:i,isRecording:r}}(r,t);n(e)}}))},t}(),du=function(){function t(){this.Aa=new Set}return t.prototype.handleCommand=function(t,n){var i=this;return C(t)?this.Aa.has(t)?null:(this.Aa.add(t),n&&(this.vo=n,this.Ma(t,n)),function(){return i.Aa.delete(t)}):null},t.prototype.executeCallbacks=function(t){var n=this;this.xa(t)&&(this.vo=t,this.Aa.forEach((function(i){return n.Ma(i,t)})))},t.prototype.Ma=function(t,n){csSetTimeout((function(){try{t(n)}catch(t){}}))},t.prototype.xa=function(t){var n=t.isRecording,i=t.recordingStartTimestamp,r=t.etrState,e=t.etrStatus,s=t.collectState;return this.vo&&(this.vo.isRecording!==n||this.vo.recordingStartTimestamp!==i||this.vo.etrState!==r||this.vo.etrStatus!==e||this.vo.collectState!==s)},t}(),yu=["afterPageView"],wu=["getSessionKey"],pu=["onRecordingContextChange","onRecordingStateChange"],mu=["replay:link:generate"],gu=function(){function t(t,n,i,r,e,s,o,u){this.Ct=t,this.It=n,this.Kh=i,this.Pa=r,this.Ia=e,this.wt=s,this.ga=o,this.Xh=u}return t.prototype.init=function(){var t=this;this.Ea=new uu(this.Ct,this.It,this.wt,this.ga),this._a=new cu(this.Ea),this.Da=new hu(this.Ea),this.La=new du,this.Ua=new vu(this.Ea),this.ja=new au(this.Ia,this.Ea),this.Pa.addListener(this.ja),this.Kh.register(wu,(function(n){return t.Da.handleCommand(n)})),this.Kh.register(yu,(function(n){return t._a.handleCommand(n)})),this.Kh.register(pu,(function(n){t.La.handleCommand(n,t.Xh.getRecordingContext())})),this.Kh.register(mu,(function(n,i){t.qa&&t.Ua.handleCommand(dn(dn({},n),{recordingStartTimestamp:t.Xh.getRecordingContext().recordingStartTimestamp}),i)}))},t.prototype.onAfterNaturalPageView=function(){this.Ea.setNaturalPageViewSent(!0),this.Da.flushPendingCallbacks(),this._a.executeRegisteredCallbacks(),this.ja.sendAfterPageViewCallbackToChildren()},t.prototype.onAfterArtificialPageView=function(){this._a.executeRegisteredCallbacks(),this.ja.sendAfterPageViewCallbackToChildren()},t.prototype.onCollectStateChange=function(){this.executeRecordingContextChangeCallbacks()},t.prototype.onRecordingContextChange=function(){this.executeRecordingContextChangeCallbacks()},t.prototype.executeRecordingContextChangeCallbacks=function(){this.La.executeCallbacks(this.Xh.getRecordingContext())},t.prototype.setRecordingService=function(t){this.qa=t},wn([Xo()],t.prototype,"executeRecordingContextChangeCallbacks",null),t}(),Su=function(){function t(t,n){this.key=csString.prototype.slice.call(t,0,512),this.value=R(n)?csString.prototype.slice.call(n,0,255):n}return t.isKeyValid=function(t){return R(t)},t.isValueValid=function(t){return R(t)||A(t)},t}(),bu=function(t){function n(n,i){var r=t.call(this)||this;return r.Ha=n,r.gt=i,r.Fa=[],r}return vn(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.Fa,(function(n){return t.Ba(n.key,n.value)})),this.Fa=[]},n.prototype.onStop=function(){},n.prototype.Ba=function(t,n){var i=this.gt.anonymizePII(t),r=A(n)?n:this.gt.anonymizePII(n);this.Ha.add(new Su(i,r))},n.prototype.trackDynamicVariable=function(t,n){if(!Su.isKeyValid(t)||!Su.isValueValid(n))throw new Error("Command misuse: ".concat(Au[0]));this.isStarted?this.Ba(t,n):csArray.prototype.push.call(this.Fa,{key:t,value:n})},n}(_r),Eu=function(){function t(t){this.za=t,this.Ha=[]}return t.prototype.add=function(t){csArray.prototype.push.call(this.Ha,t),this.setBatchReadyCall()},t.prototype.clear=function(){this.Ha=[]},t.prototype.onBatchReady=function(t){this.Va=t},t.prototype.getRequestParameters=function(){var t,n,i={};try{for(var r=gn(this.Ha),e=r.next();!e.done;e=r.next()){var s=e.value;i[s.key]=s.value}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{dv:this.za.compressSync(csJSON.stringify(i),"base64"),ct:this.za.algorithm}},t.prototype.setBatchReadyCall=function(){this.Va()},wn([Xo(),_t("dynamicVariablesBatchReady")],t.prototype,"setBatchReadyCall",null),t}(),Au=["trackDynamicVariable"],Ru=function(){function t(t,n,i,r,e,s){this.Kh=t,this.It=n,this.wt=i,this.Lh=r,this.za=e,this.gt=s,this.tt=new Ln(this.wt.getTrackerUri(),"dvar"),this.Ha=new Eu(this.za),this.Ga=new bu(this.Ha,this.gt)}return t.prototype.init=function(){var t=this;this.tt.setRequestParametersProviders(this.Lh,this.Ha),this.It.setDynamicVariablesService(this.Ga),this.Ha.onBatchReady((function(){return t.tt.send()})),this.tt.after((function(){return t.Ha.clear()})),this.Kh.register(Au,(function(n){var i=void 0===n?{}:n,r=i.key,e=i.value;t.Ga.trackDynamicVariable(r,e)}))},t.prototype.onStartTracking=function(){this.Ga.start()},t}(),Ou=function(){function t(t,n){this.id=t,this.revenue=n}return t.from=function(n){var i=new t(n.id,parseFloat(n.revenue));return isNaN(parseFloat(n.tax))||(i.tax=parseFloat(n.tax)),isNaN(parseFloat(n.shipping))||(i.shipping=parseFloat(n.shipping)),R(n.currency)&&n.currency.length<=10&&(i.currency=n.currency),i},t.prototype.hasValidRevenue=function(){return!isNaN(this.revenue)&&this.revenue>=0},t.isValid=function(t){return k(t)&&E(t.revenue)&&R(t.currency)&&t.currency.length<=10&&(!k(t.id)||R(t.id))},t}(),Tu=function(){function t(t,n,i,r){this.id=t,this.name=n,this.price=i,this.quantity=r}return t.from=function(n){if(!t.Ja(n))return null;var i=new t(n.id,n.name,parseFloat(n.price),parseInt(n.quantity,10));return N(n.sku)&&(i.sku=n.sku),N(n.category)&&(i.category=n.category),N(n.merchant)&&n.merchant.length>0&&(i.merchant=n.merchant.slice(0,100)),i},t.Ja=function(t){return k(t)&&R(t.id)&&R(t.name)&&E(parseFloat(t.price))&&A(parseInt(t.quantity,10))&&(!N(t.sku)||R(t.sku))&&(!N(t.category)||R(t.category))&&(!N(t.merchant)||R(t.merchant))},t}(),Nu=function(t){function n(n,i,r){var e=t.call(this)||this;return e.gt=n,e.Ya=i,e.ie=r,e.Wa=[],e.clear(),e}return vn(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.Wa,(function(n){t.$a=n.transaction,t.Xa=n.transactionItems,t.sendTransaction()})),this.Wa=[]},n.prototype.onStop=function(){},n.prototype.addTransaction=function(t){var n=this.gt.anonymizeFields(t,["id"]);this.$a=Ou.from(n)},n.prototype.getTransaction=function(){return this.$a},n.prototype.sendTransaction=function(){if(!this.isStarted)return csArray.prototype.push.call(this.Wa,{transaction:this.$a,transactionItems:bn([],Sn(this.Xa),!1)}),void this.clear();null!==this.Ya&&null!==this.ie&&(this.ie.refreshSession(),this.ie.isSessionValid()&&(this.$a.hasValidRevenue()?this.Ya.send():Ui.warn("Transaction Service: unable to send transaction with invalid parameters")))},n.prototype.addItem=function(t){if(!C(t)){var n=this.gt.anonymizeFields(t,["id","name","sku","category"]),i=Tu.from(n);null!==i&&csArray.prototype.push.call(this.Xa,i)}},n.prototype.getItems=function(){return this.Xa},n.prototype.clear=function(){this.$a=Ou.from({revenue:NaN}),this.Xa=[]},n.prototype.getRequestParameters=function(){var t={id:this.$a.id?"".concat(this.$a.id):"",revenue:"".concat(this.$a.revenue)};return N(this.$a.tax)&&(t.tax="".concat(this.$a.tax)),N(this.$a.shipping)&&(t.shipping="".concat(this.$a.shipping)),N(this.$a.currency)&&(t.cu="".concat(this.$a.currency)),t.items=window.csJSON.stringify(this.Xa),t},n}(_r),ku=function(t){function n(n,i){var r=t.call(this)||this;return r.Ka=n,r.ie=i,r.Za=null,r.Qa=[],r}return vn(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.Qa,(function(n){t.Za=n,t.tf()})),this.Qa=[]},n.prototype.onStop=function(){},n.prototype.addToCart=function(t){var n={};R(t.sku)&&(n.sku=csString.prototype.slice.call(t.sku,0,100)),R(t.merchant)&&(n.merchant=csString.prototype.slice.call(t.merchant,0,100)),(n.sku||n.merchant)&&(this.Za=n,this.tf())},n.prototype.getCartItem=function(){return this.Za},n.prototype.tf=function(){if(!this.isStarted&&null!==this.Za)return csArray.prototype.push.call(this.Qa,this.Za),void this.clear();this.ie.refreshSession(),this.ie.isSessionValid()&&this.Ka.send()},n.prototype.clear=function(){this.Za=null},n.prototype.getRequestParameters=function(){if(!this.Za)return{};var t={};return R(this.Za.sku)&&this.Za.sku.length>0&&(t.sku=this.Za.sku),R(this.Za.merchant)&&this.Za.merchant.length>0&&(t.me=this.Za.merchant),t},n}(_r),Cu=["ecommerce:addToCart","ec:cart:add"],Iu=["ecommerce:addTransaction","ec:transaction:create"],Mu=["ecommerce:addItem","ec:transaction:items:add"],xu=["ecommerce:send","ec:transaction:send"],Pu=function(){function t(t,n,i,r,e,s,o){this.wt=t,this.Ph=n,this.Ct=i,this.Kh=r,this.gt=e,this.ie=s,this._t=o}return t.prototype.init=function(){var t=this,n=new Ln(this.wt.getTrackerUri(),"transaction"),i=new Ln(this.wt.getTrackerUri(),"addtocart");this.nf=new Nu(this.gt,n,this.ie),this.if=new ku(i,this.ie);var r=new ys(this.Ph,this.Ct,this._t,this.nf);n.setRequestParametersProviders(r),n.after((function(){t.nf.clear()}));var e=new ys(this.Ph,this.Ct,this._t,this.if);i.setRequestParametersProviders(e),i.after((function(){t.if.clear()})),this.Kh.register(Iu,(function(n){t.nf.addTransaction(n)})),this.Kh.register(Mu,(function(n){return t.nf.addItem(n)})),this.Kh.register(xu,(function(){return t.nf.sendTransaction()})),this.Kh.register(Cu,(function(n){t.if.addToCart(n)}))},t.prototype.onStartTracking=function(){this.nf.start(),this.if.start()},t}(),_u=function(){function t(t){this.rf=t.performance}return t.prototype.getRequestParameters=function(){if(this.ef())return{};var t=this.sf();return{str:t.startRender,di:t.domInteractive,dc:t.domComplete,fl:t.fullyLoaded}},t.prototype.sf=function(){var t=this.rf.timing;return{startRender:"".concat(t.domLoading-t.requestStart),domInteractive:"".concat(t.domInteractive-t.requestStart),domComplete:"".concat(t.domComplete-t.requestStart),fullyLoaded:"".concat(t.loadEventEnd-t.requestStart)}},t.prototype.ef=function(){return!(this.rf&&this.rf.timing&&this.rf.timing.loadEventEnd>0)},t}();function Du(t){return void 0!==t.tgt}!function(t){t[t.RESIZE=0]="RESIZE",t[t.SCROLL=1]="SCROLL",t[t.MOUSEMOVE=2]="MOUSEMOVE",t[t.MOUSEDOWN=3]="MOUSEDOWN",t[t.MOUSEUP=4]="MOUSEUP",t[t.CLICK=5]="CLICK",t[t.MOUSEOVER=6]="MOUSEOVER",t[t.MOUSEOUT=7]="MOUSEOUT",t[t.CHANGE=10]="CHANGE",t[t.FOCUSIN=11]="FOCUSIN",t[t.FOCUSOUT=12]="FOCUSOUT",t[t.TAP=14]="TAP",t[t.KEYDOWN=15]="KEYDOWN",t[t.KEYUP=16]="KEYUP",t[t.COMMAND=17]="COMMAND",t[t.SUBMIT_COMMAND=18]="SUBMIT_COMMAND",t[t.PERFORMANCE=19]="PERFORMANCE",t[t.DRAG=20]="DRAG",t[t.FLICK=21]="FLICK",t[t.KEYBOARD_NAVIGATION=22]="KEYBOARD_NAVIGATION",t[t.ZOOM=23]="ZOOM",t[t.VIEWPORT_SCALE=24]="VIEWPORT_SCALE",t[t.TEXT_HIGHLIGHT=25]="TEXT_HIGHLIGHT",t[t.DEAD_CLICK=30]="DEAD_CLICK",t[t.DEAD_ZOOM=31]="DEAD_ZOOM",t[t.PAGE_RELOAD=32]="PAGE_RELOAD",t[t.THRASHED_CURSOR=33]="THRASHED_CURSOR",t[t.BLANK_PAGE=34]="BLANK_PAGE",t[t.EXTERNAL_EVENT=35]="EXTERNAL_EVENT",t[t.SUBMIT=36]="SUBMIT"}(fu||(fu={})),function(t){t.SUCCESS="success",t.FAILURE="failure",t.ATTEMPT="attempt"}(lu||(lu={}));var Lu,Uu,ju,qu,Hu,Fu,Bu=function(){function t(){}return t.build=function(t,n,i){return csArray.prototype.reduce.call(i,(function(n,i){return i.enhanceAnalysisEvent(t,n)}),n)},t}(),zu=function(){function t(t,n,i){this.uf=t,this.cf=n,this.zo=i}return t.prototype.processGesture=function(t,n){switch(t.type){case lo.TAP:this.hf(n);break;case lo.FLICK:this.af(t,n);break;case lo.DRAG:this.ff(t,n)}},t.prototype.hf=function(t){var n={type:fu.TAP,ts:0,x:0,y:0,tgt:""},i=Bu.build(t,n,this.uf);i.tgt!==hn.INVALID_ELEMENT&&this.ds(i)},t.prototype.ff=function(t,n){var i,r,e={type:fu.DRAG,ts:0,fd:t.direction,tgt:""};(null===(i=this.zo)||void 0===i?void 0:i.collectGestureDistance)&&(e.distance=t.distance),(null===(r=this.zo)||void 0===r?void 0:r.collectGestureVelocity)&&(e.velocity=t.velocity);var s=Bu.build(n,e,this.uf);s.tgt!==hn.INVALID_ELEMENT&&this.ds(s)},t.prototype.af=function(t,n){var i,r,e={type:fu.FLICK,ts:0,fd:t.direction,tgt:""};(null===(i=this.zo)||void 0===i?void 0:i.collectGestureDistance)&&(e.distance=t.distance),(null===(r=this.zo)||void 0===r?void 0:r.collectGestureVelocity)&&(e.velocity=t.velocity);var s=Bu.build(n,e,this.uf);s.tgt!==hn.INVALID_ELEMENT&&this.ds(s)},t.prototype.onEvent=function(t){this.ds=t},t.prototype.start=function(){var n=this;this.cf.subscribe(t.lf,(function(t,i){return n.processGesture(t,i)}))},t.prototype.stop=function(){this.cf.unsubscribe(t.lf)},t.lf="AnalysisGestureTracker",wn([qi()],t.prototype,"processGesture",null),t}(),Vu=function(){function t(t,n,i,r){void 0===r&&(r=["submit"]);var e=this;this.uf=t,this.vf=n,this.df=i,this.yf=r,this.wf="select, select *, input, textarea",this.pf="select, select *, input, textarea",this.mf="a, a *, button, button *, select, select *, input, textarea",this.gf="input, select, textarea",this.Sf="form",this.bf=150,this.Ef=400,this.Af=!1,this.Rf=$o((function(t,n){return e.scrollListener(t,n)}),this.bf),this.Of=$o((function(t){return e.resizeListener(t)}),this.bf),this.Tf=cr((function(t){return e.mouseMoveListener(t)}),this.Ef),this.Nf=[{boundElement:window,type:"resize",listener:function(){return e.Of()}},{boundElement:document,type:"scroll",listener:function(t){return e.Rf(t)}},{boundElement:window,type:"mousemove",listener:function(t){e.Tf(function(t){return t.composedPath&&Object.defineProperty(t,"__csOriginalTarget",{value:t.composedPath()[0],writable:!1,enumerable:!1}),t}(t))}},{boundElement:document,type:"mousedown",listener:function(t){return e.mouseDownListener(t)}},{boundElement:document,type:"mouseup",listener:function(t){return e.mouseUpListener(t)}},{boundElement:document,type:"click",listener:function(t){return e.clickListener(t)}}],this.kf=[{type:"change",listener:this.df.on(this.pf,(function(t){return e.changeListener(t)}))},{type:"submit",listener:this.df.on(this.Sf,(function(t){return e.submitListener(t)}))}],this.Cf=bn([{boundElement:document,type:"mouseover",listener:this.df.on(this.mf,(function(t){return e.mouseOverListener(t)}))},{boundElement:document,type:"mouseout",listener:this.df.on(this.mf,(function(t){return e.mouseOutListener(t)}))},{boundElement:document,type:"focusin",listener:this.df.on(this.wf,(function(t){return e.focusInListener(t)}))},{boundElement:document,type:"focusout",listener:this.df.on(this.wf,(function(t){return e.focusOutListener(t)}))},{boundElement:document,type:"keyup",listener:this.df.on(this.gf,(function(t){return e.keyUpListener(t)}))},{boundElement:document,type:"keydown",listener:this.df.on(this.gf,(function(t){return e.keyDownListener(t)}))},{boundElement:document,type:"copy",listener:this.df.on(this.gf,(function(t){return e.copyListener(t)}))},{boundElement:document,type:"cut",listener:this.df.on(this.gf,(function(t){return e.cutListener(t)}))},{boundElement:document,type:"paste",listener:this.df.on(this.gf,(function(t){return e.pasteListener(t)}))}],Sn(csArray.prototype.map.call(this.kf,(function(t){return dn(dn({},t),{boundElement:document})}))),!1),this.wi={},this.Ui=function(t,n){switch(n){case"initial":case"added":e.ii(t);break;case"removed":e.ei(t)}},this.ni=new rr(this.Ui),this.ui()}return t.prototype.ii=function(t){if(G(t)){var n=this.If();csArray.prototype.forEach.call(n,(function(t){return sr(t)}))}else{n=this.Mf();csArray.prototype.forEach.call(n,(function(n){sr(dn(dn({},n),{boundElement:t}))}))}},t.prototype.ei=function(t){if(G(t)){var n=this.If();csArray.prototype.forEach.call(n,(function(t){return or(t)}))}else{n=this.Mf();csArray.prototype.forEach.call(n,(function(n){or(dn(dn({},n),{boundElement:t}))}))}},t.prototype.onEvent=function(t){this.ds=t},t.prototype.start=function(){this.ni.observe(),this.ii(document),this.resizeListener()},t.prototype.stop=function(){this.ei(document),this.ni.disconnect()},t.prototype.flushPendingDebouncedListeners=function(){this.Rf.flushPending(),this.Of.flushPending()},t.prototype.xf=function(t){return csArray.prototype.some.call(this.yf,(function(n){return n===t}))},t.prototype.Mf=function(){var t=this;return this.df.isMatchesSelectorSupported()?csArray.prototype.filter.call(this.kf,(function(n){return!t.xf(n.type)})):(Ui.warn("Element.matches is not implemented yet"),[])},t.prototype.If=function(){var t,n,i=this,r=[];return(t=csArray.prototype.push).call.apply(t,bn([r],Sn(this.Nf),!1)),this.df.isMatchesSelectorSupported()?(n=csArray.prototype.push).call.apply(n,bn([r],Sn(this.Cf),!1)):Ui.warn("Element.matches is not implemented yet"),csArray.prototype.filter.call(r,(function(t){return!i.xf(t.type)}))},t.prototype.resizeListener=function(t){var n=wr.getScrollContainer(),i=I(n);i&&(this.Af=!0);var r={type:fu.RESIZE,ts:0,x:i?n.clientWidth:Wt.windowWidth(),y:i?n.clientHeight:Wt.windowHeight()};void 0!==t&&(r.d=t),this.ds(r)},t.prototype.scrollListener=function(t,n){var i=wr.isEventOnScrollContainer(n);!this.Af&&i&&this.resizeListener();var r={type:fu.SCROLL,ts:0,x:i?csEventtarget.apply(n).scrollLeft:Wt.windowOffsetX(),y:i?csEventtarget.apply(n).scrollTop:Wt.windowOffsetY(),d:t},e=Bu.build(n,r,this.uf);this.ds(e)},t.prototype.mouseMoveListener=function(t){var n={type:fu.MOUSEMOVE,ts:0,x:t.pageX,y:t.pageY},i=Bu.build(t,n,this.uf);this.ds(i)},t.prototype.mouseDownListener=function(t){var n={type:fu.MOUSEDOWN,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Bu.build(t,n,this.uf);this.Pf(i)},t.prototype.mouseUpListener=function(t){var n={type:fu.MOUSEUP,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Bu.build(t,n,this.uf);this.Pf(i)},t.prototype.clickListener=function(t){var n={type:fu.CLICK,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Bu.build(t,n,this.uf);this.Pf(i)},t.prototype.mouseOverListener=function(t){var n={type:fu.MOUSEOVER,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Bu.build(t,n,this.uf);this.Pf(i)},t.prototype.mouseOutListener=function(t){var n={type:fu.MOUSEOUT,ts:0,x:t.pageX,y:t.pageY,tgt:this.vf.getEventTargetPath(t)},i=Bu.build(t,n,this.uf);this.Pf(i)},t.prototype.focusInListener=function(t){var n={type:fu.FOCUSIN,ts:0,tgt:this.vf.getEventTargetPath(t)},i=Bu.build(t,n,this.uf);this.Pf(i)},t.prototype.focusOutListener=function(t){var n={type:fu.FOCUSOUT,ts:0,tgt:this.vf.getEventTargetPath(t)},i=Bu.build(t,n,this.uf);this.Pf(i)},t.prototype.changeListener=function(t){var n={type:fu.CHANGE,ts:0,tgt:""},i=Bu.build(t,n,this.uf);this.Pf(i)},t.prototype.submitListener=function(t){var n={type:fu.SUBMIT,ts:0,tgt:""},i=Bu.build(t,n,this.uf);this.Pf(i)},t.prototype.copyListener=function(t){var n={type:fu.COMMAND,ts:0,tgt:this.vf.getEventTargetPath(t),key:vr.COPY};this.Pf(n)},t.prototype.cutListener=function(t){var n={type:fu.COMMAND,ts:0,tgt:this.vf.getEventTargetPath(t),key:vr.CUT};this.Pf(n)},t.prototype.pasteListener=function(t){var n={type:fu.COMMAND,ts:0,tgt:this.vf.getEventTargetPath(t),key:vr.PASTE};this.Pf(n)},t.prototype.keyUpListener=function(t){var n={type:fu.KEYUP,ts:0,tgt:this.vf.getEventTargetPath(t),key:this._f(t)};this.Pf(n)},t.prototype.keyDownListener=function(t){var n={type:fu.KEYDOWN,ts:0,tgt:this.vf.getEventTargetPath(t),key:this._f(t)};this.Pf(n)},t.prototype._f=function(t){var n=this.wi[t.key];return void 0===n?lr.ALPHANUMERICAL:n},t.prototype.Pf=function(t){Du(t)&&t.tgt!==hn.INVALID_ELEMENT&&this.ds(t)},t.prototype.ui=function(){this.wi[" "]=lr.SPACE,this.wi.Spacebar=lr.SPACE,this.wi.Enter=lr.ENTER,this.wi.Backspace=lr.BACKSPACE,this.wi.Delete=lr.DELETE,this.wi.ArrowUp=lr.ARROWUP,this.wi.ArrowDown=lr.ARROWDOWN,this.wi.ArrowLeft=lr.ARROWLEFT,this.wi.ArrowRight=lr.ARROWRIGHT,this.wi.Up=lr.ARROWUP,this.wi.Down=lr.ARROWDOWN,this.wi.Left=lr.ARROWLEFT,this.wi.Right=lr.ARROWRIGHT,this.wi.CapsLock=lr.CAPSLOCK,this.wi.Shift=lr.SHIFT,this.wi.Tab=lr.TAB},wn([_t("Event handler type: resize")],t.prototype,"resizeListener",null),wn([_t("Event handler type: scroll")],t.prototype,"scrollListener",null),wn([_t("Event handler type: mouseMove"),qi()],t.prototype,"mouseMoveListener",null),wn([_t("Event handler type: mouseDown"),qi()],t.prototype,"mouseDownListener",null),wn([_t("Event handler type: mouseUp"),qi()],t.prototype,"mouseUpListener",null),wn([_t("Event handler type: click"),qi()],t.prototype,"clickListener",null),wn([_t("Event handler type: mouseOver"),qi()],t.prototype,"mouseOverListener",null),wn([_t("Event handler type: mouseOut"),qi()],t.prototype,"mouseOutListener",null),wn([_t("Event handler type: focusIn")],t.prototype,"focusInListener",null),wn([_t("Event handler type: focusOut")],t.prototype,"focusOutListener",null),wn([_t("Event handler type: change")],t.prototype,"changeListener",null),wn([_t("Event handler type: submit"),qi()],t.prototype,"submitListener",null),wn([_t("Event handler type: copy")],t.prototype,"copyListener",null),wn([_t("Event handler type: cut")],t.prototype,"cutListener",null),wn([_t("Event handler type: paste")],t.prototype,"pasteListener",null),wn([_t("Event handler type: keyup")],t.prototype,"keyUpListener",null),wn([_t("Event handler type: keydown")],t.prototype,"keyDownListener",null),t}(),Gu=function(){function t(){var t=this;this.Df=100,this.Lf=0,this.Uf=Wt.documentHeight(),this.jf={boundElement:document,type:"scroll",listener:function(n){return t.maxScrollRateListener(n)}},this.Lf=this.qf(wr.getScrollContainer()).maxScrollRate}return t.prototype.onEvent=function(t){this.ds=t},t.prototype.start=function(){sr(this.jf)},t.prototype.stop=function(){or(this.jf)},t.prototype.reset=function(){var t=wr.getScrollContainer(),n=this.qf(t),i=n.maxScrollRate,r=n.maxDocumentHeight;this.Uf=r,this.Lf=i,this.ds()},t.prototype.qf=function(t){var n=0,i=0;if(null===t)i=Wt.documentHeight(),n=this.Hf(i);else{var r=this.Ff(t);i=this.Bf(t,r),n=this.zf(t,r)}return{maxScrollRate:n,maxDocumentHeight:i}},t.prototype.maxScrollRateListener=function(t){var n=null;wr.isEventOnScrollContainer(t)&&(n=csEventtarget.apply(t));var i=this.qf(n),r=i.maxScrollRate,e=i.maxDocumentHeight;(r>this.Lf||e>this.Uf)&&(this.Lf=r,e>this.Uf&&(this.Uf=e),this.ds())},t.prototype.Hf=function(t){var n=Math.round(this.Vf()/t*100);return Math.min(n,this.Df)},t.prototype.Vf=function(){var t=Wt.windowHeight();return Wt.windowOffsetY()+t},t.prototype.zf=function(t,n){var i=t.scrollTop+t.clientHeight+t.getBoundingClientRect().top+n,r=this.Bf(t,n),e=Math.round(i/r*100);return Math.min(e,this.Df)},t.prototype.Ff=function(t){var n=window.getComputedStyle(t).paddingTop||"0px";return parseInt(n,10)},t.prototype.Bf=function(t,n){return t.scrollHeight+t.getBoundingClientRect().top+n},t.prototype.getRequestParameters=function(){return{sr:"".concat(this.Lf),mdh:"".concat(this.Uf)}},wn([_t("MaxScrollRate handler")],t.prototype,"maxScrollRateListener",null),t}(),Ju=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S){this.wt=t,this.Gf=n,this.cf=i,this.Jf=r,this.Yf=e,this.Wf=s,this.$f=o,this.Xf=u,this.ie=c,this.Tn=h,this.Kf=a,this.Zf=f,this.ke=l,this.ue=v,this.Qf=d,this.tl=y,this.nl=w,this.il=p,this.rl=m,this.el=g,this.sl=S,this.ge=new Pr,this.ol=!1}return t.prototype.init=function(){var t,n,i,r,e,s,o,u=this;this.Gf.onEvent((function(t){return u.Oe(t)})),this.cf.onEvent((function(t){return u.Oe(t)})),this.Jf.onEvent((function(){var t=u.Jf.getRequestParameters();u.ue.setQueryParams(t),u.$f.setQueryParams(t)})),this.Zf.onEvent((function(t){return u.ul(t)})),this.cl(),null===(t=this.Qf)||void 0===t||t.onEvent((function(t){return u.Oe(t)})),null===(n=this.rl)||void 0===n||n.onEvent((function(t){return u.Oe(t)})),null===(i=this.tl)||void 0===i||i.onEvent((function(t){return u.Oe(t)})),null===(r=this.nl)||void 0===r||r.onEvent((function(t){return u.Oe(t)})),this.hl(),null===(e=this.il)||void 0===e||e.onEvent((function(t){return u.ul(t)})),null===(s=this.el)||void 0===s||s.onEvent((function(t){return u.ul(t)})),null===(o=this.sl)||void 0===o||o.onEvent((function(t){return u.ul(t)}))},t.prototype.hl=function(){var t=this;this.$f.onBeaconSuccess((function(){t.Wf.clearEvents()})),this.$f.onBeaconFailure((function(n){t.al(n)}))},t.prototype.initStates=function(){var t=this.Xf.getRequestParameters(),n=this.Yf.getRequestParameters(),i=this.Jf.getRequestParameters();this.ue.setQueryParams(t),this.ue.setQueryParams(n),this.ue.setQueryParams(i),this.$f.setQueryParams(t),this.$f.setQueryParams(n),this.$f.setQueryParams(i),this.ll()},t.prototype.clearStates=function(t){var n,i;this.Gf.flushPendingDebouncedListeners(),null===(n=this.tl)||void 0===n||n.flushPendingKeyboardNavigationEvent(),null===(i=this.nl)||void 0===i||i.flushPendingTextHighlightEvent(),t?(this.vl(),this.sendLastMessageBeacon()):this.sendEvents(),this.Jf.reset(),this.ue.removeQueryParams()},t.prototype.start=function(t){var n,i,r,e,s,o,u;t||null===(n=this.il)||void 0===n||n.start(),this.ke.start(),this.Gf.start(),this.Jf.start(),this.cf.start(),null===(i=this.Qf)||void 0===i||i.start(),null===(r=this.nl)||void 0===r||r.start(),t||this.Zf.start(),null===(e=this.tl)||void 0===e||e.start(),null===(s=this.rl)||void 0===s||s.start(),null===(o=this.el)||void 0===o||o.start(),null===(u=this.sl)||void 0===u||u.start()},t.prototype.collectInitialEvents=function(){var t;null===(t=this.Qf)||void 0===t||t.collectInitialEvents()},t.prototype.onIframeAnalysisBrowserEvent=function(t){this.ul(t)},t.prototype.onIframeAnalysisUserEvent=function(t){this.Oe(t)},t.prototype.onExternalEvent=function(t){this.De(t)},t.prototype.ul=function(t){this.ie.isCurrentPageviewValid()&&this.De(t)},t.prototype.Oe=function(t){this.ie.refreshSession(),this.ie.isSessionValid()&&this.De(t)},t.prototype.De=function(t){this.Wf.addEvent(this.dl(t)),this.Wf.isFull()&&this.sendEvents(),this.wt.emitDebugEvents&&this.ge.emit("analysisEvent",dn(dn({},t),{typeName:fu[t.type]}))},t.prototype.dl=function(t){return t.ts=this.yl(),t},t.prototype.vl=function(){this.$f.setQueryParams({hlm:"true"}),this.ol=!0},t.prototype.sendLastMessageBeacon=function(){this.$f.setQueryParams(this.Yf.getRequestParameters()),this.$f.send(this.Wf.stringifyEvents()),this.$f.removeQueryParams(["hlm"]),this.ol=!1},t.prototype.sendEvents=function(){this.Wf.isEmpty()||(this.ue.setQueryParams(this.Xf.getRequestParameters()),this.ue.setQueryParams(this.Yf.getRequestParameters()),this.ue.send(this.Wf.getEvents()),this.Wf.clearEvents())},t.prototype.stop=function(){var t,n,i,r,e,s,o;this.ke.stop(),this.Gf.stop(),this.Jf.stop(),this.cf.stop(),this.Zf.stop(),null===(t=this.Qf)||void 0===t||t.stop(),null===(n=this.tl)||void 0===n||n.stop(),null===(i=this.nl)||void 0===i||i.stop(),null===(r=this.rl)||void 0===r||r.stop(),this.Wf.empty(),null===(e=this.il)||void 0===e||e.stop(),null===(s=this.el)||void 0===s||s.stop(),null===(o=this.sl)||void 0===o||o.stop()},t.prototype.ll=function(){this.wl=ei()},t.prototype.yl=function(){return ei()-this.wl},t.prototype.cl=function(){var t=this;this.ke.onEvent((function(n){var i,r;n!==os.Visible&&(null===(i=t.tl)||void 0===i||i.flushPendingKeyboardNavigationEvent(),null===(r=t.nl)||void 0===r||r.flushPendingTextHighlightEvent(),n===os.PagehideVisible?t.vl():n===os.PagehideHidden?(t.vl(),t.sendLastMessageBeacon()):t.Wf.isEmpty()&&!t.ol||t.sendLastMessageBeacon())}))},t.prototype.al=function(t){try{this.Wf.isEmpty()&&!this.ol||this.Tn.save({requestParameters:t,events:this.Wf.getEvents()})}catch(t){}},t.prototype.pushSubmitCommandEvent=function(t,n){if(function(t){return t===lu.SUCCESS||t===lu.FAILURE||t===lu.ATTEMPT}(t))if(I(n)){var i={status:t,type:fu.SUBMIT_COMMAND,ts:0,tgt:this.Kf.getElementPath(n)};i.tgt!==hn.INVALID_ELEMENT&&this.ul(i)}else Ui.warn("AnalysisEvents Service: invalid element: ".concat(n));else Ui.warn("AnalysisEvents Service: invalid submit status: ".concat(t))},t}(),Yu=function(){function t(t,n){var i=this;this.Tn=t,this.ue=n,this.pl=function(){"visible"===document.visibilityState&&i.ml()}}return t.prototype.start=function(){this.ml(),this._r()},t.prototype.stop=function(){this.jr()},t.prototype.getRecoveryStorage=function(){return this.Tn},t.prototype.ml=function(){var t=this.Tn.recover();if(null!==t){var n=t,i=n.requestParameters,r=n.events;this.ue.send(r,i)}},t.prototype._r=function(){document.addEventListener("visibilitychange",this.pl)},t.prototype.jr=function(){document.removeEventListener("visibilitychange",this.pl)},t}(),Wu=function(){function t(t){this.uo=t}return t.prototype.save=function(t){localStorage.setItem(this.uo,csJSON.stringify(t))},t.prototype.clear=function(){localStorage.removeItem(this.uo)},t.prototype.recover=function(){var t=localStorage.getItem(this.uo);if(null===t)return null;var n=null;try{n=csJSON.parse(t)}catch(n){Ui.error("Invalid item in localStorage.\n         (key:".concat(this.uo,"; value:").concat(t,")"))}finally{this.clear()}return n},t}(),$u=function(){function t(t){var n=this;this.gl=t,this.Sl=function(t){return n.processMetric(t)},this.Cr=!1}return t.prototype.onEvent=function(t){this.ds=t},t.prototype.start=function(){this.Cr||(this.Cr=!0,this.gl.onFCP(this.Sl),this.gl.onCLS(this.Sl),this.gl.onFID(this.Sl),this.gl.onLCP(this.Sl),this.gl.onTTFB(this.Sl),this.gl.onINP(this.Sl))},t.prototype.stop=function(){this.Cr=!1},t.prototype.processMetric=function(t){if(this.Cr){var n={type:fu.PERFORMANCE,name:t.name,val:t.value,ts:0};this.ds(n)}},wn([_t("Performance metric handler")],t.prototype,"processMetric",null),t}(),Xu=-1,Ku=function(t){addEventListener("pageshow",(function(n){n.persisted&&(Xu=n.timeStamp,t(n))}),!0)},Zu=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Qu=function(){var t=Zu();return t&&t.activationStart||0},tc=function(t,n){var i=Zu(),r="navigate";return Xu>=0?r="back-forward-cache":i&&(document.prerendering||Qu()>0?r="prerender":document.wasDiscarded?r="restore":i.type&&(r=i.type.replace(/_/g,"-"))),{name:t,value:void 0===n?-1:n,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},nc=function(t,n,i){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver((function(t){Promise.resolve().then((function(){n(t.getEntries())}))}));return r.observe(Object.assign({type:t,buffered:!0},i||{})),r}}catch(t){}},ic=function(t,n,i,r){var e,s;return function(o){n.value>=0&&(o||r)&&((s=n.value-(e||0))||void 0===e)&&(e=n.value,n.delta=s,n.rating=function(t,n){return t>n[1]?"poor":t>n[0]?"needs-improvement":"good"}(n.value,i),t(n))}},rc=function(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},ec=function(t){var n=function(n){"pagehide"!==n.type&&"hidden"!==document.visibilityState||t(n)};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},sc=function(t){var n=!1;return function(i){n||(t(i),n=!0)}},oc=-1,uc=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},cc=function(t){"hidden"===document.visibilityState&&oc>-1&&(oc="visibilitychange"===t.type?t.timeStamp:0,ac())},hc=function(){addEventListener("visibilitychange",cc,!0),addEventListener("prerenderingchange",cc,!0)},ac=function(){removeEventListener("visibilitychange",cc,!0),removeEventListener("prerenderingchange",cc,!0)},fc=function(){return oc<0&&(oc=uc(),hc(),Ku((function(){setTimeout((function(){oc=uc(),hc()}),0)}))),{get firstHiddenTime(){return oc}}},lc=function(t){document.prerendering?addEventListener("prerenderingchange",(function(){return t()}),!0):t()},vc=[1800,3e3],dc=function(t,n){n=n||{},lc((function(){var i,r=fc(),e=tc("FCP"),s=nc("paint",(function(t){t.forEach((function(t){"first-contentful-paint"===t.name&&(s.disconnect(),t.startTime<r.firstHiddenTime&&(e.value=Math.max(t.startTime-Qu(),0),e.entries.push(t),i(!0)))}))}));s&&(i=ic(t,e,vc,n.reportAllChanges),Ku((function(r){e=tc("FCP"),i=ic(t,e,vc,n.reportAllChanges),rc((function(){e.value=performance.now()-r.timeStamp,i(!0)}))})))}))},yc=[.1,.25],wc={passive:!0,capture:!0},pc=new Date,mc=function(t,n){Lu||(Lu=n,Uu=t,ju=new Date,bc(removeEventListener),gc())},gc=function(){if(Uu>=0&&Uu<ju-pc){var t={entryType:"first-input",name:Lu.type,target:Lu.target,cancelable:Lu.cancelable,startTime:Lu.timeStamp,processingStart:Lu.timeStamp+Uu};qu.forEach((function(n){n(t)})),qu=[]}},Sc=function(t){if(t.cancelable){var n=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,n){var i=function(){mc(t,n),e()},r=function(){e()},e=function(){removeEventListener("pointerup",i,wc),removeEventListener("pointercancel",r,wc)};addEventListener("pointerup",i,wc),addEventListener("pointercancel",r,wc)}(n,t):mc(n,t)}},bc=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(n){return t(n,Sc,wc)}))},Ec=[100,300],Ac=0,Rc=1/0,Oc=0,Tc=function(t){t.forEach((function(t){t.interactionId&&(Rc=Math.min(Rc,t.interactionId),Oc=Math.max(Oc,t.interactionId),Ac=Oc?(Oc-Rc)/7+1:0)}))},Nc=function(){return Hu?Ac:performance.interactionCount||0},kc=function(){"interactionCount"in performance||Hu||(Hu=nc("event",Tc,{type:"event",buffered:!0,durationThreshold:0}))},Cc=[200,500],Ic=0,Mc=function(){return Nc()-Ic},xc=[],Pc={},_c=function(t){var n=xc[xc.length-1],i=Pc[t.interactionId];if(i||xc.length<10||t.duration>n.latency){if(i)i.entries.push(t),i.latency=Math.max(i.latency,t.duration);else{var r={id:t.interactionId,latency:t.duration,entries:[t]};Pc[r.id]=r,xc.push(r)}xc.sort((function(t,n){return n.latency-t.latency})),xc.splice(10).forEach((function(t){delete Pc[t.id]}))}},Dc=[2500,4e3],Lc={},Uc=[800,1800],jc=function t(n){document.prerendering?lc((function(){return t(n)})):"complete"!==document.readyState?addEventListener("load",(function(){return t(n)}),!0):setTimeout(n,0)},qc=function(t,n){n=n||{};var i=tc("TTFB"),r=ic(t,i,Uc,n.reportAllChanges);jc((function(){var e=Zu();if(e){var s=e.responseStart;if(s<=0||s>performance.now())return;i.value=Math.max(s-Qu(),0),i.entries=[e],r(!0),Ku((function(){i=tc("TTFB",0),(r=ic(t,i,Uc,n.reportAllChanges))(!0)}))}}))},Hc=function(){function t(){}return t.prototype.onFCP=function(t){dc(t,{reportAllChanges:!0})},t.prototype.onCLS=function(t){!function(t,n){n=n||{},dc(sc((function(){var i,r=tc("CLS",0),e=0,s=[],o=function(t){t.forEach((function(t){if(!t.hadRecentInput){var n=s[0],i=s[s.length-1];e&&t.startTime-i.startTime<1e3&&t.startTime-n.startTime<5e3?(e+=t.value,s.push(t)):(e=t.value,s=[t])}})),e>r.value&&(r.value=e,r.entries=s,i())},u=nc("layout-shift",o);u&&(i=ic(t,r,yc,n.reportAllChanges),ec((function(){o(u.takeRecords()),i(!0)})),Ku((function(){e=0,r=tc("CLS",0),i=ic(t,r,yc,n.reportAllChanges),rc((function(){return i()}))})),setTimeout(i,0))})))}(t,{reportAllChanges:!0})},t.prototype.onFID=function(t){!function(t,n){n=n||{},lc((function(){var i,r=fc(),e=tc("FID"),s=function(t){t.startTime<r.firstHiddenTime&&(e.value=t.processingStart-t.startTime,e.entries.push(t),i(!0))},o=function(t){t.forEach(s)},u=nc("first-input",o);i=ic(t,e,Ec,n.reportAllChanges),u&&ec(sc((function(){o(u.takeRecords()),u.disconnect()}))),u&&Ku((function(){var r;e=tc("FID"),i=ic(t,e,Ec,n.reportAllChanges),qu=[],Uu=-1,Lu=null,bc(addEventListener),r=s,qu.push(r),gc()}))}))}(t,{reportAllChanges:!0})},t.prototype.onLCP=function(t){!function(t,n){n=n||{},lc((function(){var i,r=fc(),e=tc("LCP"),s=function(t){var n=t[t.length-1];n&&n.startTime<r.firstHiddenTime&&(e.value=Math.max(n.startTime-Qu(),0),e.entries=[n],i())},o=nc("largest-contentful-paint",s);if(o){i=ic(t,e,Dc,n.reportAllChanges);var u=sc((function(){Lc[e.id]||(s(o.takeRecords()),o.disconnect(),Lc[e.id]=!0,i(!0))}));["keydown","click"].forEach((function(t){addEventListener(t,(function(){return setTimeout(u,0)}),!0)})),ec(u),Ku((function(r){e=tc("LCP"),i=ic(t,e,Dc,n.reportAllChanges),rc((function(){e.value=performance.now()-r.timeStamp,Lc[e.id]=!0,i(!0)}))}))}}))}(t,{reportAllChanges:!0})},t.prototype.onTTFB=function(t){qc(t,{reportAllChanges:!0})},t.prototype.onINP=function(t){!function(t,n){n=n||{},lc((function(){var i;kc();var r,e=tc("INP"),s=function(t){t.forEach((function(t){t.interactionId&&_c(t),"first-input"===t.entryType&&!xc.some((function(n){return n.entries.some((function(n){return t.duration===n.duration&&t.startTime===n.startTime}))}))&&_c(t)}));var n,i=(n=Math.min(xc.length-1,Math.floor(Mc()/50)),xc[n]);i&&i.latency!==e.value&&(e.value=i.latency,e.entries=i.entries,r())},o=nc("event",s,{durationThreshold:null!==(i=n.durationThreshold)&&void 0!==i?i:40});r=ic(t,e,Cc,n.reportAllChanges),o&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),ec((function(){s(o.takeRecords()),e.value<0&&Mc()>0&&(e.value=0,e.entries=[]),r(!0)})),Ku((function(){xc=[],Ic=Nc(),e=tc("INP"),r=ic(t,e,Cc,n.reportAllChanges)})))}))}(t,{reportAllChanges:!0})},t}(),Fc=function(){function t(t){void 0===t&&(t=[]),this.gi=t}return t.prototype.stringifyEvents=function(){return csJSON.stringify(this.gi)},t.prototype.addEvent=function(t){csArray.prototype.push.call(this.gi,t)},t.prototype.eventsCount=function(){return this.gi.length},t.prototype.clearEvents=function(){this.gi=[]},t.prototype.empty=function(){this.clearEvents()},t.prototype.isFull=function(){return this.eventsCount()>=50},t.prototype.isEmpty=function(){return 0===this.gi.length},t.prototype.getEvents=function(){return this.gi},t}(),Bc=function(){function t(){}return t.prototype.isEventTypeSupported=function(t){return-1!==csArray.prototype.indexOf.call(this.supportedEventTypes,t)},t.prototype.enhanceAnalysisEvent=function(t,n){return this.isEventTypeSupported(n.type)?this.baseEnhanceAnalysisEvent(t,n):n},t}(),zc=function(t){function n(){var n=t.apply(this,bn([],Sn(arguments),!1))||this;return n.supportedEventTypes=[fu.CHANGE],n.bl=["text","email","number","search","tel","url","password"],n}return vn(n,t),n.prototype.baseEnhanceAnalysisEvent=function(t,n){var i=yr(t);return q(i)&&csArray.prototype.indexOf.call(this.bl,i.type)>=0&&(n.isBlank=""===i.value),n},n}(Bc),Vc=function(t){function n(n){var i=t.call(this)||this;return i.vf=n,i.supportedEventTypes=[fu.MOUSEDOWN,fu.MOUSEUP,fu.CLICK,fu.MOUSEOVER,fu.TAP,fu.DRAG,fu.FLICK,fu.SUBMIT,fu.CHANGE],i}return vn(n,t),n.prototype.baseEnhanceAnalysisEvent=function(t,n){return n.tgt||(n.tgt=this.vf.getEventTargetPath(t)),n},n}(Bc);!function(t){t.getRelativePosition=function(t){var n=yr(t);if(!(n&&P(n)&&C(n.getBoundingClientRect)&&k(t.pageX)&&k(t.pageY)))return{xRel:-1,yRel:-1,valid:!1};var i=n.getBoundingClientRect(),r=t.pageX-i.left-Wt.windowOffsetX(),e=t.pageY-i.top-Wt.windowOffsetY();n!==document.documentElement&&(r+=n.scrollLeft,e+=n.scrollTop);var s=Math.max(n.scrollWidth,i.width),o=Math.max(n.scrollHeight,i.height);return{xRel:Math.round(r/s*65535),yRel:Math.round(e/o*65535),valid:!0}}}(Fu||(Fu={}));var Gc,Jc=function(t){function n(n,i){var r=t.call(this)||this;return r.K=n,r.vf=i,r.supportedEventTypes=[fu.MOUSEMOVE,fu.CLICK],r.El="",r}return vn(n,t),n.prototype.baseEnhanceAnalysisEvent=function(t,n){var i=Fu.getRelativePosition(t),r=i.valid,e=i.xRel,s=i.yRel;if(r){var o=this.vf.getEventTargetPath(t);o!==hn.INVALID_ELEMENT&&(n.xRel=e,n.yRel=s,n.type===fu.MOUSEMOVE&&(o!==this.El||this.K.iframesTracking?(this.El=o,n.tgtHM=o):n.tgtHM=""))}else n.type===fu.MOUSEMOVE&&(this.El="");return n},n}(Bc);!function(t){t[t.ANONYMIZED=0]="ANONYMIZED",t[t.CAPTURED=1]="CAPTURED",t[t.MASKED=2]="MASKED",t[t.ENCRYPTED=3]="ENCRYPTED"}(Gc||(Gc={}));var Yc=function(t){function n(n,i,r){var e=t.call(this)||this;return e.wt=n,e.Al=i,e.gt=r,e.supportedEventTypes=[fu.TAP,fu.CLICK],e}return vn(n,t),n.prototype.Rl=function(t){for(var n="",i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),r=i.nextNode();r;){if(n+=r.textContent,this.Al.getElementSensitiveStatus(r.parentElement)!==Gc.CAPTURED)return!0;if(csString.prototype.trim.call(n).length>=100)break;r=i.nextNode()}return!1},n.prototype.baseEnhanceAnalysisEvent=function(t,n){if(I(csEventtarget.apply(t))){var i=kr(csEventtarget.apply(t),"button,a");if(i&&R(i.textContent)&&!this.Rl(i)&&!this.gt.hasPII(i.textContent,this.wt.anonymizeDigits)){var r=Qe.truncate(csString.prototype.trim.call(i.textContent),100);r.length>0&&(n.text=r)}}return n},n}(Bc);var Wc,$c="v2/events",Xc=["submit"],Kc=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f){this.wt=t,this.Ph=n,this.Ct=i,this.Kf=r,this.df=e,this.Kh=s,this.ie=o,this.cf=u,this.Pa=c,this.ra=h,this.Ol=a,this.Al=f}return t.prototype.init=function(){var t=this,n=new Fc,i=this.ra.create("".concat(this.wt.getTrackerUri(),"/").concat($c),!0,"base64");this.Tl=this.Nl(i),this.kl=this.Cl(n,this.Tl.getRecoveryStorage(),i),this.kl.init(),this.Ol.addListener(this.kl),this.Pa.addListener(this.kl),this.Kh.register(Xc,(function(n,i){t.kl.pushSubmitCommandEvent(n,i)}))},t.prototype.onStartTracking=function(t){this.Tl.start(),this.kl.start(t)},t.prototype.onAfterNaturalPageView=function(){this.kl.initStates()},t.prototype.onAfterArtificialPageView=function(){this.kl.initStates(),this.kl.collectInitialEvents()},t.prototype.onArtificialPageViewEnd=function(){this.kl.clearStates(!0)},t.prototype.onBeforeSessionRenewal=function(){this.kl.clearStates(),this.kl.stop(),this.Tl.stop()},t.prototype.onOptout=function(){this.kl.stop(),this.Tl.stop()},t.prototype.Cl=function(t,n,i){var r=new _u(window),e=new Gu,s=function(t,n,i){var r=[];return t.mouseMoveHeatmapEnabled&&csArray.prototype.push.call(r,new Jc(t,n)),t.isClickedElementTextEnabled()&&csArray.prototype.push.call(r,new Yc(t,i,new Zn)),csArray.prototype.push.call(r,new zc,new Vc(n)),r}(this.wt,this.Kf,this.Al),o=[];this.wt.collectHierarchy||csArray.prototype.push.call(o,"submit");var u=new Vu(s,this.Kf,this.df,o),c=function(t,n,i){var r=[];return t.isClickedElementTextEnabled()&&csArray.prototype.push.call(r,new Yc(t,i,new Zn)),csArray.prototype.push.call(r,new Vc(n)),r}(this.wt,this.Kf,this.Al),h=new zu(c,this.cf),a=new $u(new Hc),f=new as;var l=new Es("".concat(this.wt.getTrackerUri(),"/").concat($c)),v=new ys(this.Ph,this.Ct);return new Ju(this.wt,u,h,e,r,t,l,v,this.ie,n,this.Kf,a,f,i,undefined,undefined,undefined,undefined,undefined,undefined,undefined)},t.prototype.Nl=function(t){return new Yu(new Wu("csAnalysisEventsPersisted"),t)},t}();!function(t){t.Artificial="a",t.Renewal="r",t.Natural="n"}(Wc||(Wc={}));var Zc=function(t){function n(n,i,r,e,s){var o=t.call(this)||this;return o.oh=n,o.Ol=i,o.Il=r,o._t=e,o.ga=s,o}return vn(n,t),n.prototype.init=function(){this.Ml()},n.prototype.onStart=function(t){t?this.xl():this.Pl()},n.prototype.onStop=function(){},n.prototype.triggerArtificialPageView=function(t,n){this.isStarted?this._l(t,n):k(t)&&this._t.overridePath(t,n),this.isStarted||(this.Ol.emitTargetingRulesArtificialPageview(this._t.getUrl()),this._t.cleanupOverrideLifespan())},n.prototype.Pl=function(){this.ga.setPageViewType(Wc.Natural),this.oh.emitBeforeNaturalPageView(),this.Il.send(),this._t.cleanupOverrideLifespan(),this.oh.emitAfterNaturalPageView()},n.prototype.xl=function(){this.ga.setPageViewType(Wc.Renewal),this.oh.emitBeforeNaturalPageView(),this.Il.send(),this.oh.emitAfterNaturalPageView()},n.prototype._l=function(t,n){this.ga.setPageViewType(Wc.Artificial),this.oh.emitArtificialPageViewEnd(),k(t)&&this._t.overridePath(t,n),this.oh.emitBeforeArtificialPageView(),this.Il.send(),this._t.cleanupOverrideLifespan(),this.oh.emitAfterArtificialPageView()},n.prototype.Ml=function(){var t=this;window.addEventListener("pageshow",(function(n){t.isStarted&&n.persisted&&t._l()}))},n}(_r),Qc=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown";function th(){return{la:Qc}}var nh=function(){function t(t,n){this.lu=t,this.Qh=n,this.Dl=!1}return t.prototype.getRequestParameters=function(){return{dr:this.Ll()}},t.prototype.addUrlMaskingPattern=function(t){this.Qh.addUrlMaskingPattern(t)},t.prototype.enableRemoveQueryString=function(){this.Dl=!0},t.prototype.disableRemoveQueryString=function(){this.Dl=!1},t.prototype.Ll=function(){var t=this.Dl?this.lu.removeQueryString(this.Ul()):this.Ul();return this.lu.anonymizeUrl(t,this.Qh.getUrlMaskingPatterns())},t.prototype.Ul=function(){var t="";try{t=window.top.document.referrer}catch(n){if(window.parent)try{t=window.parent.document.referrer}catch(n){t=""}}return""===t&&(t=document.referrer),"string"!=typeof t&&(t=""),t},t}(),ih=function(){function t(t){this.It=t,this.jl=this.ql()&&window.CSCurrentScript}return t.prototype.Hl=function(){var t=window.CSCurrentScript;if(!t)return null;var n=window.performance.getEntriesByName(t.src,"resource")[0];return!n||this.Fl(n)?null:Math.round(n.responseEnd-n.fetchStart)},t.prototype.Fl=function(t){var n=t.transferSize;return void 0!==n?0===n||300===n||n<t.encodedBodySize:t.connectStart===t.domainLookupEnd},t.prototype.getRequestParameters=function(){if(!this.jl||1!==this.Bl())return{};var t=this.Hl();return null===t?{}:{dt:"".concat(Math.min(t,99999))}},t.prototype.Bl=function(){var t;return(null===(t=this.It.getSession())||void 0===t?void 0:t.pageNumber)||null},t.prototype.ql=function(){return"object"==typeof window.performance&&"function"==typeof window.performance.getEntriesByName},t}();function rh(t){var n,i,r=[],e=function(t){var n=t;Rn(t,"/")&&(n=csString.prototype.substring.call(n,1));ai(t,"/")&&(n=csString.prototype.slice.call(n,0,-1));return n}(t),s=csString.prototype.split.call(e,"/");try{for(var o=gn(s),u=o.next();!u.done;u=o.next()){var c=u.value;Rn(c,":")?csArray.prototype.push.call(r,{key:c,value:"CS_ANONYMIZED_".concat(csString.prototype.toUpperCase.call(csString.prototype.slice.call(c,1)))}):csArray.prototype.push.call(r,{key:c,value:null})}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r}var eh,sh,oh=function(){function t(){this.zl=new Set,this.Vl=[],this.Gl=new Set,this.Jl=[]}return t.prototype.addUrlMaskingPattern=function(t){if(!this.zl.has(t)){this.zl.add(t);var n=rh(t);csArray.prototype.push.call(this.Vl,n)}},t.prototype.getUrlMaskingPatterns=function(){return this.Vl},t.prototype.resetPartialUrlMaskingPatterns=function(){this.Gl.clear(),this.Jl=[]},t.prototype.addPartialUrlMaskingPattern=function(t){if(!this.Gl.has(t)){this.Gl.add(t);var n=rh(t);csArray.prototype.push.call(this.Jl,n)}},t.prototype.getPartialUrlMaskingPatterns=function(){return this.Jl},t}(),uh=["trackPageview"],ch=["setPath"],hh=["setQuery"],ah=["referrer:maskUrl"],fh=["referrer:removeQueryString"],lh=["referrer:keepQueryString"],vh=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v,d){this.wt=t,this.Kh=n,this.oh=i,this.Lh=r,this.Ct=e,this.It=s,this.Yl=o,this.Ln=u,this.lu=c,this._t=h,this.ia=a,this.ga=f,this.Ol=l,this.Wl=v,this.$l=d}return t.prototype.init=function(){var t,i=this,r=new Ln(this.wt.getTrackerUri(),"pageview");this.Xl=new Zc(this.oh,this.Ol,r,this._t,this.ga);var e=new nh(this.lu,new oh);this.Xl.init();var s=new ys(this.Lh,this.Ct,Wt,e,this._t,this.Yl,n,this.Ln,this.ga,new ih(this.It),this.ia);this.Wl&&s.addProvider(this.Wl),this.$l&&s.addProvider(this.$l);var o=this.wt.isCsCrosswritingHeap();if(o||this.wt.isCsSideloadingHeap()||this.wt.isHeapSideloadsCs()){var u=null===(t=this.wt.heapEnvironment)||void 0===t?void 0:t.env_id;s.addProvider({getRequestParameters:function(){var t={cw:o?"1":"2"};return u&&(t.happid=u),t}})}r.setRequestParametersProviders(s),this.Kh.register(uh,(function(t,n){R(t)?i.Kl(n)?i.Xl.triggerArtificialPageView(t,n):i.Xl.triggerArtificialPageView(t):i.Xl.triggerArtificialPageView()})),this.Kh.register(ch,(function(t,n){if(!R(t))throw new Error("Command misuse: ".concat(ch[0]));i.Kl(n)?i._t.overridePath(t,n):i._t.overridePath(t)})),this.Kh.register(hh,(function(t,n){if(!R(t))throw new Error("Command misuse: ".concat(hh[0]));i.Kl(n)?i._t.overrideQuery(t,n):i._t.overrideQuery(t)})),this.Kh.register(ah,(function(t){if(!R(t))throw new Error("Command misuse: ".concat(ah[0]));e.addUrlMaskingPattern(t)})),this.Kh.register(fh,(function(){return e.enableRemoveQueryString()})),this.Kh.register(lh,(function(){return e.disableRemoveQueryString()}))},t.prototype.start=function(t){this.Xl.start(t)},t.prototype.onBeforeSessionRenewal=function(){this.Xl.stop()},t.prototype.Kl=function(t){return T(t)&&null!==t},t}(),dh=function(){function t(t){this.vf=t}return t.prototype.on=function(t,n){var i=this;return function(r){i.vf.hasValidEventTarget(r)&&i.Zl(r,t)&&n(r)}},t.prototype.Zl=function(t,n){var i=yr(t);return nt.call(i,n)},t.prototype.isMatchesSelectorSupported=function(){return!!nt},t}(),yh=function(){function t(){}return t.prototype.onLoad=function(t){this.Cn=t},t.prototype.onLoadCallbackExecute=function(){this.Cn()},t.prototype.start=function(){var t=this.onLoadCallbackExecute.bind(this);this.Ql(t)},t.prototype.Ql=function(t){function n(){document.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),t()}"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?csSetTimeout(t):(document.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n))},wn([_t("onLoad")],t.prototype,"onLoadCallbackExecute",null),t}(),wh=function(){function t(t,n,i){this.wt=t,this.Ct=n,this.It=i,this.wl=ei()}return t.prototype.resetStartTime=function(){this.wl=ei()},t.prototype.getSessionData=function(){var t=this.wt.projectId,n=this.Ct.getVisitor();null==n&&Ui.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");var i=null!=n?n:{},r=i.id,e=i.visitsCount,s=this.It.getSession();return null===s&&Ui.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized."),{projectId:t,userId:r,sessionNumber:e,pageNumber:(null!=s?s:{}).pageNumber,relativeTimestamp:ei()-this.wl}},t}(),ph=["clearSession"],mh=["extendSession"],gh=["getSessionData"],Sh=["session:start:newVisitor"],bh=["session:clear:visitor"],Eh=function(){function t(t,n,i,r){this.wt=t,this.Ct=n,this.It=i,this.Kh=r}return t.prototype.init=function(){var t=this;this.tv=new wh(this.wt,this.Ct,this.It),this.Kh.register(ph,(function(){return t.It.removeSession()})),this.Kh.register(mh,(function(){return t.It.extendSessionPeriodically()}),{disableApplyPending:!0}),this.Kh.register(gh,(function(){return t.tv.getSessionData()}),{disableApplyPending:!0}),this.Kh.register(Sh,(function(){return t.Ct.renewVisitor()})),this.Kh.register(bh,(function(){t.Ct.resetVisitor()}),{disableApplyImmediate:!0})},t.prototype.onBeforeNaturalPageView=function(){this.Ct.createOrUpdateVisitor(),this.It.createOrUpdateSession()},t.prototype.onBeforeArtificialPageView=function(){this.It.abortQuotaServiceRequest(),this.Ct.createOrUpdateVisitor(),this.It.createOrUpdateSession()},t.prototype.onAfterNaturalPageView=function(){this.tv.resetStartTime()},t.prototype.onAfterArtificialPageView=function(){this.tv.resetStartTime()},t.prototype.onOptout=function(){this.Ct.removeVisitor(),this.It.removeSession()},t.prototype.onCollectStateChange=function(t,n){this.It.updateCollectState(t,n)},t}(),Ah=function(){function t(t,n){var i=this;this.It=t,this.Ct=n,this.nv=!1,this.iv=cr((function(){return i.It.refreshSession()}),3e4)}return t.prototype.onSessionExpired=function(t){this.rv=t},t.prototype.isSessionValid=function(){return!!this.nv||!!this.It.hasValidSession()&&(!this.It.pollCacheRefreshEvent()||!this.Ct.isSessionRenewed())},t.prototype.isCurrentPageviewValid=function(){var t=this.It.hasValidSession();return this.It.pollCacheRefreshEvent(!1)?!this.Ct.isSessionRenewed():t},t.prototype.refreshSession=function(){this.isSessionValid()?this.iv():this.ev()&&(this.sv=ei(),this.renewSession())},t.prototype.renewSession=function(){this.nv=!0,this.rv(),this.nv=!1},t.prototype.ev=function(){return!N(this.sv)||ei()-this.sv>6e4},t}();function Rh(t){return t.tagDeploymentMode===eh.DualCollectionReview||t.tagDeploymentMode===eh.DualCollection}!function(t){t.ContentSquare="CONTENTSQUARE",t.LoadedByClicktale="LOADED_BY_CLICKTALE",t.LoadClicktalePtc="LOAD_CLICKTALE_PTC",t.DualCollectionReview="DUAL_COLLECTION_REVIEW",t.DualCollection="DUAL_COLLECTION",t.ContentSquareTagClickTaleEndpoints="CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"}(eh||(eh={})),function(t){t.isRecording=function(){return window.ClickTaleIsRecording&&window.ClickTaleIsRecording()},t.stopRecording=function(){window.ClickTaleStop&&window.ClickTaleStop()},t.triggerLogicalPageView=function(t){window.ClickTaleLogicalWithUploadPage&&window.ClickTaleLogicalWithUploadPage(t)},t.sendPageEvent=function(t){window.ClickTaleEvent&&window.ClickTaleEvent(t)},t.sendEventTriggerRecording=function(t){window.ClickTaleEventTrigger&&window.ClickTaleEventTrigger(t)}}(sh||(sh={}));var Oh,Th="RSA-OAEP",Nh="AES-CTR";!function(t){var n,i,r,s=!1,o=null,u="undefined"!=typeof TextEncoder?new TextEncoder:null;function c(){var t,n;return null!=(null===(n=null===(t=e.self.crypto)||void 0===t?void 0:t.subtle)||void 0===n?void 0:n.encrypt)&&null!=e.self.CryptoKey}function h(n){return St(this,void 0,void 0,(function(){var r;return bt(this,(function(e){switch(e.label){case 0:return!c()||s?[2,null]:[4,i];case 1:e.sent(),(r=ns(n)).byteLength>190&&(r=r.slice(0,190)),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,t.crypto.encrypt({name:Th},o,r)];case 3:return[2,is(e.sent())];case 4:return e.sent(),[2,null];case 5:return[2]}}))}))}function a(n){var i;return St(this,void 0,void 0,(function(){var r;return bt(this,(function(e){switch(e.label){case 0:if(!c())return[2,null];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.crypto.exportKey("jwk",n)];case 2:return r=e.sent(),[2,null!==(i=r.k)&&void 0!==i?i:null];case 3:return e.sent(),[2,null];case 4:return[2]}}))}))}t.crypto=null===(n=e.crypto)||void 0===n?void 0:n.subtle,t.MAX_DIGEST_INPUT_SIZE=100,t.isKeyImported=function(){return!s},t.getCryptoKey=function(){return o},t.isSupported=c,t.importKey=function(n){return St(this,void 0,void 0,(function(){return bt(this,(function(r){switch(r.label){case 0:return[4,i=t.crypto.importKey("spki",rs(n),{name:Th,hash:"SHA-256"},!1,["encrypt"]).catch((function(){return s=!0,null}))];case 1:return o=r.sent(),i=void 0,o||Pt.warn("Fail to import public key '".concat(n,"'")),[2]}}))}))},t.asymmetricEncrypt=h,t.symmetricEncrypt=function(n,i){return St(this,void 0,void 0,(function(){var r,e;return bt(this,(function(o){switch(o.label){case 0:if(!c()||s)return[2,null];r={counter:i.initializationVector,name:Nh,length:64},e=u.encode(n),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t.crypto.encrypt(r,i.cryptoKey,e)];case 2:return[2,is(o.sent())];case 3:return o.sent(),[2,null];case 4:return[2]}}))}))},t.encryptSecret=function(t){return St(this,void 0,void 0,(function(){var n,i;return bt(this,(function(r){switch(r.label){case 0:return[4,a(t)];case 1:if(!(n=r.sent()))throw new Error("Export secret failed");return[4,h(n)];case 2:if(!(i=r.sent()))throw new Error("Encrypt secret failed");return[2,i]}}))}))},t.generateSymmetricKey=function(){return St(this,void 0,void 0,(function(){return bt(this,(function(n){switch(n.label){case 0:if(!c()||s)return[2,null];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.crypto.generateKey({name:Nh,length:128},!0,["encrypt","decrypt"])];case 2:return[2,{cryptoKey:n.sent(),initializationVector:e.crypto.getRandomValues(new Uint8Array(16))}];case 3:return n.sent(),[2,null];case 4:return[2]}}))}))},t.setDigestSalt=function(t){r=t},t.digest=function(n){return St(this,void 0,void 0,(function(){var i;return bt(this,(function(e){switch(e.label){case 0:n=csString.prototype.toLocaleLowerCase.call(csString.prototype.trim.call(n)),r&&(n="".concat(n,":").concat(r)),i=u.encode(n),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.crypto.digest("SHA-1",i)];case 2:return[2,es(e.sent())];case 3:return e.sent(),[2,null];case 4:return[2]}}))}))},t.generateKeyPair=function(){return e.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}}(Oh||(Oh={}));var kh,Ch="@user-identifier@",Ih=function(t){function n(n,i,r,e){var s=t.call(this)||this;return s.wt=n,s.ov=i,s.za=r,s.Ol=e,s.uv=[],s.Pe=[],s}return vn(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.uv,(function(n){return t.trackPageEvent(n)})),this.uv=[],csArray.prototype.forEach.call(this.Pe,(function(n){return t.trackEventTriggerRecording(n)})),this.Pe=[]},n.prototype.onStop=function(){},n.prototype.trackPageEvent=function(t){this.isStarted?n.cv(t)&&(this.hv(t)?Oh.isSupported()&&this.av(t):this.fv(t)):csArray.prototype.push.call(this.uv,t)},n.prototype.hv=function(t){return Rn(t,Ch)},n.prototype.av=function(t){return pn(this,void 0,void 0,(function(){var n,i;return mn(this,(function(r){switch(r.label){case 0:return this.wt.customHashIdEnabled?(n=csString.prototype.slice.call(t,17)).length>Oh.MAX_DIGEST_INPUT_SIZE?(Ui.warn("UserIdentifier event: invalid user identifier"),[2]):[4,Oh.digest(n)]:[2];case 1:return(i=r.sent())?(this.lv={eventName:i,isETR:!1,isCustomHashId:!0},this.vv()):Ui.warn("Page event: unable to compute customHashId"),this.wt.encryptionEnabled?(this.Ol.emitUserIdentifierEvent(n),[2]):[2]}}))}))},n.prototype.fv=function(t){this.Ol.emitPageEvent(t),this.lv={eventName:t,isETR:!1,isCustomHashId:!1},this.vv(),this.wt.tagDeploymentMode===eh.LoadClicktalePtc&&sh.sendPageEvent(t)},n.prototype.trackEventTriggerRecording=function(t){this.isStarted?n.cv(t)&&(this.wt.malkaEtrEnabled?this.yv(t):this.wv(t)):csArray.prototype.push.call(this.Pe,t)},n.prototype.yv=function(t){Rn(t,"@ETP@")?this.Ol.emitEventTriggerRecording(t,Br.ETR_PAGE):this.Ol.emitEventTriggerRecording(t,Br.ETR_SESSION),this.lv={eventName:t,isETR:!0,isCustomHashId:!1},this.vv()},n.prototype.wv=function(t){var n;(Rh(n=this.wt)||n.tagDeploymentMode===eh.LoadClicktalePtc)&&(this.Ol.emitEventTriggerRecording(t,Br.ETR_LEGACY),this.lv={eventName:t,isETR:!0,isCustomHashId:!1},this.vv(),this.wt.tagDeploymentMode===eh.LoadClicktalePtc&&sh.sendEventTriggerRecording(t))},n.prototype.getRequestParameters=function(){return{value:this.za.compressSync(this.lv.eventName,"base64"),ct:this.za.algorithm,isETR:"".concat(this.lv.isETR),isCustomHashId:"".concat(this.lv.isCustomHashId)}},n.prototype.vv=function(){this.ov.send()},n.cv=function(t){return R(t)&&!!csString.prototype.trim.call(t)},n}(_r),Mh=["trackPageEvent"],xh=["trackEventTriggerRecording"],Ph=function(){function t(t,n,i,r,e){this.wt=t,this.Kh=n,this.za=i,this.Lh=r,this.Ol=e}return t.prototype.init=function(){var t=this,n=new Ln(this.wt.getTrackerUri(),"pageEvent");this.pv=new Ih(this.wt,n,this.za,this.Ol),n.setRequestParametersProviders(this.pv,this.Lh),this.Kh.register(Mh,(function(n){t.pv.trackPageEvent(n)})),this.Kh.register(xh,(function(n){t.pv.trackEventTriggerRecording(n)}))},t.prototype.onStartTracking=function(){this.pv.start()},t}(),_h=function(){function t(){this.subscriptions={}}return t.prototype.subscribe=function(t,n){this.subscriptions[t]=n,1===Object.keys(this.subscriptions).length&&this.onStartTracking()},t.prototype.unsubscribe=function(t){delete this.subscriptions[t],0===Object.keys(this.subscriptions).length&&this.onStopTracking()},t}(),Dh=function(t){function n(){var n=t.call(this)||this;return n.Zi=new Io((function(t){return n.errorListener(t)})),n}return vn(n,t),n.prototype.onStartTracking=function(){this.Zi.observe()},n.prototype.onStopTracking=function(){this.Zi.disconnect()},n.prototype.errorListener=function(t){var n=this.mv(t);for(var i in this.subscriptions){(0,this.subscriptions[i])(n)}},n.prototype.gv=function(t){return t=null!=t?t:"[NO ERROR MESSAGE]",Qe.truncate(t,n.$c,Qe.ELLIPSIS)},n.prototype.Sv=function(t){return!t||Xr(t)?"":Qe.truncate(t,n.Xc,Qe.ELLIPSIS)},n.prototype.mv=function(t){return{errorType:"jsError",message:this.gv(t.message),filename:this.Sv(t.filename),lineno:t.lineno,colno:t.colno}},n.$c=1024,n.Xc=150,wn([_t("Event handler type: error")],n.prototype,"errorListener",null),n}(_h),Lh=function(){function t(t){this.Kh=t}return t.prototype.init=function(){this.bv(t.Ev,yi),this.bv(t.Av,di)},t.prototype.bv=function(t,n){this.Kh.register([t],(function(t,i){R(t)&&(R(i)||M(i))&&Ui.error(i,"".concat(n).concat(t))}))},t.Av="logSnippetError",t.Ev="logImplementationSnippetError",t}(),Uh=function(){function t(t,n,i,r,e){this.wt=t,this.Ia=n,this.Xh=i,this.Al=r,this.Pa=e}return t.prototype.init=function(){var t=this;this.Ia.onChildMessage((function(n,i,r){return t.Pa.emitIframeEvent(n,i,r)})),this.Ia.setSentiveStatusCallback((function(){return t.Al.getSensitiveStatus()})),this.Ia.setRecordingContextCallback((function(){return t.Xh.getRecordingContext()}))},t.prototype.onStartTracking=function(){this.wt.iframesTracking&&this.Ia.start()},t.prototype.onOptout=function(){this.wt.iframesTracking&&this.Ia.stop()},t.prototype.onSensitiveStatusChange=function(){if(this.wt.iframesTracking){var t=this.Al.getSensitiveStatus();this.Ia.onSensitiveStatusChange(t)}},t.prototype.onRecordingContextChange=function(){if(this.wt.iframesTracking){var t=this.Xh.getRecordingContext();this.Ia.onRecordingContextChange(t)}},t}(),jh=function(t){function n(n){var i=t.call(this)||this;return i.wt=n,i.Rv=0,i.Ov=new Map,i.Tv={boundElement:window,type:"message",listener:function(t){return i.Nv(t)}},i}return vn(n,t),n.prototype.onChildMessage=function(t){this.kv=t},n.prototype.setRecordingContextCallback=function(t){this.Cv=t},n.prototype.setSentiveStatusCallback=function(t){this.Iv=t},n.prototype.onSensitiveStatusChange=function(t){var n=this,i=ki.buildBaseMessage(Ni.SensitiveStatus,Ti.Parent,this.wt.projectId);i.content=t;var r=ki.buildBaseMessage(Ni.SensitiveStatus,Ti.Parent,this.wt.projectId);r.content=dn(dn({},t),{started:!1,useAnonymization:!0,capturedElementSelector:""}),this.Ov.forEach((function(t){if(t.port){var e=n.Mv(t)?r:i;n.xv(t,e)}}))},n.prototype.onRecordingContextChange=function(t){var n=this,i=ki.buildBaseMessage(Ni.RecordingContext,Ti.Parent,this.wt.projectId);i.content=t,this.Ov.forEach((function(t){!n.Mv(t)&&t.port&&n.xv(t,i)}))},n.prototype.sendToChildren=function(t,n){var i=ki.buildBaseMessage(t,Ti.Parent,this.wt.projectId);i.content=n,this.Pv(i)},n.prototype.onStart=function(){sr(this.Tv,!1),this._v()},n.prototype.onStop=function(){this.Dv(),or(this.Tv,!1),this.Lv()},n.prototype._v=function(){var t=this,n=this.Uv();this.jv(n),csArray.prototype.forEach.call(n,(function(n){if(null===t.qv(n)){var i={iframe:n};t.Ov.set(t.Rv,i),t.Rv+=1}})),this.Hv()},n.prototype.Uv=function(){var t=this;return csArray.prototype.filter.call(un.findAllElements("iframe"),(function(n){return t.Fv(n)}))},n.prototype.jv=function(t){var n=this;this.Ov.forEach((function(i,r){i.iframe&&-1===csArray.prototype.indexOf.call(t,i.iframe)&&n.Bv(r,i)}))},n.prototype.Bv=function(t,n){n.port&&ki.closeChannelPort(n.port),this.Ov.delete(t)},n.prototype.Lv=function(){this.Ov.forEach((function(t){t.port&&ki.closeChannelPort(t.port)})),this.Ov.clear()},n.prototype.qv=function(t){var n=null;return this.Ov.forEach((function(i,r){null===n&&i.iframe===t&&(n=r)})),n},n.prototype.Fv=function(t){return t.id!==s&&(!t.src||hi(t.src,"about:")||Ei(bi(t.src),this.wt.hostnames))},n.prototype.Pv=function(t){var n=this;this.Ov.forEach((function(i){n.xv(i,t)}))},n.prototype.xv=function(t,n){var i=n.type===Ni.SensitiveStatus||n.type===Ni.RecordingContext;!t.port||i&&!t.initialStatusSent||ki.sendChannelMessage(t.port,n)},n.prototype.Hv=function(){var t=this;this.Ov.forEach((function(n,i){if(n.iframe.contentWindow){var r=t.zv(i);ki.sendPostMessage(n.iframe.contentWindow,"*",r)}}))},n.prototype.Dv=function(){var t=this.Vv();this.Ov.forEach((function(n){n.port?ki.sendChannelMessage(n.port,t):n.iframe.contentWindow&&ki.sendPostMessage(n.iframe.contentWindow,"*",t)}))},n.prototype.zv=function(t){return ki.buildBaseMessage(Ni.Discovery,Ti.Parent,this.wt.projectId,t)},n.prototype.Vv=function(){return ki.buildBaseMessage(Ni.Stop,Ti.Parent,this.wt.projectId)},n.prototype.Gv=function(t,n){var i=this,r=this.Ov.get(t);void 0!==r?(r.port=n,r.port.onmessage=function(t){i.Jv(t,r)}):Ui.error("Parent received channel messaging initialization from unknow child id : ".concat(t," (").concat(this.Rv,")"))},n.prototype.Yv=function(t){if(t.port){var n=ki.buildBaseMessage(Ni.SensitiveStatus,Ti.Parent,this.wt.projectId),i=this.Iv();this.Mv(t)&&(i.started=!1,i.capturedElementSelector="",i.useAnonymization=!0),n.content=i,ki.sendChannelMessage(t.port,n)}},n.prototype.Wv=function(t){if(t.port){var n=ki.buildBaseMessage(Ni.RecordingContext,Ti.Parent,this.wt.projectId),i=this.Cv();this.Mv(t)&&(i.isRecording=!1,i.isMutationTrackerStarted=!1),n.content=i,ki.sendChannelMessage(t.port,n)}},n.prototype.Jv=function(t,n){if(void 0!==n){var i=t.data.type,r=t.data.content;i===Ni.EndOfBufferedMessages?(this.Yv(n),this.Wv(n),n.initialStatusSent=!0):this.kv(n.iframe,i,r)}else Ui.error("Parent received channelMessage from unknown child : ".concat(csJSON.stringify(t.data)))},n.prototype.Nv=function(t){if(ki.isMessageValid(t,Ti.Child,this.wt.projectId,this.wt.hostnames))switch(t.data.type){case Ni.Discovery:if(void 0===t.data.id)return void this._v();if(t.ports&&1===t.ports.length&&this.Ov.has(t.data.id))return void this.Gv(t.data.id,t.ports[0]);Ui.error("Parent received wrong channelMessage initialization : (".concat(t.origin,") : ").concat(csJSON.stringify(t.data)));break;case Ni.ChildLogMessage:this.kv(null,Ni.ChildLogMessage,t.data.content);break;default:Ui.warn("Parent received unexpected postMessage type from child (".concat(t.origin,") : ").concat(csJSON.stringify(t.data)))}},n.prototype.Mv=function(t){return Tr.isMaskedElement(t.iframe)||Tr.isMaskedElementChild(t.iframe)},n}(_r),qh=function(){function t(t){this.$v=t}return t.prototype.buildApiErrors=function(t,n){var i=this.$v.collectDataPoints(t,n);if(null===i)return null;var r=this.Xv(t,i);return n?{apiError:r,detailedApiError:this.Kv(t,i)}:{apiError:r}},t.prototype.Kv=function(t,n){var i=this.Zv(t);return n.collectQueryParam&&t.queryParameters&&(i.queryParameters=t.queryParameters),n.collectRequestBody&&t.requestBody&&(i.requestBody=t.requestBody),n.collectResponseBody&&t.responseBody&&(i.responseBody=t.responseBody),Object.keys(n.standardRequestHeaders).length>0&&(i.standardRequestHeaders=n.standardRequestHeaders),Object.keys(n.standardResponseHeaders).length>0&&(i.standardResponseHeaders=n.standardResponseHeaders),Object.keys(n.customRequestHeaders).length>0&&(i.customRequestHeaders=csJSON.stringify(n.customRequestHeaders)),Object.keys(n.customResponseHeaders).length>0&&(i.customResponseHeaders=csJSON.stringify(n.customResponseHeaders)),Object.keys(n.plainCustomRequestHeaders).length>0&&(i.plainCustomRequestHeaders=n.plainCustomRequestHeaders),Object.keys(n.plainCustomResponseHeaders).length>0&&(i.plainCustomResponseHeaders=n.plainCustomResponseHeaders),n.plainResponseBodyAttributes&&Object.keys(n.plainResponseBodyAttributes).length>0&&(i.plainResponseBodyAttributes=n.plainResponseBodyAttributes),n.plainRequestBodyAttributes&&Object.keys(n.plainRequestBodyAttributes).length>0&&(i.plainRequestBodyAttributes=n.plainRequestBodyAttributes),Object.keys(n.responseBodyAttributes).length>0&&(i.responseBodyAttributes=csJSON.stringify(n.responseBodyAttributes)),Object.keys(n.requestBodyAttributes).length>0&&(i.requestBodyAttributes=csJSON.stringify(n.requestBodyAttributes)),i},t.prototype.Zv=function(t){return{errorType:"apiError",url:t.url,method:t.method,requestTime:t.requestTime,responseTime:t.responseTime,statusCode:t.statusCode,library:t.library}},t.prototype.Xv=function(t,n){var i=this.Zv(t);return n.matchingBodyContents.length>0&&(i.matchingBodyContents=n.matchingBodyContents),Object.keys(n.plainResponseBodyAttributes).length>0&&(i.plainBodyResponseAttributes=n.plainResponseBodyAttributes),i},t}(),Hh=function(t){function n(n,i,r){var e=t.call(this)||this;return e.Qv=n,e.td=i,e.nd=r,e.rd=0,e.sd=new qh(r),e}return vn(n,t),n.prototype.subscribe=function(n,i,r){(null==r?void 0:r.detailedEvent)&&(Object.defineProperty(i,"detailedEvent",{value:r.detailedEvent}),this.rd++),t.prototype.subscribe.call(this,n,i)},n.prototype.unsubscribe=function(n){var i;(null===(i=this.subscriptions[n])||void 0===i?void 0:i.hasOwnProperty("detailedEvent"))&&this.rd--,t.prototype.unsubscribe.call(this,n)},n.prototype.init=function(){var t=this,n=this.nd.computeApiErrorCollectionOptions();this.Qv.setCollectionOptions(n),this.Qv.onEvent((function(n){return t.od(n)})),this.td.setCollectionOptions(n),this.td.onEvent((function(n){return t.od(n)}))},n.prototype.onStartTracking=function(){this.Qv.start(),this.td.start()},n.prototype.onStopTracking=function(){this.Qv.stop(),this.td.stop()},n.prototype.od=function(t){var n=this.sd.buildApiErrors(t,0!==this.rd);if(n)for(var i in this.subscriptions){var r=this.subscriptions[i];r.hasOwnProperty("detailedEvent")?n.detailedApiError&&r(n.detailedApiError):r(n.apiError)}},n}(_h),Fh=function(){function t(t,n){this.Qh=t,this.lu=n}return t.prototype.addUrlMaskingPattern=function(t){this.Qh.addUrlMaskingPattern(t)},t.prototype.anonymize=function(t){var n=this.lu.removeQueryString(t.url);return dn(dn({},t),{url:this.lu.anonymizeUrl(n,this.Qh.getUrlMaskingPatterns(),this.Qh.getPartialUrlMaskingPatterns()),library:t.library?this.lu.anonymizeUrl(t.library,this.Qh.getUrlMaskingPatterns(),this.Qh.getPartialUrlMaskingPatterns()):void 0})},t}(),Bh=function(){function t(t,n){this.gt=t,this._t=n}return t.prototype.anonymize=function(t){return R(t.message)&&(t.message=this.ud(t.message),t.message=this.gt.anonymizePII(t.message)),R(t.filename)&&(t.filename=this._t.computeOverriddenUrl(t.filename)),t},t.prototype.ud=function(t){return csString.prototype.replace.call(t,/(value\s*=\s*".*"|value\s*=\s*'.*')/,"value='".concat("CS_ANONYMIZED_VALUE","'"))},t}(),zh=function(t){function n(n){var i=t.call(this)||this;return i.ad=n,i.vs=[{boundElement:document,type:"touchstart",listener:function(t){return i.De(t)}},{boundElement:document,type:"touchmove",listener:function(t){return i.De(t)}},{boundElement:document,type:"touchend",listener:function(t){return i.De(t)}}],i.ld=new No,i.ld.onGesture((function(t,n){return i.Fc(t,n)})),i}return l(n,t),n.prototype.Fc=function(t,n){for(var i in this.subscriptions){(0,this.subscriptions[i])(t,n)}},n.prototype.onStartTracking=function(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.vs,(function(t){return sr(t)}))},n.prototype.onStopTracking=function(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.vs,(function(t){return or(t)}))},n.prototype.canDetectGesture=function(){return"undefined"!=typeof devicePixelRatio},n.prototype.De=function(t){var n=this;this.ad.tryToExecute("process gesture event",(function(){if(n.ld.isValidTouchEvent(t))switch(t.type){case"touchstart":n.ld.processActionDown(t);break;case"touchmove":n.ld.processActionMove();break;case"touchend":n.ld.processActionUp(t)}}))()},n.isSwipe=function(t){return t.type===lo.FLICK||t.type===lo.DRAG},n}(_h),Vh=function(t){function n(n,i){var r=t.call(this)||this;return r.ue=n,r.vd=i,r.dd=0,r}return vn(n,t),n.prototype.onStart=function(){var t=this;Ui.isPerfLoggingActive()&&(this.yd=window.csSetInterval((function(){return t.wd()}),n.pd))},n.prototype.onStop=function(){Ui.isPerfLoggingActive()&&(this.wd(),csClearInterval(this.yd))},n.prototype.wd=function(){if(!(Ht.isEmpty||this.dd>=n.md)){this.dd++;var t=dn({a:n.gd,l:n.Sd},this.vd.getRequestParameters()),i=[];Ht.forEach((function(n){csArray.prototype.forEach.call(n,(function(n){csArray.prototype.push.call(i,dn(dn({},n),t))}))})),this.ue.send(i),Ht.clear()}},n.gd="uxa",n.Sd="perf",n.pd=5e3,n.md=5,n}(_r),Gh=function(){function t(t,n,i){this.wt=t,this.vd=n,this.ra=i}return t.prototype.init=function(){this.bd=new Vh(this.ra.create(this.wt.getLoggerUri(),!0),this.vd)},t.prototype.onStartTracking=function(){this.bd.start()},t.prototype.onOptout=function(){this.bd.stop()},t}(),Jh=function(){function t(t){this.Al=t,this.Ed=!1}return t.prototype.enableRecordingContext=function(t,n,i){this.Ed=!0,this.qa=t,this.It=n,this.da=i},t.prototype.getRecordingContext=function(){var t,n,i,r;if(!this.Ed)return{isRecording:!1,recordingStartTimestamp:0,etrState:Fr.ETR_OFF,etrStatus:zr.ETR_DISABLED,collectState:Hr.ANALYTICS_ONLY};var e=this.It.getSession();return{isRecording:this.qa.isRecording(),isMutationTrackerStarted:this.qa.isStarted,useAnonymization:this.Al.getSensitiveStatus().useAnonymization,enableOnlineResources:null===(t=this.qa.getStaticResourceManagerStatus())||void 0===t?void 0:t.onlineAssets.activated,enableOnlineResourcesOnNextPageview:null===(n=this.qa.getStaticResourceManagerStatus())||void 0===n?void 0:n.onlineAssets.enabledOnNextPageview,recordingStartTimestamp:parseInt(this.qa.getRecordingStartTimestamp(),10),etrState:null!==(i=null==e?void 0:e.etrState)&&void 0!==i?i:Fr.ETR_OFF,etrStatus:this.da.getEtrStatus(e),collectState:null!==(r=null==e?void 0:e.collectState)&&void 0!==r?r:Hr.ANALYTICS_ONLY}},t}(),Yh=function(){function t(){}return t.isRecordingSupported=function(){return"MutationObserver"in window&&"visibilityState"in document},t.isAsyncSerializationSupported=function(){return"Promise"in window&&"findIndex"in csArray.prototype},t}(),Wh=function(t){function n(n,i,r,e){var s=t.call(this)||this;return s.ee=n,s.Ad=i,s.Ph=r,s.se=e,s.Rd=[],s.pe=0,s}return vn(n,t),n.prototype.init=function(){this.ee.init()},n.prototype.initStates=function(){this.Od(),this.Rd=[],this.pe=0,this.ll()},n.prototype.ll=function(){this.wl=ei()},n.prototype.yl=function(){return ei()-this.wl},n.prototype.onStart=function(){var t=this;this.ee.subscribe(n.Ye,(function(n){return t.De(n)}))},n.prototype.onStop=function(){this.ee.unsubscribe(n.Ye)},n.prototype.onIframeApiError=function(t){this.De(t)},n.prototype.De=function(t){this.isStarted&&this.pe<n.Yh&&(t.relativeTime=this.yl(),csArray.prototype.push.call(this.Rd,this.se.anonymize(t)),this.Td())},n.prototype.Od=function(){this.Ad.removeQueryParams(),this.Ad.setQueryParams(this.Ph.getRequestParameters())},n.prototype.Td=function(){this.Ad.send({errors:this.Rd}),this.Rd=[],this.pe+=1},n.Ye="ApiErrorsService",n.Yh=20,n}(_r),$h=["api-errors:maskUrl"],Xh=function(){function t(t,n,i,r,e,s,o){this.ee=t,this.se=n,this.wt=i,this.Ph=r,this.Pa=e,this.Kh=s,this.ra=o}return t.prototype.init=function(){var t=this.ra.create("".concat(this.wt.getTrackerUri(),"/").concat("api-errors"),!0);this.Nd=new Wh(this.ee,t,this.Ph,this.se),this.Nd.init(),this.Pa.addListener(this.Nd),this.kd()},t.prototype.kd=function(){var t=this;this.Kh.register($h,(function(n){R(n)&&t.se.addUrlMaskingPattern(n)}))},t.prototype.onStartTracking=function(){this.Nd.start()},t.prototype.onAfterNaturalPageView=function(){this.Nd.initStates()},t.prototype.onAfterArtificialPageView=function(){this.Nd.initStates()},t.prototype.onBeforeSessionRenewal=function(){this.Nd.stop()},t.prototype.onOptout=function(){this.Nd.stop()},t}(),Kh=function(t){function n(n,i,r,e,s,o){var u=t.call(this)||this;return u.Cd=n,u.Id=i,u.Ph=r,u.re=e,u.ta=s,u._t=o,u.Md=[],u.Wh=0,u.xd=[],u}return vn(n,t),n.prototype.initStates=function(){this.wl=ei(),this.Id.removeQueryParams(),this.Id.setQueryParams(this.Ph.getRequestParameters()),this.Md=[],this.Wh=0},n.prototype.onStart=function(){var t=this;this.Cd.subscribe(n.Ye,(function(n){return t.De(n)})),this.Pd()},n.prototype.onStop=function(){this.Cd.unsubscribe(n.Ye)},n.prototype.onIframeJavascriptError=function(t){this.De(t)},n.prototype.trackCustomError=function(t){var n={errorType:"jsError",message:"".concat("Custom Error:"," ").concat(t),lineno:1,colno:1,filename:"https://cserror.com/texterror.js"};this._d(n)},n.prototype._d=function(t){if(this.isStarted){var n=this.De(t);n&&this.ta.emitCustomJavaScriptErrorEvent(n)}else csArray.prototype.push.call(this.xd,t)},n.prototype.Pd=function(){var t=this;this.isStarted&&(csArray.prototype.forEach.call(this.xd,(function(n){return t._d(n)})),this.xd=[])},n.prototype.De=function(t){if(this.isStarted&&this.Wh<20){var n=dn(dn({},t),{pageUrl:this._t.getAnonymizedUrl(),rt:this.yl()});return this.re.anonymize(n),csArray.prototype.push.call(this.Md,n),this.Td(),n}return null},n.prototype.yl=function(){return ei()-this.wl},n.prototype.Td=function(){this.Id.send({errors:this.Md}),this.Md=[],this.Wh+=1},n.Ye="JavaScriptErrorsService",n}(_r),Zh=["trackError"],Qh=function(){function t(t,n,i,r,e,s,o,u,c){this.Cd=t,this.re=n,this.wt=i,this.Ph=r,this.Pa=e,this.Kh=s,this.ta=o,this._t=u,this.ra=c}return t.prototype.init=function(){var t=this.ra.create("".concat(this.wt.getTrackerUri(),"/").concat("errors"),!0);this.Dd=new Kh(this.Cd,t,this.Ph,this.re,this.ta,this._t),this.Pa.addListener(this.Dd),this.kd()},t.prototype.kd=function(){var t=this;this.wt.jsCustomErrorsEnabled&&!this.wt.customErrors.enabled&&this.Kh.register(Zh,(function(n){t.Dd.trackCustomError(n)}))},t.prototype.onStartTracking=function(){this.Dd.start()},t.prototype.onAfterNaturalPageView=function(){this.Dd.initStates()},t.prototype.onAfterArtificialPageView=function(){this.Dd.initStates()},t.prototype.onBeforeSessionRenewal=function(){this.Dd.stop()},t.prototype.onOptout=function(){this.Dd.stop()},t}();!function(t){t.buildCustomErrorEvent=function(t,n,i){void 0===i&&(i=!1);var r={message:Qe.truncate(t,300,Qe.ELLIPSIS),errorType:"customError"};return(i||function(t){var n=Object.keys(t).length;return n>0&&n<=5}(n))&&(!function(t){for(var n in t){var i=t[n];if("string"==typeof i&&i.length>30&&(i=Qe.truncate(i,30,Qe.ELLIPSIS),t[n]=i),n.length>30){var r=Qe.truncate(n,30,Qe.ELLIPSIS);delete t[n],t[r]=i}}}(n),r.attributes=n),r}}(kh||(kh={}));var ta,na,ia=function(t){function n(n,i,r,e,s){var o=t.call(this)||this;return o.Ld=n,o.Ph=i,o.Ud=r,o.Ol=e,o.jd=s,o.qd=[],o.$h=0,o.xd=[],o}return vn(n,t),n.prototype.initStates=function(){var t,n=this;this.Od(),this.wl=ei(),this.qd=[],this.$h=0,null===(t=this.jd)||void 0===t||t.onEvent((function(t){return n.De(t)}))},n.prototype.trackCustomError=function(t,n){if(void 0===n&&(n={}),R(t)&&T(n)&&k(n)){var i=kh.buildCustomErrorEvent(t,n);this._d(i)}},n.prototype.onIframeCustomError=function(t){this.De(t)},n.prototype.onStart=function(){var t;this.Pd(),null===(t=this.jd)||void 0===t||t.start()},n.prototype.onStop=function(){var t;null===(t=this.jd)||void 0===t||t.stop()},n.prototype.Pd=function(){var t=this;this.isStarted&&(csArray.prototype.forEach.call(this.xd,(function(n){return t._d(n)})),this.xd=[])},n.prototype._d=function(t){if(this.isStarted){var n=this.De(t);n&&this.Ol.emitCustomErrorEvent(n)}else csArray.prototype.push.call(this.xd,t)},n.prototype.De=function(t){if(this.isStarted&&this.$h<20){var n=this.Hd(t);return csArray.prototype.push.call(this.qd,n),this.Td(),n}return null},n.prototype.Hd=function(t){var n=dn(dn({},t),{rt:this.yl()});return n.message=this.Ud.anonymize(t.message),n},n.prototype.Od=function(){this.Ld.removeQueryParams(),this.Ld.setQueryParams(this.Ph.getRequestParameters())},n.prototype.yl=function(){return ei()-this.wl},n.prototype.Td=function(){this.Ld.send({errors:this.qd}),this.qd=[],this.$h+=1},n}(_r),ra=function(){function t(t,n,i,r,e,s,o,u){this.Ud=t,this.wt=n,this.Ph=i,this.Kh=r,this.ta=e,this.ra=s,this.Pa=o,this.jd=u}return t.prototype.init=function(){var t=this.ra.create("".concat(this.wt.getTrackerUri(),"/").concat("custom-errors"),!0);this.Fd=new ia(t,this.Ph,this.Ud,this.ta,this.jd),this.Pa.addListener(this.Fd),this.kd()},t.prototype.kd=function(){var t=this;this.Kh.register(Zh,(function(n,i){t.Fd.trackCustomError(n,i)}))},t.prototype.onStartTracking=function(){this.Fd.start()},t.prototype.onAfterNaturalPageView=function(){this.Fd.initStates()},t.prototype.onAfterArtificialPageView=function(){this.Fd.initStates()},t.prototype.onBeforeSessionRenewal=function(){this.Fd.stop()},t.prototype.onOptout=function(){this.Fd.stop()},t}(),ea=function(){function t(){this.Bd=Wc.Natural}return t.prototype.setPageViewType=function(t){this.Bd=t},t.prototype.getPageViewType=function(){return this.Bd},t.prototype.getRequestParameters=function(){return{pvt:this.Bd}},t}(),sa=function(){function t(t){this.ie=t}return t.prototype.onAfterVisitorRenewal=function(){this.ie.renewSession()},t}();!function(t){t.replayRecordingUnmaskedUrlRegex="replayRecordingUnmaskedUrlRegex",t.replayRecordingMaskedUrlRegex="replayRecordingMaskedUrlRegex",t.replayRecordingUnmaskedUrlRegexRules="replayRecordingUnmaskedUrlRegexRules",t.replayRecordingMaskedUrlRegexRules="replayRecordingMaskedUrlRegexRules"}(ta||(ta={})),function(t){t.START="start",t.NOT_START="not-start",t.END="end",t.NOT_END="not-end",t.CONTAIN="contain",t.NOT_CONTAIN="not-contain",t.EXACT="exact",t.NOT_EXACT="not-exact"}(na||(na={}));var oa,ua,ca=function(){function t(t,n,i,r){this.Yl=t,this.wt=n,this._t=i,this.zd=r}return t.prototype.init=function(){this.Vd()},t.prototype.shouldMaskNonTextElements=function(){return this.wt.isSMB&&this.wt.anonymisationMethod===ta.replayRecordingMaskedUrlRegexRules&&this.shouldUseAnonymization()},t.prototype.shouldUseAnonymization=function(){if(this.Yl.isReplayUnanonymizedAllowedByConsent()){switch(this.wt.anonymisationMethod){case null:case ta.replayRecordingMaskedUrlRegex:return!(!this.wt.replayRecordingMaskedUrlRegex||!this.wt.replayRecordingMaskedUrlRegex.test(this._t.getAnonymizedUrl()));case ta.replayRecordingMaskedUrlRegexRules:return this.zd.evaluateUrl(this._t.getAnonymizedUrl())}return!1}switch(this.wt.anonymisationMethod){case null:case ta.replayRecordingUnmaskedUrlRegex:return!(this.wt.replayRecordingUnmaskedUrlRegex&&this.wt.replayRecordingUnmaskedUrlRegex.test(this._t.getAnonymizedUrl()));case ta.replayRecordingUnmaskedUrlRegexRules:return!this.zd.evaluateUrl(this._t.getAnonymizedUrl())}return!0},t.prototype.Vd=function(){this.wt.anonymisationMethod===ta.replayRecordingMaskedUrlRegexRules&&this.wt.replayRecordingMaskedUrlRegexRules?this.zd.setRegexRules(this.wt.replayRecordingMaskedUrlRegexRules):this.wt.anonymisationMethod===ta.replayRecordingUnmaskedUrlRegexRules&&this.wt.replayRecordingUnmaskedUrlRegexRules&&this.zd.setRegexRules(this.wt.replayRecordingUnmaskedUrlRegexRules)},t}(),ha=function(){function t(){this.Gd=[]}return t.prototype.setRegexRules=function(t){var n=this;this.Gd=csArray.prototype.map.call(t,(function(t){return n.Jd(t)}))},t.prototype.evaluateUrl=function(t){var n=this;return csArray.prototype.some.call(this.Gd,(function(i){var r,e,s=n.Yd(t,i);return(null==i?void 0:i.notOperator)?!(null===(r=i.regex)||void 0===r?void 0:r.test(s)):null===(e=i.regex)||void 0===e?void 0:e.test(s)}))},t.prototype.Yd=function(t,n){var i=Ri(t);return i?n.ignoreQueryParams&&n.ignoreURIFragments?"".concat(i.origin).concat(i.pathname):n.ignoreQueryParams?"".concat(i.origin).concat(i.pathname).concat(i.hash):n.ignoreURIFragments?"".concat(i.origin).concat(i.pathname).concat(i.search):t:t},t.prototype.Wd=function(t){return t.ignoreCaseSensitivity?"i":""},t.prototype.Jd=function(t){switch(t.operator){case na.NOT_START:t.notOperator=!0;case na.START:t.regex=new csRegExp("^".concat(t.value),this.Wd(t));break;case na.NOT_END:t.notOperator=!0;case na.END:t.regex=new csRegExp("".concat(t.value,"$"),this.Wd(t));break;case na.NOT_CONTAIN:t.notOperator=!0;case na.CONTAIN:t.regex=new csRegExp("".concat(t.value),this.Wd(t));break;case na.NOT_EXACT:t.notOperator=!0;case na.EXACT:t.regex=new csRegExp("^".concat(t.value,"$"),this.Wd(t));break;default:Ui.warn("buildRegexWithRule, unknown type: ".concat(t.operator))}return t},t}(),aa=function(){function t(){this.$d=["application/json","application/graphql","application/xml","text/plain","text/csv","text/html","text/xml","text/javascript"]}return t.prototype.setCollectionOptions=function(t){this.Xd=t},t.prototype.isValidBodyType=function(t){var n=t["content-type"];if(!n)return!1;var i=csString.prototype.toLocaleLowerCase.call(n);return rn(this.$d,(function(t){return Rn(i,t)}))},t.prototype.canCollect=function(t,n){return this.Kd(t,n)&&this.Zd(n)},t.prototype.Kd=function(t,n){return t>=400||t>=200&&t<300&&this.Xd.statusCodes.has(t)&&this.Qd(n)},t.prototype.Qd=function(t){return rn(this.Xd.urls,(function(n){return-1!==csString.prototype.indexOf.call(t,n)}))},t.prototype.Zd=function(t){return function(t,n){for(var i=t.length,r=0;r<i;r++)if(!n(t[r],r))return!1;return!0}(this.Xd.excludedDomains,(function(n){return-1===csString.prototype.indexOf.call(t,n)}))},t}(),fa=function(t){function n(){var n=t.call(this)||this;return n.ty=csSymbol("ApiCall"),n.Cr=!1,n.ny=null,n.iy=null,n.ey=null,n.sy=function(t){var i=t.context,r=t.args,e=t.callerName;return n.interceptOpen(i,r,e)},n.oy=function(t){var i=t.context,r=t.args;return n.interceptSetRequestHeader(i,r)},n.uy=function(t){var i=t.context,r=t.args;return n.interceptSend(i,r)},n}return vn(n,t),n.prototype.onEvent=function(t){this.ds=t},n.prototype.start=function(){this.Cr||(this.hy(),this.ny&&this.ny.activate(),this.iy&&this.iy.activate(),this.ey&&this.ey.activate(),this.Cr=!0)},n.prototype.stop=function(){this.Cr&&(this.ny&&this.ny.deactivate(),this.iy&&this.iy.deactivate(),this.Cr=!1)},n.prototype.hy=function(){this.ny||(this.ny=nr({target:XMLHttpRequest.prototype,methodName:"open",hook:this.sy,options:{withCallerName:!0}})),this.iy||(this.iy=nr({target:XMLHttpRequest.prototype,methodName:"setRequestHeader",hook:this.oy})),this.ey||(this.ey=nr({target:XMLHttpRequest.prototype,methodName:"send",hook:this.uy}))},n.prototype.interceptOpen=function(t,n,i){var r=this;if(n[1]&&R(n[1])){var e=Sn(csString.prototype.split.call(n[1],"?"),2),s=e[0],o=e[1];t[this.ty]={library:i,requestTime:ei(),method:n[0],url:Si(s),queryParameters:o,statusCode:0,responseHeaders:{},requestHeaders:{},responseBody:"",requestBody:""},t.addEventListener("readystatechange",(function(){return r.readyStateChangeListener(t)}))}},n.prototype.readyStateChangeListener=function(n){n[this.ty]&&n.readyState===XMLHttpRequest.DONE&&this.canCollect(n.status,n[this.ty].url)&&(n[this.ty].responseTime=ei(),n[this.ty].statusCode=n.status,n[this.ty].responseHeaders=this.ly(n.getAllResponseHeaders()),!t.prototype.isValidBodyType.call(this,n[this.ty].responseHeaders)||""!==n.responseType&&"text"!==n.responseType||(n[this.ty].responseBody=n.responseText),this.ds(n[this.ty]))},n.prototype.interceptSetRequestHeader=function(t,n){if(t[this.ty]){var i=n[0],r=csString.prototype.valueOf.call(new csString(n[1]));"string"==typeof i&&0!==r.length&&(i=csString.prototype.toLowerCase.call(csString.prototype.trim.call(i)),r=csString.prototype.trim.call(r),t[this.ty].requestHeaders[i]?t[this.ty].requestHeaders[i]+=", ".concat(r):t[this.ty].requestHeaders[i]=r)}},n.prototype.interceptSend=function(n,i){n[this.ty]&&t.prototype.isValidBodyType.call(this,n[this.ty].requestHeaders)&&"string"==typeof i[0]&&(n[this.ty].requestBody=i[0])},n.prototype.ly=function(t){var n={};return csArray.prototype.forEach.call(csString.prototype.split.call(t,/[\r\n]+/),(function(t){var i=Sn(csString.prototype.split.call(t,/:\s*/),2),r=i[0],e=i[1];e&&(n[csString.prototype.toLowerCase.call(r)]=csString.prototype.trim.call(e))})),n},wn([_t("XhrRequestTracker.interceptOpen")],n.prototype,"interceptOpen",null),wn([_t("XhrRequestTracker.readyStateChangeListener")],n.prototype,"readyStateChangeListener",null),wn([_t("XhrRequestTracker.interceptSetRequestHeader")],n.prototype,"interceptSetRequestHeader",null),wn([_t("XhrRequestTracker.interceptSend")],n.prototype,"interceptSend",null),n}(aa),la=function(t){function n(){var n=t.call(this)||this;return n.Cr=!1,n.vy=null,n.yy=function(t){var i=t.result,r=t.args,e=t.callerName;n.interceptFetch(i,r,e)},n}return vn(n,t),n.prototype.onEvent=function(t){this.ds=t},n.prototype.start=function(){this.Cr||this.wy()&&(this.py(),this.vy&&this.vy.activate(),this.Cr=!0)},n.prototype.stop=function(){this.Cr&&(this.vy&&this.vy.deactivate(),this.Cr=!1)},n.prototype.wy=function(){return!!window.fetch&&"function"==typeof window.fetch},n.prototype.my=function(t){if(t[0]&&"function"==typeof t[0].clone){var n=Kt(t);return n[0]=t[0].clone(),n}return t},n.prototype.py=function(){this.vy||(this.vy=nr({target:window,methodName:"fetch",hook:this.yy,hookPrepareArgs:this.my,options:{withCallerName:!0}}))},n.prototype.interceptFetch=function(n,i,r){return pn(this,void 0,void 0,(function(){var e,s,o,u,c,h,a,f,l,v,d,y,w,p;return mn(this,(function(m){switch(m.label){case 0:if(e=i[0],s=i[1],!R((o=new Request(e,s)).url))return[2];u=ei(),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,n];case 2:return c=m.sent(),[3,4];case 3:if(h=m.sent(),this.gy(h)||this.Sy(h)||this.by(h))return[2];throw h;case 4:if(a=Sn(csString.prototype.split.call(o.url,"?"),2),f=a[0],l=a[1],v=Si(f),!c||!t.prototype.canCollect.call(this,c.status,v))return[3,11];if(d={library:r,method:o.method,url:v,queryParameters:l,requestTime:u,responseTime:ei(),statusCode:c.status,requestBody:"",responseBody:"",requestHeaders:this.Ey(o.headers),responseHeaders:this.Ey(c.headers)},c.bodyUsed||!t.prototype.isValidBodyType.call(this,d.responseHeaders))return[3,8];m.label=5;case 5:return m.trys.push([5,7,,8]),y=d,[4,c.clone().text()];case 6:return y.responseBody=m.sent(),[3,8];case 7:return w=m.sent(),this.Sy(w)?[2]:[3,8];case 8:return t.prototype.isValidBodyType.call(this,d.requestHeaders)?(p=d,[4,o.text()]):[3,10];case 9:p.requestBody=m.sent(),m.label=10;case 10:this.ds(d),m.label=11;case 11:return[2]}}))}))},n.prototype.gy=function(t){return t instanceof TypeError},n.prototype.Sy=function(t){return t instanceof DOMException&&"AbortError"===t.name},n.prototype.by=function(t){return t instanceof DOMException&&csArray.prototype.some.call(n.Ay,(function(n){return n===t.name}))},n.prototype.Ey=function(t){var n={};return t.forEach((function(t,i){t&&(n[csString.prototype.toLowerCase.call(i)]=csString.prototype.trim.call(t))})),n},n.Ay=["NoModificationAllowedError","InvalidStateError","OperationError"],wn([_t("FetchRequestTracker.interceptFetch")],n.prototype,"interceptFetch",null),n}(aa),va=function(){function t(){this.Ry=64e3,this.Oy=5e3,this.Ty=2e3,this.Ny=8e3,this.Vu=!!self.TextEncoder,this.Vu&&(this.ky=new TextEncoder)}return t.prototype.Cy=function(t){return this.ky.encode(t).byteLength},t.prototype.Iy=function(n,i,r){var e=0;n[i]&&(e+=this.Cy(n[i]))>this.Ny&&(e=0,n[i]=Qe.ELLIPSIS),n[r]&&(e+=this.Cy(csJSON.stringify(n[r])))>this.Ny&&(n[r]=t.truncatedObjectMarker)},t.prototype.My=function(t){t.queryParameters&&this.Cy(t.queryParameters)>this.Ty&&(t.queryParameters=Qe.ELLIPSIS)},t.prototype.xy=function(t){t.requestBody&&this.Cy(t.requestBody)>this.Ry&&(t.requestBody=Qe.ELLIPSIS),t.responseBody&&this.Cy(t.responseBody)>this.Oy&&(t.responseBody=Qe.ELLIPSIS)},t.prototype.truncate=function(t){this.Vu?(this.My(t),this.xy(t),this.Iy(t,"customResponseHeaders","plainCustomResponseHeaders"),this.Iy(t,"customRequestHeaders","plainCustomRequestHeaders")):(t.queryParameters="",t.requestBody="",t.responseBody="",t.customResponseHeaders="",t.customRequestHeaders="",t.plainCustomResponseHeaders={},t.plainCustomRequestHeaders={})},t.truncatedObjectMarker=((oa={})[Qe.ELLIPSIS]=Qe.ELLIPSIS,oa),t}();!function(t){t.isValidJSONPath=function(t){if(!t)return!0;if(!function(t){for(var n=[],i=0;i<t.length;++i)if("["===t[i])csArray.prototype.push.call(n,t[i]);else if("]"===t[i]){if(!(csString.prototype.indexOf.call(t,"[")>-1))return!1;csArray.prototype.pop.call(n)}return 0===n.length}(t))return!1;var n=csString.prototype.split.call(t,/[\[\]]/);return csArray.prototype.every.call(n,(function(t){var n=t[0],i=t[t.length-1];if(("'"===n||'"'===n)&&n!==i)return!1;var r=csString.prototype.split.call(t,".");return 0===r[0].length&&csArray.prototype.shift.call(r),csArray.prototype.every.call(r,(function(t){var n=/^\-?\d+$/.exec(t);return n?parseInt(n[0],10)>=0:"$"===t||/\w+/.test(t)}))}))},t.getJSONPathValue=function(t,n){var i,r;if(t){var e=csString.prototype.split.call(t,/[\$\[\]]/),s=[];csArray.prototype.forEach.call(e,(function(t){var n;"'"!==t[0]&&'"'!==t[0]?(n=csArray.prototype.push).call.apply(n,Rt([s],At(csArray.prototype.filter.call(csString.prototype.split.call(t,"."),(function(t){return t.length>0}))),!1)):csArray.prototype.push.call(s,csString.prototype.substring.call(t,1,t.length-1))})),"$"===s[0]&&csArray.prototype.shift.call(s);var o=n;try{for(var u=Et(s),c=u.next();!c.done;c=u.next()){var h=c.value;if(void 0===o[h])return;o=o[h]}}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return o}}}(ua||(ua={}));var da,ya=function(){function t(){this.Py=new Set(["age","cache-control","clear-site-data","expires","pragma","warning","downlink","ect","rtt","last-modified","connection","keep-alive","accept","accept-encoding","accept-language","expect","access-control-allow-origin","access-control-allow-credentials","access-control-allow-headers","access-control-allow-methods","access-control-expose-headers","access-control-max-age","access-control-request-headers","access-control-request-method","origin","timing-allow-origin","content-length","content-type","content-encoding","content-language","via","host","referrer-policy","user-agent","allow","server","accept-ranges","range","if-range","content-range","cross-origin-embedder-policy","cross-origin-opener-policy","cross-origin-resource-policy","content-security-policy","content-security-policy-report-only","expect-ct","feature-policy","strict-transport-security","upgrade-insecure-requests","x-content-type-options","x-download-options","x-frame-options","x-permitted-cross-domain-policies","x-powered-by","x-xss-protection","sec-fetch-site","sec-fetch-mode","sec-fetch-user","sec-fetch-dest"])}return t.prototype.isValidStandardHeader=function(t){return this.Py.has(t)},t}(),wa=function(){function t(){this._y=64e3,this.Dy=100,this.Ly={collectQueryParam:!1,collectRequestBody:!1,collectResponseBody:!1,matchingBodyContents:[],plainResponseBodyAttributes:{},plainRequestBodyAttributes:{},requestBodyAttributes:{},responseBodyAttributes:{},standardRequestHeaders:{},standardResponseHeaders:{},customRequestHeaders:{},customResponseHeaders:{},plainCustomRequestHeaders:{},plainCustomResponseHeaders:{}},this.Uy=new ya}return t.prototype.jy=function(t){return t.length<=this._y},t.prototype.qy=function(t){var n=t["content-type"];return void 0!==n&&(hi(n,"application/json")||hi(n,"application/graphql"))},t.prototype.Hy=function(t,n){return t&&this.jy(t)&&this.qy(n)},t.prototype.Fy=function(t,n,i,r){var e="request"===r?this.By:this.zy;if(void 0!==e||this.Hy(n,i)){if(void 0===e)try{e=csJSON.parse(n),"request"===r?this.By=e:this.zy=e}catch(t){return}var s=ua.getJSONPathValue(t,e);if(void 0!==s&&(null===s||!T(s))){var o=R(s)?s:csJSON.stringify(s);return Qe.truncate(o,this.Dy,Qe.ELLIPSIS)}}},t.prototype.isBodyAttributeValueFound=function(t,n){var i,r;return"request-response"!==n.type&&"response"!==n.type||(i=this.Fy(n.path,t.responseBody,t.responseHeaders,"response")),"request-response"!==n.type&&"request"!==n.type||(r=this.Fy(n.path,t.requestBody,t.requestHeaders,"request")),N(i)||N(r)},t.prototype.collectBodyAttribute=function(t,n,i){var r;"request-response"!==n.type&&"response"!==n.type||(r=this.Fy(n.path,t.responseBody,t.responseHeaders,"response"))&&(n.encrypted?this.Ly.responseBodyAttributes[n.path]=r:(r=i(r),this.Ly.plainResponseBodyAttributes[n.path]=r)),"request-response"!==n.type&&"request"!==n.type||(r=this.Fy(n.path,t.requestBody,t.requestHeaders,"request"))&&(n.encrypted?r&&(this.Ly.requestBodyAttributes[n.path]=r):(r=i(r),this.Ly.plainRequestBodyAttributes[n.path]=r))},t.prototype.isBodyContentMatching=function(t,n){return!!t.responseBody&&!!new csRegExp(n,"i").test(t.responseBody)},t.prototype.collectBodyContent=function(t){-1===csArray.prototype.indexOf.call(this.Ly.matchingBodyContents,t)&&csArray.prototype.push.call(this.Ly.matchingBodyContents,t)},t.prototype.collectCustomHeaders=function(t,n,i){var r=csString.prototype.toLocaleLowerCase.call(n.headerName);!t.responseHeaders[r]||"request-response"!==n.type&&"response"!==n.type||(n.encrypted?this.Ly.customResponseHeaders[r]=t.responseHeaders[r]:this.Ly.plainCustomResponseHeaders[r]=i(t.responseHeaders[r])),!t.requestHeaders[r]||"request-response"!==n.type&&"request"!==n.type||(n.encrypted?this.Ly.customRequestHeaders[r]=t.requestHeaders[r]:this.Ly.plainCustomRequestHeaders[r]=i(t.requestHeaders[r]))},t.prototype.collectStandardHeaders=function(t){var n,i,r,e;if(!(Object.keys(this.Ly.standardRequestHeaders).length>0||Object.keys(this.Ly.standardResponseHeaders).length>0)){try{for(var s=gn(Object.entries(t.requestHeaders)),o=s.next();!o.done;o=s.next()){var u=Sn(o.value,2),c=u[0],h=u[1];this.Uy.isValidStandardHeader(c)&&(this.Ly.standardRequestHeaders[c]=h)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}try{for(var a=gn(Object.entries(t.responseHeaders)),f=a.next();!f.done;f=a.next()){var l=Sn(f.value,2),v=l[0];h=l[1];this.Uy.isValidStandardHeader(v)&&(this.Ly.standardResponseHeaders[v]=h)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}}},t.prototype.setCollectQueryParam=function(t){t&&(this.Ly.collectQueryParam=!0)},t.prototype.setCollectResponseBody=function(t){t&&(this.Ly.collectResponseBody=!0)},t.prototype.setCollectRequestBody=function(t){t&&(this.Ly.collectRequestBody=!0)},t.prototype.getCollectedDataPoints=function(){return this.Ly},t}();!function(t){t.CONTENTSQUARE="contentsquare.net",t.CLICKTALE="clicktale.net",t.FAKE_TRACKER="fake-tracker.content-square.fr"}(da||(da={}));var pa,ma=function(){function t(){}return t.prototype.computeApiErrorCollectionOptions=function(){var t,n,i=new Set,r=[];if(this.rules)try{for(var e=gn(this.rules),s=e.next();!s.done;s=e.next()){var o=s.value;void 0!==o.statusCode&&i.add(o.statusCode),void 0!==o.url&&-1===csArray.prototype.indexOf.call(r,o.url)&&csArray.prototype.push.call(r,o.url)}}catch(n){t={error:n}}finally{try{s&&!s.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}var u=[da.CONTENTSQUARE,da.CLICKTALE];return csArray.prototype.push.call(u,da.FAKE_TRACKER),{statusCodes:i,urls:r,excludedDomains:u}},t}(),ga=function(t){function n(n,i){var r=t.call(this)||this;return r.Vy=n,r.gt=i,r.rules=n.collectionRules,r}return vn(n,t),n.prototype.collectDataPoints=function(t,n){var i,r;this.Ly=new wa;var e=!1;if(this.Vy.collectionRules)try{for(var s=gn(this.Vy.collectionRules),o=s.next();!o.done;o=s.next()){var u=o.value;this.Gy(u,t)&&this.Jy(u,t)&&this.Yy(u,t)&&(e=!0,this.Wy(t,u,n))}}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return e||(e=this.$y(t)),e&&n&&this.Vy.collectStandardHeaders&&this.Ly.collectStandardHeaders(t),e?this.Ly.getCollectedDataPoints():null},n.prototype.computeApiErrorCollectionOptions=function(){var t,n,i=this.Vy.collectionRules||[],r=new Set,e=[];try{for(var s=gn(i),o=s.next();!o.done;o=s.next()){var u=o.value;void 0!==u.statusCode&&r.add(u.statusCode),void 0!==u.url&&-1===csArray.prototype.indexOf.call(e,u.url)&&csArray.prototype.push.call(e,u.url)}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var c=[da.CONTENTSQUARE,da.CLICKTALE];return csArray.prototype.push.call(c,da.FAKE_TRACKER),{statusCodes:r,urls:e,excludedDomains:c}},n.prototype.Gy=function(t,n){return(!t.statusCode&&n.statusCode>=400||void 0!==t.statusCode&&t.statusCode===n.statusCode)&&(!t.url||-1!==csString.prototype.indexOf.call(n.url,t.url))},n.prototype.Jy=function(t,n){return!t.bodyContent||this.Ly.isBodyContentMatching(n,t.bodyContent)},n.prototype.Yy=function(t,n){var i=csArray.prototype.find.call(t.bodyAttributePaths,(function(t){return t.primary}));return void 0===i||this.Ly.isBodyAttributeValueFound(n,i)},n.prototype.$y=function(t){return t.statusCode>=400},n.prototype.Wy=function(t,n,i){var r,e,s,o,u=this;n.bodyContent&&this.Ly.collectBodyContent(n.bodyContent);var c=nn(n.bodyAttributePaths,(function(t){return 1===t.primary}));if(c&&this.Ly.collectBodyAttribute(t,c,(function(t){return u.gt.anonymizePII(t)})),i){this.Ly.setCollectQueryParam(n.collectQueryParam),this.Ly.setCollectResponseBody(n.collectResponseBody),this.Ly.setCollectRequestBody(n.collectRequestBody);try{for(var h=gn(n.customHeaders),a=h.next();!a.done;a=h.next()){var f=a.value;this.Ly.collectCustomHeaders(t,f,(function(t){return u.gt.anonymizePII(t)}))}}catch(t){r={error:t}}finally{try{a&&!a.done&&(e=h.return)&&e.call(h)}finally{if(r)throw r.error}}var l=en(n.bodyAttributePaths,(function(t){return!t.primary}));try{for(var v=gn(l),d=v.next();!d.done;d=v.next()){var y=d.value;this.Ly.collectBodyAttribute(t,y,(function(t){return u.gt.anonymizePII(t)}))}}catch(t){s={error:t}}finally{try{d&&!d.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}}},n}(ma),Sa=function(t){function n(n,i){var r=t.call(this)||this;return r.Vy=n,r.gt=i,r.rules=n.configurableApiErrorRules,r}return vn(n,t),n.prototype.collectDataPoints=function(t,n){this.Ly=new wa;var i=this.Xy(t,this.Vy.configurableApiErrorRules);return i.isMatching?(i.matchingBodyContents.length>0&&this.Ly.collectBodyContent(i.matchingBodyContents[0]),n&&this.Ky(t),this.Ly.getCollectedDataPoints()):null},n.prototype.computeApiErrorCollectionOptions=function(){var t,n,i=this.Vy.configurableApiErrorRules||[],r=new Set,e=[];try{for(var s=gn(i),o=s.next();!o.done;o=s.next()){var u=o.value;void 0!==u.statusCode&&r.add(u.statusCode),void 0!==u.url&&-1===csArray.prototype.indexOf.call(e,u.url)&&csArray.prototype.push.call(e,u.url)}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var c=[da.CONTENTSQUARE,da.CLICKTALE];return csArray.prototype.push.call(c,da.FAKE_TRACKER),{statusCodes:r,urls:e,excludedDomains:c}},n.prototype.Xy=function(t,n){var i,r;if(t.statusCode>=400)return{isMatching:!0,matchingBodyContents:[]};if(n)try{for(var e=gn(n),s=e.next();!s.done;s=e.next()){var o=s.value;if(this.Zy(t,o))return{isMatching:!0,matchingBodyContents:o.bodyContent?[o.bodyContent]:[]}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}return{isMatching:!1,matchingBodyContents:[]}},n.prototype.Zy=function(t,n){return!(t.statusCode!==n.statusCode||-1===csString.prototype.indexOf.call(t.url,n.url)||n.bodyContent&&!this.Ly.isBodyContentMatching(t,n.bodyContent))},n.prototype.Ky=function(t){this.Vy.collectStandardHeaders&&this.Ly.collectStandardHeaders(t),this.Vy.validCustomHeaders&&this.Qy(t,this.Vy.validCustomHeaders,Number(!0)),this.Vy.plainCustomHeaders&&this.Qy(t,this.Vy.plainCustomHeaders,Number(!1)),this.Qd(t.url,this.Vy.validUrls)&&(this.Vy.collectQueryParam&&this.Ly.setCollectQueryParam(Number(this.Vy.collectQueryParam)),this.Vy.collectResponseBody&&this.Ly.setCollectResponseBody(Number(this.Vy.collectResponseBody)),this.Vy.collectRequestBody&&this.Ly.setCollectRequestBody(Number(this.Vy.collectRequestBody)))},n.prototype.Qy=function(t,n,i){var r,e,s=this;try{for(var o=gn(n),u=o.next();!u.done;u=o.next()){var c=u.value;this.Ly.collectCustomHeaders(t,{headerName:c,encrypted:i,type:"request-response"},(function(t){return s.gt.anonymizePII(t)}))}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}},n.prototype.Qd=function(t,n){return!!n&&csArray.prototype.some.call(n,(function(n){return-1!==csString.prototype.indexOf.call(t,n)}))},n}(ma),ba=function(t){function n(n){var i=t.call(this)||this;return i.Pu=null,i.tw=null,i.Fn=null,i.Au=null,i.nw=["value","checked","src","data","alt"],i.iw={state:Tr.MaskedElementState.Child},i.rw=function(t){var n,r;try{for(var e=p(t),s=e.next();!s.done;s=e.next()){var o=s.value;if(Tr.isMaskedElement(o.target)||Tr.isMaskedElementChild(o.target))for(var u=0;u<o.addedNodes.length;u+=1){var c=o.addedNodes[u];Tr.isMaskedElement(c)||Tr.isMaskedElementChild(c)||P(c)&&i.ew(c)}for(u=0;u<o.removedNodes.length;u+=1){var h=o.removedNodes[u];un.isConnected(h)||i.ow(h)}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}},i.uw=n,i}return l(n,t),n.prototype.setMaskedElementSettings=function(t){this.hw=t},n.prototype.startIdentifier=function(){this.isStarted||(this.isStarted=!0,this.onStart())},n.prototype.stopIdentifier=function(){return this.isStarted=!1,this.onStop()},n.prototype.start=function(){},n.prototype.stop=function(){},n.prototype.onStart=function(){var t,n,i,r,e=this;this.hw||(Pt.error("maskedElementSettings not initialized","MaskedElementIdentifier.start"),this.hw={elementSelector:"",attrSelector:"",attrSelectors:[]});var s=this.hw,o=s.elementSelector,u=s.attrSelector,c=s.attrSelectors;null!==(t=this.Au)&&void 0!==t||(this.Au=this.aw()),0!==o.length&&(null!==(n=this.Pu)&&void 0!==n||(this.Pu=this.fw()),this.Pu.observe(o)),0!==u.length&&(null!==(i=this.tw)&&void 0!==i||(this.tw=this.lw(c)),this.tw.observe(u)),null!==(r=this.Fn)&&void 0!==r||(this.Fn=new _e(this.rw,(function(t,n){return"added"===n&&e.yw(t)}))),this.Fn.observe(),csSetTimeout(this.uw)},n.prototype.onStop=function(){var t,n,i;this.Pu&&(this.ow(document),this.Pu.disconnect()),null===(t=this.tw)||void 0===t||t.disconnect(),null===(n=this.Fn)||void 0===n||n.disconnect(),null===(i=this.Au)||void 0===i||i.disconnect()},n.prototype.aw=function(){var t=this;return window.ResizeObserver?new ResizeObserver((function(n){csArray.prototype.forEach.call(n,(function(n){t.resizeObserverCallback(n)}))})):null},n.prototype.fw=function(){var t=this;return new uo((function(n){csArray.prototype.forEach.call(n,(function(n){t.pw(n)?t.ew(n):(t.mw(n),t.gw(n))}))}))},n.prototype.lw=function(t){var n=this;return new uo((function(i){csArray.prototype.forEach.call(i,(function(i){return n.Sw(i,t)}))}))},n.prototype.resizeObserverCallback=function(t){var n=t.target.getBoundingClientRect(),i=Tr.getMaskedElementDetails(t.target);if(i.state===Tr.MaskedElementState.Parent&&(n.width!==i.width||n.height!==i.height)){var r={state:Tr.MaskedElementState.Parent,width:n.width,height:n.height};Tr.setMaskedElementProperty(t.target,r),this.produceEvent({type:"ResizeMaskedElement",target:Rr(t.target),width:n.width,height:n.height})}},n.prototype.gw=function(t){this.Au&&P(t)&&!F(t)&&this.Au.observe(t)},n.prototype.pw=function(t){var n=csNodeparentNode.apply(t);return n?Tr.isMaskedElement(n)||Tr.isMaskedElementChild(n):!!J(t)&&(Tr.isMaskedElement(t.host)||Tr.isMaskedElementChild(t.host))},n.prototype.yw=function(t){(Tr.isMaskedElement(t.host)||Tr.isMaskedElementChild(t.host))&&Tr.setMaskedElementProperty(t,this.iw)},n.prototype.ow=function(t){kt(t,NodeFilter.SHOW_ELEMENT).visitAll((function(t){Tr.unsetMaskedElementProperty(t)}))},n.prototype.mw=function(t){var n=this,i=t.getBoundingClientRect(),r={state:Tr.MaskedElementState.Parent,width:i.width,height:i.height};Tr.setMaskedElementProperty(t,r),this.bw(t),kt(t).visitAll((function(i){return i!=t&&Tr.setMaskedElementProperty(i,n.iw)}))},n.prototype.ew=function(t){var n=this;Tr.setMaskedElementProperty(t,this.iw),kt(t).visitAll((function(i){return i!=t&&Tr.setMaskedElementProperty(i,n.iw)}))},n.prototype.bw=function(t){for(var n,i=null!==(n=Sr.getProperty(t,Tr.maskedAttributeProp))&&void 0!==n?n:{attributes:[]},r=0;r<this.nw.length;r+=1){var e=this.nw[r];-1===csArray.prototype.indexOf.call(i.attributes,e)&&csArray.prototype.push.call(i.attributes,e)}0!==i.attributes.length&&Tr.setMaskedAttributeProperty(t,i)},n.prototype.Sw=function(t,n){for(var i,r=null!==(i=Sr.getProperty(t,Tr.maskedAttributeProp))&&void 0!==i?i:{attributes:[]},e=function(i){var e=t.attributes[i].name;-1===csArray.prototype.indexOf.call(r.attributes,e)&&csArray.prototype.some.call(n,(function(n){return csString.prototype.indexOf.call(n.attrName,e)>-1&&nt.call(t,n.selector)}))&&csArray.prototype.push.call(r.attributes,e)},s=0;s<t.attributes.length;s+=1)e(s);0!==r.attributes.length&&Tr.setMaskedAttributeProperty(t,r)},d([_t()],n.prototype,"resizeObserverCallback",null),n}(Xe),Ea=function(){function t(){var t=this;this.Ew=0,this.Cr=!1,this.Aw="data-cs-capture",this.Rw=function(n){var i,r;try{for(var e=p(n),s=e.next();!s.done;s=e.next()){var o=s.value;if(Rs.isWhitelistedElement(o.target))for(var u=0;u<o.addedNodes.length;u+=1){var c=o.addedNodes[u];Rs.isWhitelistedElement(c)||P(c)&&t.Ow(c)}for(u=0;u<o.removedNodes.length;u+=1){var h=o.removedNodes[u];un.isConnected(h)||t.Tw(h)}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}}return t.prototype.start=function(){this.Ew++,this.Cr||(this.Cr=!0,this.Nw())},t.prototype.Nw=function(){var t=this;this.Pu||(this.Pu=new uo((function(n){return tn(n,(function(n){return t.Ow(n)}))})));var n=this.kw?"[".concat(this.Aw,"], ").concat(this.kw):"[".concat(this.Aw,"]");this.Pu.observe(n),this.Fn||(this.Fn=new _e(this.Rw,(function(n,i){return"added"===i&&t.Cw(n)}))),this.Fn.observe()},t.prototype.stop=function(){this.Cr&&(this.Ew--,0===this.Ew&&(this.Cr=!1,this.Iw()))},t.prototype.Iw=function(){this.Pu&&(this.Tw(document),this.Pu.disconnect()),this.Fn&&this.Fn.disconnect()},t.prototype.setWhitelistedElementsSelector=function(t){Nr(t)&&(this.kw=t)},t.prototype.getWhitelistedElementsSelector=function(){return this.kw},t.prototype.Ow=function(t){kt(t).visitAll((function(t){Rs.whitelistElement(t)}))},t.prototype.Cw=function(t){Rs.isWhitelistedElement(t.host)&&Rs.whitelistElement(t)},t.prototype.Tw=function(t){kt(t,NodeFilter.SHOW_ELEMENT).visitAll((function(t){Rs.removeWhitelistElement(t)}))},t}(),Aa=function(){function t(t,n,i,r,e){this.ea=t,this.Mw=n,this.xw=i,this.Pw=r,this.oe=e}return t.prototype.getSensitiveStatus=function(){var t,n;return{started:this.xw.isStarted,useAnonymization:this.ea.shouldUseAnonymization(),capturedElementSelector:this.Pw.getWhitelistedElementsSelector(),maskedElementSettings:this.Mw.getMaskedElementSettings(null===(t=this.ea)||void 0===t?void 0:t.shouldMaskNonTextElements()),encryptionSelectors:null===(n=this.oe)||void 0===n?void 0:n.getEncryptionSelectors()}},t.prototype.getElementSensitiveStatus=function(t){var n=this.xw.isStarted,i=this.ea.shouldUseAnonymization();return n?Tr.isMaskedElement(t)||Tr.isMaskedElementChild(t)?Gc.MASKED:Gs.shouldEncrypt(t)?Gc.ENCRYPTED:i?Rs.isWhitelistedElement(t)?Gc.CAPTURED:Gc.ANONYMIZED:Gc.CAPTURED:Gc.ANONYMIZED},t}(),Ra=["setEncryptionSelectors"],Oa=["setPIISelectors"],Ta=["setCapturedElementsSelector"],Na=function(){function t(t,n,i,r,e,s,o){this.oh=t,this.Kh=n,this.Mw=i,this.xw=r,this.Pw=e,this.oe=s,this._w=o}return t.prototype.init=function(){var t,n;this._w&&this.oe&&(null===(t=this._w)||void 0===t||t.addSelector(null===(n=this.oe)||void 0===n?void 0:n.getEncryptionSelectors())),this.kd()},t.prototype.onStartTracking=function(t){this.xw.start(),this.oh.emitSensitiveStatusChange()},t.prototype.onBeforeArtificialPageView=function(){this.xw.stop(),this.oh.emitSensitiveStatusChange()},t.prototype.onAfterArtificialPageView=function(){this.xw.start(),this.oh.emitSensitiveStatusChange()},t.prototype.onBeforeSessionRenewal=function(){this.xw.stop(),this.oh.emitSensitiveStatusChange()},t.prototype.onOptout=function(){this.xw.stop(),this.oh.emitSensitiveStatusChange()},t.prototype.onReplayUnanonymizationConsentGranted=function(){this.oh.emitSensitiveStatusChange()},t.prototype.onReplayUnanonymizationConsentWithdrawn=function(){this.oh.emitSensitiveStatusChange()},t.prototype.kd=function(){var t=this;this.Kh.register(Oa,(function(n){t.Mw.setMaskedElementSettingsFromCommand(n),t.oh.emitSensitiveStatusChange()})),this.Kh.register(Ta,(function(n){t.Pw.setWhitelistedElementsSelector(n),t.oh.emitSensitiveStatusChange()})),this.Kh.register(Ra,(function(n){var i,r;null===(i=t.oe)||void 0===i||i.setEncryptionSelectors(n),null===(r=t._w)||void 0===r||r.addSelector(n)}))},t}(),ka=function(t){function n(n,i,r,e,s){var o=t.call(this)||this;return o.Zh=n,o.Mw=i,o.Pw=r,o._w=e,o.ea=s,o}return vn(n,t),n.prototype.onStart=function(){var t,n;this.Pw.start(),this.Zh.setMaskedElementSettings(this.Mw.getMaskedElementSettings(null===(t=this.ea)||void 0===t?void 0:t.shouldMaskNonTextElements())),this.Zh.startIdentifier(),null===(n=this._w)||void 0===n||n.start()},n.prototype.onStop=function(){var t;this.Pw.stop(),this.Zh.stopIdentifier(),null===(t=this._w)||void 0===t||t.stop()},n}(_r),Ca=["networkRequest:maskUrls"],Ia=["networkRequest:maskUrls:reset"],Ma=function(){function t(t,n){this.Dw=t,this.Qh=n}return t.prototype.init=function(){var t=this;this.Dw.register(Ca,(function(n){var i,r;if(R(n))t.Qh.addPartialUrlMaskingPattern(n);else if(csArray.isArray(n))try{for(var e=gn(n),s=e.next();!s.done;s=e.next()){var o=s.value;R(o)&&t.Qh.addPartialUrlMaskingPattern(o)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}})),this.Dw.register(Ia,(function(){return t.Qh.resetPartialUrlMaskingPatterns()}))},t}(),xa=/(\b["']?key["']?\s*[=:]\s*["'](?:first|last)[ _-]?name["']\s*,?\s*["']?value["']?\s*[=:]\s*["'])(.+?)(["'])|(\b["']?(?:first|last)[\s_-]?name["']?\s*[=:]\s*["'])(.+?)(["'])/gi,Pa=/(?:\(\d{3}\) \d{3}[- ]\d{4}\b)|(?:\b\d{3}([-\. ])\d{3}\1\d{4}\b)|(?:\b\d{2} \d{2} \d{2} \d{2} \d{2}\b)|(?:\b\d{4} \d{3} \d{3}\b)|(?:\b\d{2}([-\. ])\d{4}\2\d{4}\b)|(?:\b\d{3}([- ])\d{4}\3\d{4}\b)|(?:\+\d{1,3} \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \(\d{3}\) \d{3}-\d{4}\b)|(?:\+\d{1,3}([- ])\d{4}\4\d{3}\4\d{3}\b)|(?:\+\d{1,3} \d \d{4} \d{4}\b)|(?:\+\d{1,3} \d \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \d \d{2} \d{2} \d{2} \d{2}\b)|(?:\+\d{7,15}\b)|(?:\+\d{1,3} \d{6,12}\b)|(?:\+\d{1,3}([- ])\d{4}\5\d{3}\5\d{3}\b)/g,_a=function(){function t(t){this.gt=t}return t.prototype.anonymize=function(t){return t=this.gt.anonymizePII(t),t=this.Lw(t),t=this.Uw(t)},t.prototype.Lw=function(t){return csString.prototype.replace.call(t,xa,"$1$4CS_ANONYMIZED_NAME$3$6")},t.prototype.Uw=function(t){return csString.prototype.replace.call(t,Pa,"CS_ANONYMIZED_PHONE")},t}();!function(t){function n(t,n){var e=function(t,n){"date"!==t.rule_type||"less_than"!==t.match_operation&&"greater_than"!==t.match_operation||(n=(new csDate(n).valueOf()/1e3).toFixed(0));switch(t.match_operation){case"exact":switch(t.rule_type){case"string":return!!R(t.pattern)&&csString.prototype.toLowerCase.call(n)===csString.prototype.toLowerCase.call(t.pattern);case"boolean":return n===t.pattern||n===csString(t.pattern);case"number":return!!k(n)&&Number(n)===Number(t.pattern);default:return n===t.pattern}case"starts_with":return!!R(t.pattern)&&0===csString.prototype.indexOf.call(n,t.pattern);case"ends_with":return!!R(t.pattern)&&ai(n,t.pattern);case"contains":return!!R(t.pattern)&&-1!==csString.prototype.indexOf.call(n,t.pattern);case"regex":if(!R(t.pattern))return!1;try{return new csRegExp(t.pattern).test(n)}catch(t){return Ui.warn("targeting.matchOperation.regex invalid ".concat(null==t?void 0:t.message)),!1}case"simple":return!!R(t.pattern)&&r(n)===r(t.pattern);case"greater_than":return Number(n)>Number(t.pattern);case"less_than":return Number(n)<Number(t.pattern);case"exact_date":var e=Number(t.pattern);if(!E(e))return!1;var s=new csDate(1e3*e);return new csDate(n).toDateString()===s.toDateString();case"exact_days_ago":return i(t,n);case"more_than_days_ago":return function(t,n){var i=Number(t.pattern);if(!E(i))return!1;var r=Number(i)+1,e=new csDate,s=new csDate(e);return s.setDate(e.getDate()-r),new csDate(n).getTime()<=s.getTime()}(t,n);case"less_than_days_ago":return function(t,n){var r=Number(t.pattern);if(!E(r))return!1;if(0===r)return i(t,n);var e=new csDate,s=new csDate(e);return s.setDate(e.getDate()-r),new csDate(n).getTime()>=s.getTime()}(t,n);case"unknown":return function(t){if(!k(t))return!0;if(R(t))return""===csString.prototype.trim.call(t);if(O(t))return!0===t;if(E(t))return 0!==t;return!1}(n);default:return Ui.warn("targeting.matchOperation.regex not managed operation ".concat(t.match_operation)),!1}}(t,n);return t.negate?!e:e}function i(t,n){var i=new csDate,r=i.setDate(i.getDate()-Number(t.pattern)),e=new csDate(r);return new csDate(n).toDateString()===e.toDateString()}function r(t){var n=Ri(hi(t,"http://")||hi(t,"https://")?t:"https://".concat(t));return null!==n?csString.prototype.replace.call(n.host,/^www./,""):t}t.isUrlMatching=function(t,i){var r,e;try{for(var s=gn(t),o=s.next();!o.done;o=s.next()){if(n(o.value,i))return!0}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return!1},t.isMatching=function(t,i){var r,e,s,o;if(R(i))try{for(var u=gn(t),c=u.next();!c.done;c=u.next()){if(n(c.value,i))return!0}}catch(t){r={error:t}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}else if(O(i))try{for(var h=gn(t),a=h.next();!a.done;a=h.next()){if(n(a.value,csString(i)))return!0}}catch(t){s={error:t}}finally{try{a&&!a.done&&(o=h.return)&&o.call(h)}finally{if(s)throw s.error}}return!1}}(pa||(pa={}));var Da,La=function(){function t(){this.jw=[],this.qw=[]}return t.prototype.setTargetingRules=function(t){var n,i;try{for(var r=gn(t),e=r.next();!e.done;e=r.next()){var s=e.value;"url"===s.component?csArray.prototype.push.call(this.jw,s):"trigger"===s.component&&csArray.prototype.push.call(this.qw,s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.matchUrl=function(t){return pa.isUrlMatching(this.jw,t)},t.prototype.matchTrigger=function(t){return pa.isMatching(this.qw,t)},t}(),Ua=function(t){function n(n,i,r){var e=t.call(this)||this;return e.Hw=n,e.Fw=i,e._t=r,e}return vn(n,t),n.prototype.init=function(){this.Bw=new La,this.Hw&&this.Bw.setTargetingRules(this.Hw)},n.prototype.onStart=function(){},n.prototype.checkInitialUrlTargetingRules=function(){var t=this._t.getAnonymizedUrl();this.zw(t,"url")&&this.Fw()},n.prototype.onStop=function(){},n.prototype.onTargetingRulesArtificialPageview=function(t){this.isStarted&&this.zw(t,"url")&&this.Fw()},n.prototype.onExternalEvent=function(t){this.isStarted&&this.zw(t.name,"trigger")&&this.Fw()},n.prototype.zw=function(t,n){var i,r;return!("url"!==n||!R(t)||!(null===(i=this.Bw)||void 0===i?void 0:i.matchUrl(t)))||!("trigger"!==n||!(null===(r=this.Bw)||void 0===r?void 0:r.matchTrigger(t)))},n}(_r),ja=function(){function t(t,n,i,r,e,s){this.Hw=t,this.Vw=n,this.oh=i,this.Gw=r,this.Ol=e,this._t=s}return t.prototype.init=function(){this.Jw=new Ua(this.Hw,this.Vw,this._t),this.Ol.addListener(this.Jw),this.Jw.init()},t.prototype.start=function(){this.Jw.start()},t.prototype.stop=function(){this.Jw.stop()},t.prototype.checkInitialUrlTargetingRules=function(){this.Jw.checkInitialUrlTargetingRules()},t.prototype.emitTargetingCollectState=function(){var t=this.Gw.getInitialCollectState();t===Hr.ANALYTICS_ONLY?this.oh.emitCollectStateChange(Hr.ANALYTICS_ONLY_RULES_TARGETING,Fr.ETR_OFF):t===Hr.RECORDING_GLOBAL_SAMPLING&&this.oh.emitCollectStateChange(Hr.RECORDING_RULES_TARGETING,Fr.ETR_OFF)},t}(),qa=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S,b,E,A,R,O,T,N,k){var C=this;this.Ph=t,this.za=n,this.Ct=i,this.It=r,this.oh=e,this.Kh=s,this.Yw=o,this.wt=u,this.Ww=c,this.$w=h,this.Xw=a,this.Yl=f,this.gt=l,this.Kf=v,this.lu=d,this._t=y,this.Kw=w,this.Ol=p,this.Pa=m,this.Ln=g,this.Zw=S,this.ia=b,this.Qw=E,this.Vs=A,this.ra=R,this.tp=O,this.np=T,this.Gw=N,this.Mw=k,this.ip=function(t){void 0===t&&(t=!1);var n=C.It.getSession();null===n?(C.rp=new ja(C.wt.recordTargetingRules,C.ep,C.oh,C.Gw,C.Ol,C._t),C.rp.init(),C.rp.start()):n.collectState!==Hr.RECORDING_RULES_TARGETING&&n.collectState!==Hr.ANALYTICS_ONLY_RULES_TARGETING||C.ep(t)},this.ep=function(t){void 0===t&&(t=!1),C.sp.onLoad((function(){var n,i;null===(n=C.rp)||void 0===n||n.emitTargetingCollectState(),null===(i=C.rp)||void 0===i||i.stop(),C.oh.emitStartTracking(t)})),C.op(t)},this.op=function(t){void 0===t&&(t=!1),C.$w.isActive()||(C.Mw.init(),C.up.start(t),C.sp.start())},this.cp=function(){C.oh.emitBeforeSessionRenewal(),C.hp(!0),C.oh.emitAfterSessionRenewal()},this.ap=function(){C.oh.emitBeforeSessionRenewal(),C.Gw.refreshQuota(),C.Gw.onQuotaReady((function(t){t!==Hr.QUOTA_REACHED&&(C.hp(!0),C.oh.emitAfterSessionRenewal())}))}}return t.prototype.start=function(){var t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p=this;(this.Ww.init(),this.$w.init(),this.$w.isActive())||(this.Vs.schedule((function(){a=new Ah(p.It,p.Ct),v=new sa(a),h=new dh(p.Kf),f=new ba((function(){})),d=new Ea;var m=new ka(f,p.Mw,d,w,p.fp());l=new Aa(p.fp(),p.Mw,m,d,y);var g=new Na(p.oh,p.Kh,p.Mw,m,d,y,w);g.init(),p.oh.addListener(g),t=new Kc(p.wt,p.Ph,p.Ct,p.Kf,h,p.Kh,a,new zh(Ui),p.Pa,p.ra,p.Ol,l),n=new Ru(p.Kh,p.It,p.wt,p.Ph,p.za,p.gt),c=new Jh(l);var S=new jh(p.wt);(u=new Uh(p.wt,S,c,l,p.Pa)).init();var b=new ea;i=new gu(p.Ct,p.It,p.Kh,p.Pa,S,p.wt,b,c),r=new Pu(p.wt,p.Ph,p.Ct,p.Kh,p.gt,a,p._t),p.up=new vh(p.wt,p.Kh,p.oh,p.Ph,p.Ct,p.It,p.Yl,p.Ln,p.lu,p._t,p.ia,b,p.Ol,p.Wl,undefined),p.lp=new Eh(p.wt,p.Ct,p.It,p.Kh),e=new Ph(p.wt,p.Kh,p.za,p.Ph,p.Ol),s=new Lh(p.Kh),o=new Gh(p.wt,new vi(p.wt,p.gt),p.ra),p.sp=new yh})),this.wt.apiErrors.enabled&&this.Vs.schedule((function(){p.Qh=new oh,p.vp=new Ma(p.Kh,p.Qh),p.vp.init()})),this.wt.apiErrors.enabled&&this.Vs.schedule((function(){var t,n;n=(null===(t=p.wt.apiErrors.collectionRules)||void 0===t?void 0:t.length)?new ga(p.wt.apiErrors,p.gt):new Sa(p.wt.apiErrors,p.gt),p.ee=new Hh(new fa,new la,n),p.se=new Fh(p.Qh,p.lu),p.de=new va;var i=new Xh(p.ee,p.se,p.wt,p.Ph,p.Pa,p.Kh,p.ra);i.init(),p.oh.addListener(i)})),this.wt.customErrors.enabled&&this.Vs.schedule((function(){p.Ud=new _a(p.gt);var t=new ra(p.Ud,p.wt,p.Ph,p.Kh,p.Ol,p.ra,p.Pa,undefined);t.init(),p.oh.addListener(t)})),this.wt.jsErrorsEnabled&&this.Vs.schedule((function(){p.Cd=new Dh,p.re=new Bh(p.gt,p._t);var t=new Qh(p.Cd,p.re,p.wt,p.Ph,p.Pa,p.Kh,p.Ol,p._t,p.ra);t.init(),p.oh.addListener(t)})),this.Vs.schedule((function(){p.Xw.init()})),this.Vs.schedule((function(){i.init()})),this.Vs.schedule((function(){n.init()})),this.Vs.schedule((function(){r.init()})),this.Vs.schedule((function(){p.Zw.init()})),this.Vs.schedule((function(){p.up.init()})),this.Vs.schedule((function(){p.lp.init()})),this.Vs.schedule((function(){e.init()})),this.Vs.schedule((function(){p.Kw.init()})),this.Vs.schedule((function(){s.init()})),this.Vs.schedule((function(){o.init()})),this.Vs.schedule((function(){p.Qw.init()})),this.Vs.schedule((function(){p.oh.addListener(p.lp),p.oh.addListener(p.Yw),p.oh.addListener(t),p.oh.addListener(p.Xw),p.oh.addListener(i),p.oh.addListener(r),p.oh.addListener(p.Zw),p.oh.addListener(p.up),p.oh.addListener(e),p.oh.addListener(n),p.oh.addListener(u),p.oh.addListener(o),p.oh.addListener(v)})),Yh.isRecordingSupported()&&this.Vs.schedule((function(){var t=new ou(c,p.It,p.wt,p.Ph,p.Kh,p.gt,a,f,p.re,p.ee,p.se,p.Qh,p.oh,p.Ol,p.Pa,p.ia,p.ra,p.lu,p.de,p.fp(),p.Ud,y);t.init(),p.oh.addListener(t),i.setRecordingService(t.recordingService)})),this.Vs.schedule((function(){t.init()})),this.Vs.schedule((function(){p.wt.isQuotaEnabled()?a.onSessionExpired((function(){p.ap()})):a.onSessionExpired((function(){p.cp()})),p.hp()})))},t.prototype.hp=function(t){var n=this;if(void 0===t&&(t=!1),this.wt.hasTargetingRules())return this.ip(t),this.Kh.start(),void(this.rp&&this.rp.checkInitialUrlTargetingRules());this.Kh.start(),this.sp.onLoad((function(){n.oh.emitStartTracking(t)})),Rh(this.wt)&&!t||this.op(t)},t.prototype.fp=function(){if(this.ea)return this.ea;var t=new ha;return this.ea=new ca(this.Yl,this.wt,this._t,t),this.ea.init(),this.ea.shouldUseAnonymization()&&Hn.counters.pageAnonymisation.count("anonymized-on-start"),this.ea},t}(),Ha=function(){function t(t,n,i,r,e,s,o,u){this.wt=t,this.Ct=n,this.Dn=i,this.dp=r,this.yp=e,this.wp=s,this.pp=o,this.mp=u}return t.prototype.compute=function(t){var n,i,r=this;this.wt.crossDomainTracking&&!this.wt.cookielessTrackingEnabled?this.wt.crossDomainSingleIframeTracking?null===(n=this.pp)||void 0===n||n.start((function(){return r.gp(t)})):null===(i=this.wp)||void 0===i||i.applyUpToDate((function(){return r.gp(t)})):this.gp(t)},t.prototype.gp=function(t){this.yp.handle(),this.dp.clear(),this.Sp()?(this.dp.restoreClearedVisitor(),t(!0)):(this.Dn.exclude(this.wt),t(!1))},t.prototype.Sp=function(){var t=Tn.boolean(this.wt.sampleRate);return this.mp.isForceIncluded()||!this.Dn.isExcluded()&&this.Ct.doesVisitorExist()||!this.Dn.isExcluded()&&t},t}();!function(t){t.generate=function(){var t=navigator.userAgent+navigator.language+navigator.platform,n=csString.prototype.slice.call(function(t){for(var n=0,i=0;i<t.length;i+=1)n=csString.prototype.charCodeAt.call(t,i)+(n<<6)+(n<<16)-n;return Math.abs(n)}(t).toString(16),-4),i=(new csDate).getTime(),r="xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===t?n:7&n|8).toString(16)}));return csString.prototype.replace.call(r,"hhhh",n)}}(Da||(Da={}));var Fa,Ba=function(){function t(t,n,i,r){this.wt=t,this.bp=n,this.oh=i,this.It=r,this.Ep=1e4}return t.prototype.createOrUpdateVisitor=function(){var t,n=this.getVisitor();null===n&&(n=this.Ap(),null===(t=this.It)||void 0===t||t.removeSession()),this.Rp(n),this.setVisitor(n)},t.prototype.Ap=function(){return{id:Da.generate(),visitsCount:0,appliedTrackingDraw:this.wt.lastTrackingDraw,creationTimestamp:oi(),lastVisitTimestamp:0,hitTimestamp:0,expires:ei()+this.wt.visitorCookieTimeout,allowSubdomains:this.wt.allowSubdomains,identityPrint:null}},t.prototype.Rp=function(t){var n=oi();this.It&&!this.It.doesSessionExist()&&(t.visitsCount+=1,t.lastVisitTimestamp=n),t.hitTimestamp=n,t.appliedTrackingDraw=this.wt.lastTrackingDraw,this.Op=t.visitsCount},t.prototype.getRequestParameters=function(){var t=this.getVisitor();return t?{uu:t.id,sn:"".concat(t.visitsCount),hd:"".concat(t.hitTimestamp)}:{}},t.prototype.getVisitor=function(){return this.bp.get()},t.prototype.setVisitor=function(t){this.bp.set(t)},t.prototype.doesVisitorExist=function(){return null!==this.bp.get()},t.prototype.resetVisitor=function(){this.Tp(),this.oh.emitAfterVisitorCleared()},t.prototype.removeVisitor=function(){this.bp.remove()},t.prototype.hasAllowSubdomainsChanged=function(){var t=this.getVisitor();return!!t&&t.allowSubdomains!==this.wt.allowSubdomains},t.prototype.handleSubdomainChange=function(){this.bp.handleSubdomainChange()},t.prototype.isSessionRenewed=function(){var t=this.getVisitor();return null!==t&&void 0!==this.Op&&t.visitsCount!==this.Op},t.prototype.Np=function(){return!N(this.kp)||ei()-this.kp>this.Ep},t.prototype.renewVisitor=function(){this.Np()?(this.kp=ei(),this.Tp(),this.oh.emitAfterVisitorRenewal()):Ui.warn("session:start:newVisitor is trying to renew visitor under time limit")},t.prototype.Tp=function(){this.oh.emitBeforeVisitorRenewal(),this.removeVisitor()},t}(),za="_cs_s",Va=18e5,Ga=/^(\d+\.[01356789TBWX](\.[01UNWG])?(\.[39])?)(\.\d+)?$/,Ja=".";!function(t){t[t.NOT_FOUND=0]="NOT_FOUND",t[t.EXPIRED=1]="EXPIRED",t[t.FOUND=2]="FOUND"}(Fa||(Fa={}));var Ya,Wa=function(){function t(t,n,i){this.wt=t,this.tp=n,this.Cp=i,this.po=null,this.Ip=!1}return t.prototype.get=function(n){var i=this.getRawSession(n);return this.isValid(i)?t.fromString(i):null},t.prototype.getRawSession=function(n){if(n){var i=this.Mp();return t.xp(i)}var r=this.Pp(),e=r.sessionString,s=r.status,o=t.xp(e);if(s!==Fa.EXPIRED)return o;if(this.wt.cookielessTrackingEnabled)return null;var u=this.Mp();if(!u)return null;var c=csString.prototype.split.call(u,Ja);if(!t._p(c))return u;var h=c[c.length-1],a=parseInt(h,10);return isNaN(a)||this.Dp(a),o},t.prototype.onCookieToSet=function(t){this.Lp=t},t.prototype.onCookieToRemove=function(t){this.jp=t},t.prototype.set=function(t,n){var i;void 0===n&&(n=Va);var r=ei()+n,e=this.toString(t);e+="".concat(Ja).concat(r),this.qp(e,r),this.wt.cookielessTrackingEnabled?this.Cp.setItem(za,e):(this.tp.set(za,e,n),null===(i=this.Lp)||void 0===i||i.call(this,za,e,n))},t.prototype.remove=function(){var t;this.wt.cookielessTrackingEnabled?this.Cp.removeItem(za):(this.tp.delete(za),null===(t=this.jp)||void 0===t||t.call(this,za)),this.Hp()},t.prototype.handleSubdomainChange=function(){if(!this.wt.cookielessTrackingEnabled){var t=this.get(!0);t&&(this.wt.allowSubdomains?this.tp.delete(za,Hi.CURRENT_DOMAIN):this.tp.delete(za,this.tp.getRootDomain()),this.set(t))}},t.prototype.isValid=function(n){return null!==n&&t.isValidSessionString(n)},t.prototype.toString=function(t){return csArray.prototype.join.call([t.pageNumber,t.collectState,t.etrState,t.etrStatus],Ja)},t.prototype.qp=function(t,n){this.po={sessionString:t,expires:n}},t.prototype.Pp=function(){return this.po?this.po&&ei()<=this.po.expires?{sessionString:this.po.sessionString,status:Fa.FOUND}:{sessionString:this.po.sessionString,status:Fa.EXPIRED}:{sessionString:this.Mp(),status:Fa.NOT_FOUND}},t.prototype.Hp=function(){this.po=null},t.prototype.Dp=function(t){this.po&&(this.po.expires=t,this.Ip=!0)},t.prototype.isCacheRefreshed=function(){return this.Ip},t.prototype.resetCacheRefreshed=function(){this.Ip=!1},t.prototype.Mp=function(){if(this.wt.cookielessTrackingEnabled){var t=this.Cp.getItem(za);return!t||this.Fp(t)?null:t}var n=this.tp.get(za);return!n||this.Fp(n)?null:n},t.prototype.Fp=function(n){var i=csString.prototype.split.call(n,Ja);if(!t._p(i))return!1;var r=parseInt(i[i.length-1],10);return!isNaN(r)&&ei()>r},t._p=function(t){return 13===t[t.length-1].length},t.xp=function(t){var n;if(!t)return null;var i=null===(n=csString.prototype.match.call(t,Ga))||void 0===n?void 0:n[1];return null!=i?i:null},t.fromRawString=function(n){var i=t.xp(n);return null!==i?t.fromString(i):null},t.fromString=function(t){var n,i,r=Sn(csString.prototype.split.call(t,Ja),4),e=r[0],s=r[1],o=r[2],u=r[3];return{collectState:s,etrState:null!==(n=o)&&void 0!==n?n:Fr.ETR_OFF,etrStatus:null!==(i=u)&&void 0!==i?i:zr.ETR_NOT_SAVED_SESSION,pageNumber:parseInt(e,10)}},t.isValidSessionString=function(t){return Ga.test(t)},t}();!function(t){t[t.NO=0]="NO",t[t.WITHDRAWN=1]="WITHDRAWN",t[t.GRANTED=2]="GRANTED"}(Ya||(Ya={}));var $a,Xa=function(){function t(t,n){this.Bp=t,this.Gw=n,this.zp=null,this.Vp=0,this.Gp=Ya.NO}return t.prototype.setDynamicVariablesService=function(t){this.Jp=t},t.prototype.createOrUpdateSession=function(){this.Yp(),this.Wp=ei(),this.Vp=0;var t=this.$p();null===t?(t=this.Xp(),this.Kp(t),this.Zp(t)):(t=this.Gw.sanitizeSessionCollectState(t),this.Kp(t),t.collectState=this.Gw.getEligibleCollectState(t)),this.setSession(t)},t.prototype.grantReplayRecording=function(t){t.collectState=this.Gw.getInitialCollectState(),t.collectState=this.Gw.computeInitialCollectStateFromRecordingConsentGranted(t),this.setSession(t)},t.prototype.grantReplayRecordingBeforeSessionStart=function(){this.Gp=Ya.GRANTED},t.prototype.withdrawnReplayRecording=function(t){t.collectState=this.Gw.getRecordingConsentWithdrawn(),this.setSession(t)},t.prototype.withdrawnReplayRecordingBeforeSessionStart=function(){this.Gp=Ya.WITHDRAWN},t.prototype.Zp=function(t){this.Gp===Ya.WITHDRAWN?(t.collectState=this.Gw.getRecordingConsentWithdrawn(),this.setSession(t)):this.Gp===Ya.GRANTED?t.collectState=this.Gw.computeInitialCollectStateFromRecordingConsentGranted(t):t.collectState=this.Gw.computeInitialCollectState(t),this.Gp=Ya.NO},t.prototype.Xp=function(){return{pageNumber:0,collectState:this.Gw.getInitialCollectState(),etrState:Fr.ETR_OFF,etrStatus:zr.ETR_NOT_SAVED_SESSION}},t.prototype.Kp=function(t){t.pageNumber+=1},t.prototype.isReplayRecorded=function(){var t=this.getSession();return!!t&&this.Gw.isReplayRecorded(t)},t.prototype.isTemporarilyRecorded=function(){var t=this.getSession();return(null==t?void 0:t.collectState)===Hr.RECORDING_TEMPORARILY},t.prototype.abortQuotaServiceRequest=function(){this.Gw.abortQuotaServiceRequest()},t.prototype.getRequestParameters=function(){var t={},n=this.getSession();return null!==n&&(t.pn="".concat(n.pageNumber)),t},t.prototype.getSession=function(){return this.Bp.get()},t.prototype.$p=function(){return this.Bp.get(!0)},t.prototype.doesSessionExist=function(){return null!==this.Bp.get()},t.prototype.setSession=function(t){this.Bp.set(t)},t.prototype.refreshSession=function(){var t=this.$p();t&&this.setSession(t)},t.prototype.removeSession=function(){this.Bp.remove()},t.prototype.getCollectStates=function(){var t=this.getSession(),n=[];return t&&(t.collectState!==Hr.ANALYTICS_ONLY&&csArray.prototype.push.call(n,t.collectState===Hr.RECORDING_RULES_TARGETING?Hr.RECORDING_GLOBAL_SAMPLING:t.collectState),t.etrState===Fr.ETR_ON&&csArray.prototype.push.call(n,Hr.RECORDING_ETR_SAMPLING)),n},t.prototype.updateCollectState=function(t,n){var i=this.getSession();null!==i&&(i.collectState=t,i.etrState=n,this.setSession(i))},t.prototype.hasValidSession=function(){var t=this.Bp.getRawSession();return this.Bp.isValid(t)},t.prototype.handleSubdomainChange=function(){this.Bp.handleSubdomainChange()},t.prototype.pollCacheRefreshEvent=function(t){void 0===t&&(t=!0);var n=this.Bp.isCacheRefreshed();return n&&t&&this.Bp.resetCacheRefreshed(),n},t.prototype.extendSessionPeriodically=function(){this.zp||this.Qp()},t.prototype.extendSession=function(){var t=this.getSession();return null===t?(Ui.warn("extendSession is trying to extend an expired session"),this.Yp(),!1):(this.Bp.set(t,Va),!0)},t.prototype.Qp=function(){this.tm()?this.Yp():this.extendSession()&&(this.nm(),this.im())},t.prototype.im=function(){var t=this;this.zp=window.csSetTimeout((function(){t.Qp()}),174e4)},t.prototype.tm=function(){return 1434e4-(ei()+Va-this.Wp)<0},t.prototype.Yp=function(){this.zp&&(window.csClearTimeout(this.zp),this.zp=null)},t.prototype.nm=function(){this.Vp+=1,this.Jp.trackDynamicVariable("session_expiry_update",this.Vp)},t}(),Ka=function(){function t(t,n,i){this.wt=t,this.Ct=n,this.Dn=i}return t.prototype.clear=function(){this.rm()&&(this.sm=this.Ct.getVisitor(),this.Ct.removeVisitor()),this.om()&&this.Dn.removeExclusion()},t.prototype.rm=function(){return this.Ct.doesVisitorExist()&&this.Ct.getVisitor().appliedTrackingDraw!==this.wt.lastTrackingDraw},t.prototype.om=function(){return this.Dn.getAppliedTrackingDraw()!==this.wt.lastTrackingDraw},t.prototype.restoreClearedVisitor=function(){this.sm&&this.Ct.setVisitor(this.sm)},t}(),Za=function(){function t(t,n,i){this.Ct=t,this.It=n,this.um=i}return t.prototype.handle=function(){this.Ct.hasAllowSubdomainsChanged()&&(this.Ct.handleSubdomainChange(),this.It.handleSubdomainChange(),this.um.handleSubdomainChange())},t}(),Qa="_cs_c";!function(t){t[t.NOT_REQUIRED=0]="NOT_REQUIRED",t[t.NOT_EXPRESSED=1]="NOT_EXPRESSED",t[t.GRANTED=2]="GRANTED",t[t.WITHDRAWN=3]="WITHDRAWN"}($a||($a={}));var tf,nf=function(){function t(t,n,i){this.wt=t,this.tp=n,this.np=i}return t.prototype.get=function(){var t;return null===(t=this.wt.cookielessTrackingEnabled?this.np.getItem(Qa):this.tp.get(Qa))?t:Number(t)},t.prototype.set=function(t){this.wt.cookielessTrackingEnabled?this.np.setItem(Qa,csString(t)):this.tp.set(Qa,csString(t),On)},t.prototype.remove=function(){this.wt.cookielessTrackingEnabled?this.np.removeItem(Qa):this.tp.delete(Qa)},t.prototype.handleSubdomainChange=function(){this.wt.cookielessTrackingEnabled||(this.wt.allowSubdomains?this.tp.delete(Qa,Hi.CURRENT_DOMAIN):this.tp.delete(Qa,this.tp.getRootDomain()))},t}(),rf=function(){function t(t,n,i){this.wt=t,this.It=n,this.oh=i}return t.prototype.grantReplayConsent=function(){if(Zo.isReplayConsentNeeded(this.wt)){var t=this.It.getSession();t?Zo.isRecordingBlockedByConsent(t)&&(this.It.grantReplayRecording(t),this.oh.emitAfterReplayRecordingConsentGranted()):this.It.grantReplayRecordingBeforeSessionStart()}},t.prototype.withdrawReplayConsent=function(){if(Zo.isReplayConsentNeeded(this.wt)){var t=this.It.getSession();t?Zo.isRecordingWithDrawn(t)||(this.It.withdrawnReplayRecording(t),this.oh.emitAfterReplayRecordingConsentWithdrawn()):this.It.withdrawnReplayRecordingBeforeSessionStart()}},t}(),ef=["replay:consent:unanonymized:granted","trackConsentGranted"],sf=["replay:consent:unanonymized:withdrawn","trackConsentWithdrawn"],of=["replay:consent:startForSession:granted"],uf=["replay:consent:startForSession:withdrawn"],cf=function(){function t(t,n,i,r,e){this.wt=t,this.Kh=n,this.Yl=i,this.It=r,this.oh=e}return t.prototype.init=function(){this.hm=new rf(this.wt,this.It,this.oh),this.Yl.setInitialConsent(),this.kd()},t.prototype.kd=function(){var t=this;this.Kh.register(ef,(function(){t.Yl.grantReplayAnonymizationConsent()})),this.Kh.register(sf,(function(){t.Yl.withdrawReplayAnonymizationConsent()})),this.Kh.register(of,(function(){t.hm.grantReplayConsent()})),this.Kh.register(uf,(function(){t.hm.withdrawReplayConsent()}))},t.prototype.onOptout=function(){this.Yl.removeAllConsents()},t.prototype.onBeforeVisitorRenewal=function(){this.Yl.removeAllConsents()},t.prototype.onAfterVisitorRenewal=function(){this.Yl.setInitialConsent()},t.prototype.onAfterVisitorCleared=function(){this.Yl.setInitialConsent()},t}(),hf=function(){function t(t,n,i){this.wt=t,this.bp=n,this.oh=i}return t.prototype.setInitialConsent=function(){var t=this.bp.get();(null===t||this.hasConsentRequiredChanged(t))&&this.setDefaultReplayAnonymization()},t.prototype.hasConsentRequiredChanged=function(t){var n=this.wt.consentRequired;return n&&t===$a.NOT_REQUIRED||!n&&t!==$a.NOT_REQUIRED},t.prototype.handleSubdomainChange=function(){this.bp.handleSubdomainChange()},t.prototype.setDefaultReplayAnonymization=function(){var t=this.wt.consentRequired?$a.NOT_EXPRESSED:$a.NOT_REQUIRED;this.bp.set(t)},t.prototype.grantReplayAnonymizationConsent=function(){this.wt.consentRequired&&(this.bp.set($a.GRANTED),this.oh.emitReplayUnanonymizationConsentGranted())},t.prototype.withdrawReplayAnonymizationConsent=function(){this.wt.consentRequired&&(this.bp.set($a.WITHDRAWN),this.oh.emitReplayUnanonymizationConsentWithdrawn())},t.prototype.removeAllConsents=function(){this.bp.remove()},t.prototype.isReplayUnanonymizedAllowedByConsent=function(){return!this.wt.consentRequired||this.bp.get()===$a.GRANTED},t.prototype.getRequestParameters=function(){return{uc:"".concat(this.bp.get())}},t}(),af=function(){function t(t,n,i,r,e,s,o){this.oh=t,this.Kh=n,this.Yw=i,this.Ww=r,this.$w=e,this.am=s,this.Xw=o}return t.prototype.start=function(){this.oh.addListener(this.am),this.oh.addListener(this.Xw),this.oh.addListener(this.Yw),this.Xw.init(),this.Ww.init(),this.$w.init(),this.$w.isActive()||this.Kh.start()},t}(),ff="_cs_ex",lf=2592e6,vf=/^[0-9]+$/,df=function(){function t(t,n,i){this.wt=t,this.tp=n,this.Cp=i}return t.prototype.onCookieToSet=function(t){this.Lp=t},t.prototype.onCookieToRemove=function(t){this.jp=t},t.prototype.get=function(){return this.wt.cookielessTrackingEnabled?Number(this.Cp.getItem(ff)):Number(this.tp.get(ff))},t.prototype.set=function(t){var n;this.wt.cookielessTrackingEnabled?this.Cp.setItem(ff,t):(this.tp.set(ff,t,lf),null===(n=this.Lp)||void 0===n||n.call(this,ff,t,lf))},t.prototype.remove=function(){var t;this.wt.cookielessTrackingEnabled?this.Cp.removeItem(ff):(this.tp.delete(ff),null===(t=this.jp)||void 0===t||t.call(this,ff))},t.isValidExclusionString=function(t){return vf.test(t)},t}(),yf=function(){function t(t,n){this.ls=t,this.bp=n}return t.prototype.exclude=function(t){this.bp.set(csString(t.lastTrackingDraw))},t.prototype.removeExclusion=function(){this.bp.remove()},t.prototype.isExcluded=function(){return this.fm()||this.lm()},t.prototype.fm=function(){return 0!==this.getAppliedTrackingDraw()},t.prototype.getAppliedTrackingDraw=function(){return this.bp.get()},t.prototype.lm=function(){return csString.prototype.indexOf.call(this.ls.href,ff)>0},t}(),wf=function(){function t(t){this.Ga=t}return t.prototype.onOptout=function(){this.Ga.removeExclusion()},t}();!function(t){t.SessionReplay="SR",t.None=""}(tf||(tf={}));var pf=function(){function t(t){this._t=t,this.vm=new csRegExp("".concat(".^"))}return t.prototype.setExcludeUrlForSessionReplay=function(t){try{this.vm=new csRegExp(t)}catch(n){Ui.warn("excludeURLforReplay - invalid regex '".concat(t,"'")),this.vm=new csRegExp("".concat(".*"))}},t.prototype.dm=function(){return this.vm.test(this._t.getAnonymizedUrl())?tf.SessionReplay:tf.None},t.prototype.isUrlExcludedForSessionReplay=function(){return this.dm()===tf.SessionReplay},t.prototype.getRequestParameters=function(){return{ex:this.dm()}},t}(),mf=["excludeURLforReplay"],gf=function(){function t(t,n){this.Ga=t,this.Kh=n}return t.prototype.init=function(){var t=this;this.Kh.register(mf,(function(n){R(n)&&t.Ga.setExcludeUrlForSessionReplay(n)}))},t}(),Sf="_cs_inc",bf=function(){function t(t,n){this.ls=t,this.tp=n}return t.prototype.isForceIncluded=function(){return this.ym()||this.wm()},t.prototype.isForceReplayRecorded=function(){return this.pm(Hr.RECORDING_GLOBAL_SAMPLING)},t.prototype.ym=function(){return null!==this.tp.get(Sf)},t.prototype.pm=function(t){return this.tp.get(Sf)===t},t.prototype.wm=function(){return csString.prototype.indexOf.call(this.ls.href,Sf)>0},t}(),Ef="_cs_optout",Af=function(){function t(t,n,i){this.wt=t,this.tp=n,this.np=i}return t.prototype.get=function(){return this.wt.cookielessTrackingEnabled?this.np.getItem(Ef):this.tp.get(Ef)},t.prototype.set=function(t){this.wt.cookielessTrackingEnabled?this.np.setItem(Ef,t):this.tp.set(Ef,t,On)},t}(),Rf=function(){function t(t,n,i){this.oh=t,this.ls=n,this.bp=i}return t.prototype.init=function(){!this.isActive()&&this.gm()&&this.activate()},t.prototype.isActive=function(){return"1"===this.bp.get()},t.prototype.activate=function(){this.oh.emitOptout(),this.bp.set("1")},t.prototype.gm=function(){return csString.prototype.indexOf.call(this.ls.href,Ef)>0},t}(),Of=["optout"],Tf=function(){function t(t,n){this.Kh=t,this.$w=n}return t.prototype.init=function(){var t=this;this.Kh.register(Of,(function(){t.$w.activate()}))},t}(),Nf=function(){function t(t,n){this.Kh=t,this.Pa=n}return t.prototype.init=function(){this.Pa.addListener(this.Kh)},t.prototype.onOptout=function(){this.Kh.stop()},t.prototype.onBeforeSessionRenewal=function(){this.Kh.stop()},t}();var kf;!function(t){t.UXA="_uxa",t.WVT="cs_wvt"}(kf||(kf={}));var Cf,If=function(t){function n(n){var i=t.call(this)||this;return i.Sm=n,i.bm={},i}return vn(n,t),n.prototype.register=function(t,n,i){var r,e,s=function(t){o.bm[t]={callback:function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];try{var e=n.apply(void 0,bn([],Sn(i),!1));return Hn.counters.commandApplied.count(t),e}catch(n){Hn.counters.commandMisuse.count(t),Ui.warn("Misused Command: ".concat(t,"; Args: ").concat(csJSON.stringify(i),"; Error: ").concat(M(n)?n.stack:n))}},configuration:i},o.bm},o=this;try{for(var u=gn(t),c=u.next();!c.done;c=u.next()){s(c.value)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}},n.prototype.onStart=function(){this.Em(),this.Am()},n.prototype.onStop=function(){var t,n;try{for(var i=gn(this.Sm),r=i.next();!r.done;r=i.next()){var e=r.value;window[e]=[]}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.applyFromIntegration=function(t,n,i){this.Rm(t,n,"Commands.apply.from.integration: ".concat(i)),Hn.counters.commandsFromIntegrations.count(t)},n.prototype.applyFromImplementation=function(t,n,i){this.Rm(t,n,"Commands.apply.from.implementation: ".concat(i)),Hn.counters.commandsFromCSTC.count(t)},n.prototype.onIframeCommands=function(t){var n,i;try{for(var r=gn(t.commands),e=r.next();!e.done;e=r.next()){var s=e.value;this.Om(s.name,s.params,t.iframePath),Hn.counters.commandsFromIframe.count(s.name)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Rm=function(t,n,i){var r=this;this.isStarted?Ui.tryToExecute(i,(function(){var i;if(r.bm[t])return(i=r.bm[t]).callback.apply(i,bn([],Sn(n),!1))}))():window._uxa.push(bn([t],Sn(n),!1))},n.prototype.Om=function(t,n,i){var r=this;Ui.tryToExecute("Commands.apply.from.iframe: ".concat(i),(function(){var i;if(r.bm[t])return(i=r.bm[t]).callback.apply(i,bn([],Sn(n),!1))}))()},n.prototype.Em=function(){var t,n,i=this;try{for(var r=gn(this.Sm),e=r.next();!e.done;e=r.next()){var s=e.value;window[s].forEach((function(t){var n=Sn(t),r=n[0],e=n.slice(1);return i.Tm(r,e,!1)}))}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},n.prototype.Am=function(){var t,n,i=this;try{for(var r=gn(this.Sm),e=r.next();!e.done;e=r.next()){var s=e.value;window[s]={push:function(t){var n=Sn(t),r=n[0],e=n.slice(1);return i.Tm(r,e,!0)}}}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},n.prototype.Tm=function(t,n,i){var r,e,s;if(this.bm[t]){if((null===(e=this.bm[t].configuration)||void 0===e?void 0:e.disableApplyPending)&&!i||(null===(s=this.bm[t].configuration)||void 0===s?void 0:s.disableApplyImmediate)&&i)return;try{return(r=this.bm[t]).callback.apply(r,bn([],Sn(n),!1))}catch(i){Hn.counters.commandError.count(t),Ui.error("Command ".concat(t," failed - params: ").concat(csJSON.stringify(n)),i)}}},n}(_r),Mf=function(){function t(t,n,i,r){this.wt=t,this.Ct=n,this.It=i,this.Nm=r}return t.prototype.getRequestParameters=function(){var t,n,i,r,e,s=dn(dn({},ti()),this.wt.getRequestParameters()),o=this.It.getSession();o&&(s.pn="".concat(o.pageNumber));var u=this.Ct.getVisitor();if(u&&(s.sn="".concat(u.visitsCount),s.uu="".concat(u.id)),(null===(t=this.Nm)||void 0===t?void 0:t.hasSubProjectId())&&(s.subProjectID="".concat(this.Nm.getSubProjectId())),window.heap)try{s.happid=window.heap.appid,s.hsid=null===(i=(n=window.heap).getSessionId)||void 0===i?void 0:i.call(n),s.huu=(null===(e=(r=window.heap).getUserId)||void 0===e?void 0:e.call(r))||window.heap.userId}catch(t){delete s.happid,delete s.hsid,delete s.huu}return s},t}(),xf=function(){function t(t,n){this.Kh=t,this.K=n}return t.prototype.init=function(){var t=this;this.Kh.register(["debugEvents"],(function(n){"boolean"==typeof n&&t.K.updateDynamicFields("emitDebugEvents",n)}))},t}();function Pf(t,n,i){if(!N(n)&&!N(i))return t.href;var r=N(n)?_f(n):t.pathname,e=N(i)?Df(i):t.search;return"".concat(t.protocol,"//").concat(t.host).concat(r).concat(e)}function _f(t){return Rn(t,"/")?t:"/".concat(t)}function Df(t){return Rn(t,"?")||""===t?t:"?".concat(t)}!function(t){t[t.page=1]="page",t[t.onNextPageviewOnly=2]="onNextPageviewOnly"}(Cf||(Cf={}));var Lf,Uf=function(){function t(t,n){this.ls=t,this.lu=n,this.km=10}return t.prototype.overridePath=function(t,n){if(""!==t){var i=this.Cm(n);i&&(this.Im=i),this.Mm=n?this.xm(t,n):t}else this.Mm=void 0},t.prototype.overrideQuery=function(t,n){var i=this.Cm(n);i&&(this.Pm=i),this._m=n?this.xm(t,n):t},t.prototype.computeOverriddenUrl=function(t){return this.Dm(t)?this.getAnonymizedUrl():t},t.prototype.Lm=function(t){return("string"==typeof t||"number"==typeof t)&&t in Cf},t.prototype.Dm=function(t){var n=this.Um(this.ls.href);return this.Um(t)===n},t.prototype.Um=function(t){return n=t,i="/",-1!==csString.prototype.indexOf.call(n,i,n.length-i.length)?csString.prototype.slice.call(t,0,-1):t;var n,i},t.prototype.Cm=function(t){return N(null==t?void 0:t.lifespan)&&this.Lm(null==t?void 0:t.lifespan)?null==t?void 0:t.lifespan:null},t.prototype.jm=function(){return this.Im&&this.Im in Cf},t.prototype.qm=function(){return this.Pm&&this.Pm in Cf},t.prototype.cleanupOverrideLifespan=function(){this.jm()&&(this.Mm=void 0,this.Im=void 0),this.qm()&&(this._m=void 0,this.Pm=void 0)},t.prototype.getAnonymizedUrl=function(){var t=Pf(this.ls,this.Mm,this._m);return this.lu.anonymizeUrl(t)},t.prototype.getUrl=function(){return Pf(this.ls,this.Mm,this._m)},t.prototype.getAnonymizedPathAndQuery=function(){var t=N(this.Mm)?_f(this.Mm):this.ls.pathname,n=N(this._m)?Df(this._m):this.ls.search;return this.lu.anonymizeUrl(t+n)},t.prototype.getUrlProtocol=function(){return this.ls.protocol},t.prototype.getRequestParameters=function(){return{url:this.getAnonymizedUrl()}},t.prototype.xm=function(t,n){return this.Hm(n)?this.Fm(t):this.Bm(n)?this.zm(t):t},t.prototype.Bm=function(t){return Boolean(t.decodeURI)},t.prototype.zm=function(t){return this.Vm(t,1,!1)},t.prototype.Hm=function(t){return Boolean(t.decodeURIDeep)},t.prototype.Fm=function(t){return this.Vm(t,this.km,!0)},t.prototype.Vm=function(t,n,i){for(var r=t,e=0;e<n;e++)try{var s=window.decodeURI(r);if(s===r)return r;r=s}catch(t){return r}return i&&Ui.warn("decodeURIDeep limit reached: ".concat(r)),r},t}(),jf=function(){function t(){this.listeners=[]}return t.prototype.addListener=function(t){csArray.prototype.push.call(this.listeners,t)},t}(),qf=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return vn(n,t),n.prototype.emitPageEvent=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onPageEvent&&s.onPageEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitEventTriggerRecording=function(t,n){var i,r;try{for(var e=gn(this.listeners),s=e.next();!s.done;s=e.next()){var o=s.value;o.onEventTriggerRecording&&o.onEventTriggerRecording(t,n)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}},n.prototype.emitCustomJavaScriptErrorEvent=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onCustomJavaScriptErrorEvent&&s.onCustomJavaScriptErrorEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitCustomErrorEvent=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onCustomErrorEvent&&s.onCustomErrorEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitUserIdentifierEvent=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onUserIdentifierEvent&&s.onUserIdentifierEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitExternalEvent=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onExternalEvent&&s.onExternalEvent({type:fu.EXTERNAL_EVENT,name:t,ts:0})}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitTargetingRulesArtificialPageview=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onTargetingRulesArtificialPageview&&s.onTargetingRulesArtificialPageview(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n}(jf),Hf="|iframe|",Ff=function(t){function n(n,i,r,e){var s=t.call(this)||this;return s.Gm=n,s.Jm=i,s.Ym=r,s.Wm=e,s}return vn(n,t),n.prototype.emitIframeEvent=function(t,n,i){if(this.$m(n)&&null===t)Ui.error("iframeEventEmitter received event ".concat(n," with null iframe, content:").concat(csJSON.stringify(i)));else switch(n){case Ni.ChildLogMessage:this.Xm(i);break;case Ni.AnalysisEvent:var r=i,e=this.Gm.transformEvent(t,r);e.isUserEvent?this.Km(e.event):this.Zm(e.event);break;case Ni.RecordingEvent:var s=i,o=this.Wm.transformEvents(t,s);if(0===o.events.length)return;o.containsUserEvent?this.Qm(o.events):this.tg(o.events);break;case Ni.JavascriptError:this.ng(i);break;case Ni.ApiError:this.ig(i);break;case Ni.DetailedApiError:this.rg(i);break;case Ni.CustomError:this.eg(i);break;case Ni.EmerchandisingMessage:var u=this.Ym.transformEvent(t,i);this.sg(u);break;case Ni.Commands:var c=this.Jm.transformEvent(t,i);this.og(c);break;case Ni.IntegrationCallback:this.ug(i);break;case Ni.StaticResource:this.cg(i);break;case Ni.TrackingContextRequestMessage:this.hg(i);break;default:Ui.error("Parent received unknown data type from iframe : ".concat(csJSON.stringify(i)))}},n.prototype.$m=function(t){var n=[Ni.AnalysisEvent,Ni.RecordingEvent,Ni.EmerchandisingMessage,Ni.Commands];return-1!==csArray.prototype.indexOf.call(n,t)},n.prototype.Xm=function(t){var n=t.message,i=t.errorCode;switch(t.level){case Cn.debug:Ui.debug(n,i);break;case Cn.warn:Ui.warn(n,!0,i);break;case Cn.implementation:Ui.implementation(n,i);break;case Cn.error:Ui.error(n,i);break;case Cn.critical:Ui.critical(n,i)}},n.prototype.Km=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeAnalysisUserEvent&&s.onIframeAnalysisUserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Zm=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeAnalysisBrowserEvent&&s.onIframeAnalysisBrowserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Qm=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeRecordingUserEvent&&s.onIframeRecordingUserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.tg=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeRecordingBrowserEvent&&s.onIframeRecordingBrowserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.ng=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeJavascriptError&&s.onIframeJavascriptError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.ig=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeApiError&&s.onIframeApiError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.rg=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeDetailedApiError&&s.onIframeDetailedApiError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.sg=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeEmerchandisingMessage&&s.onIframeEmerchandisingMessage(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.og=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeCommands&&s.onIframeCommands(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.ug=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeIntegrationCallback&&s.onIframeIntegrationCallback(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.cg=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeStaticResource&&s.onIframeStaticResource(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.hg=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onTrackingContextRequestCallback&&s.onTrackingContextRequestCallback(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.eg=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeCustomError&&s.onIframeCustomError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n}(jf);!function(t){t.COMPRESSION_DISABLED="compressionDisabled"}(Lf||(Lf={}));var Bf=function(){function t(){}return t.init=function(t){this.ag&&void 0===t||this.initFlags(t)},t.initFlags=function(t){var n;void 0===t&&(t=document.cookie);var i=null===(n=/_cs_debug=((\w|\.|\:|=)+)/g.exec(t))||void 0===n?void 0:n[1];if(this.ag=new Map,i)for(var r=csString.prototype.split.call(i,"."),e=0;e<r.length;e++){var s=Sn(csString.prototype.split.call(r[e],"="),2),o=s[0],u=s[1];this.ag.set(o,u||"true")}},t.getBoolean=function(t){var n=this.getString(t);return null!=n&&"false"!==n&&0!==parseInt(n)},t.getString=function(t){var n;return this.init(),null===(n=this.ag)||void 0===n?void 0:n.get(t)},t.isCompressionEnabled=function(){return!this.getBoolean(Lf.COMPRESSION_DISABLED)},t.Log=function(n){return function(i,r,e){var s,o=r.toString(),u="".concat(null===(s=i.constructor)||void 0===s?void 0:s.name,".").concat(o),c=e.value;(function(t,n){var i;if(null==t)return!1;return t===n||!!(null===(i=csString.prototype.match.call(t,new csRegExp("(^|,)("+n+")(,|$)")))||void 0===i?void 0:i.length)})(t.getString("debugLog"),n)&&(e.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return console.log.apply(console,bn([u],Sn(t),!1)),c.bind(this).apply(void 0,bn([],Sn(t),!1))})}},t}();function zf(){function t(t){for(var n=t.length;--n>=0;)t[n]=0}var n=256,i=286,r=30,e=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),o=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new Array(576);t(h);var a=new Array(60);t(a);var f=new Array(512);t(f);var l=new Array(256);t(l);var v=new Array(29);t(v);var d,y,w,p=new Array(r);function m(t,n,i,r,e){this.static_tree=t,this.extra_bits=n,this.extra_base=i,this.elems=r,this.max_length=e,this.has_stree=t&&t.length}function g(t,n){this.dyn_tree=t,this.max_code=0,this.stat_desc=n}t(p);var S=function(t){return t<256?f[t]:f[256+(t>>>7)]},b=function(t,n){t.pending_buf[t.pending++]=255&n,t.pending_buf[t.pending++]=n>>>8&255},E=function(t,n,i){t.bi_valid>16-i?(t.bi_buf|=n<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=n>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=n<<t.bi_valid&65535,t.bi_valid+=i)},A=function(t,n,i){E(t,i[2*n],i[2*n+1])},R=function(t,n){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--n>0);return i>>>1},O=function(t,n,i){var r,s,o=new Array(16),u=0;for(r=1;r<=e;r++)o[r]=u=u+i[r-1]<<1;for(s=0;s<=n;s++){var c=t[2*s+1];0!==c&&(t[2*s]=R(o[c]++,c))}},T=function(t){var n;for(n=0;n<i;n++)t.dyn_ltree[2*n]=0;for(n=0;n<r;n++)t.dyn_dtree[2*n]=0;for(n=0;n<19;n++)t.bl_tree[2*n]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},N=function(t){t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},k=function(t,n,i,r){var e=2*n,s=2*i;return t[e]<t[s]||t[e]===t[s]&&r[n]<=r[i]},C=function(t,n,i){for(var r=t.heap[i],e=i<<1;e<=t.heap_len&&(e<t.heap_len&&k(n,t.heap[e+1],t.heap[e],t.depth)&&e++,!k(n,r,t.heap[e],t.depth));)t.heap[i]=t.heap[e],i=e,e<<=1;t.heap[i]=r},I=function(t,i,r){var e,u,c,h,a=0;if(0!==t.last_lit)do{e=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],u=t.pending_buf[t.l_buf+a],a++,0===e?A(t,u,i):(c=l[u],A(t,c+n+1,i),0!==(h=s[c])&&(u-=v[c],E(t,u,h)),e--,c=S(e),A(t,c,r),0!==(h=o[c])&&(e-=p[c],E(t,e,h)))}while(a<t.last_lit);A(t,256,i)},M=function(t,n){var i,r,s,o=n.dyn_tree,u=n.stat_desc.static_tree,c=n.stat_desc.has_stree,h=n.stat_desc.elems,a=-1;for(t.heap_len=0,t.heap_max=573,i=0;i<h;i++)0!==o[2*i]?(t.heap[++t.heap_len]=a=i,t.depth[i]=0):o[2*i+1]=0;for(;t.heap_len<2;)o[2*(s=t.heap[++t.heap_len]=a<2?++a:0)]=1,t.depth[s]=0,t.opt_len--,c&&(t.static_len-=u[2*s+1]);for(n.max_code=a,i=t.heap_len>>1;i>=1;i--)C(t,o,i);s=h;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],C(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=r,o[2*s]=o[2*i]+o[2*r],t.depth[s]=(t.depth[i]>=t.depth[r]?t.depth[i]:t.depth[r])+1,o[2*i+1]=o[2*r+1]=s,t.heap[1]=s++,C(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,n){var i,r,s,o,u,c,h=n.dyn_tree,a=n.max_code,f=n.stat_desc.static_tree,l=n.stat_desc.has_stree,v=n.stat_desc.extra_bits,d=n.stat_desc.extra_base,y=n.stat_desc.max_length,w=0;for(o=0;o<=e;o++)t.bl_count[o]=0;for(h[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<573;i++)(o=h[2*h[2*(r=t.heap[i])+1]+1]+1)>y&&(o=y,w++),h[2*r+1]=o,r>a||(t.bl_count[o]++,u=0,r>=d&&(u=v[r-d]),c=h[2*r],t.opt_len+=c*(o+u),l&&(t.static_len+=c*(f[2*r+1]+u)));if(0!==w){do{for(o=y-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[y]--,w-=2}while(w>0);for(o=y;0!==o;o--)for(r=t.bl_count[o];0!==r;)(s=t.heap[--i])>a||(h[2*s+1]!==o&&(t.opt_len+=(o-h[2*s+1])*h[2*s],h[2*s+1]=o),r--)}}(t,n),O(o,a,t.bl_count)},x=function(t,n,i){var r,e,s=-1,o=n[1],u=0,c=7,h=4;for(0===o&&(c=138,h=3),n[2*(i+1)+1]=65535,r=0;r<=i;r++)e=o,o=n[2*(r+1)+1],++u<c&&e===o||(u<h?t.bl_tree[2*e]+=u:0!==e?(e!==s&&t.bl_tree[2*e]++,t.bl_tree[32]++):u<=10?t.bl_tree[34]++:t.bl_tree[36]++,u=0,s=e,0===o?(c=138,h=3):e===o?(c=6,h=3):(c=7,h=4))},P=function(t,n,i){var r,e,s=-1,o=n[1],u=0,c=7,h=4;for(0===o&&(c=138,h=3),r=0;r<=i;r++)if(e=o,o=n[2*(r+1)+1],!(++u<c&&e===o)){if(u<h)do{A(t,e,t.bl_tree)}while(0!=--u);else 0!==e?(e!==s&&(A(t,e,t.bl_tree),u--),A(t,16,t.bl_tree),E(t,u-3,2)):u<=10?(A(t,17,t.bl_tree),E(t,u-3,3)):(A(t,18,t.bl_tree),E(t,u-11,7));u=0,s=e,0===o?(c=138,h=3):e===o?(c=6,h=3):(c=7,h=4)}},_=!1,D=function(t,n,i,r){E(t,0+(r?1:0),3),function(t,n,i,r){N(t),r&&(b(t,i),b(t,~i)),t.pending_buf.set(t.window.subarray(n,n+i),t.pending),t.pending+=i}(t,n,i,!0)},L=function(t){_||(!function(){var t,n,c,g,S,b=new Array(16);for(c=0,g=0;g<28;g++)for(v[g]=c,t=0;t<1<<s[g];t++)l[c++]=g;for(l[c-1]=g,S=0,g=0;g<16;g++)for(p[g]=S,t=0;t<1<<o[g];t++)f[S++]=g;for(S>>=7;g<r;g++)for(p[g]=S<<7,t=0;t<1<<o[g]-7;t++)f[256+S++]=g;for(n=0;n<=e;n++)b[n]=0;for(t=0;t<=143;)h[2*t+1]=8,t++,b[8]++;for(;t<=255;)h[2*t+1]=9,t++,b[9]++;for(;t<=279;)h[2*t+1]=7,t++,b[7]++;for(;t<=287;)h[2*t+1]=8,t++,b[8]++;for(O(h,287,b),t=0;t<r;t++)a[2*t+1]=5,a[2*t]=R(t,5);d=new m(h,s,257,i,e),y=new m(a,o,0,r,e),w=new m(new Array(0),u,0,19,7)}(),_=!0),t.l_desc=new g(t.dyn_ltree,d),t.d_desc=new g(t.dyn_dtree,y),t.bl_desc=new g(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,T(t)},U=function(t,i,r,e){var s,o,u=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var i,r=4093624447;for(i=0;i<=31;i++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*i])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(i=32;i<n;i++)if(0!==t.dyn_ltree[2*i])return 1;return 0}(t)),M(t,t.l_desc),M(t,t.d_desc),u=function(t){var n;for(x(t,t.dyn_ltree,t.l_desc.max_code),x(t,t.dyn_dtree,t.d_desc.max_code),M(t,t.bl_desc),n=18;n>=3&&0===t.bl_tree[2*c[n]+1];n--);return t.opt_len+=3*(n+1)+5+5+4,n}(t),s=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=s&&(s=o)):s=o=r+5,r+4<=s&&-1!==i?D(t,i,r,e):4===t.strategy||o===s?(E(t,2+(e?1:0),3),I(t,h,a)):(E(t,4+(e?1:0),3),function(t,n,i,r){var e;for(E(t,n-257,5),E(t,i-1,5),E(t,r-4,4),e=0;e<r;e++)E(t,t.bl_tree[2*c[e]+1],3);P(t,t.dyn_ltree,n-1),P(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,u+1),I(t,t.dyn_ltree,t.dyn_dtree)),T(t),e&&N(t)},j=function(t,i,r){return t.pending_buf[t.d_buf+2*t.last_lit]=i>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&i,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===i?t.dyn_ltree[2*r]++:(t.matches++,i--,t.dyn_ltree[2*(l[r]+n+1)]++,t.dyn_dtree[2*S(i)]++),t.last_lit===t.lit_bufsize-1},q=function(t){E(t,2,3),A(t,256,h),function(t){16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)},H={_tr_init:L,_tr_stored_block:D,_tr_flush_block:U,_tr_tally:j,_tr_align:q},F=function(t,n,i,r){for(var e=65535&t,s=t>>>16&65535,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{s=s+(e=e+n[r++]|0)|0}while(--o);e%=65521,s%=65521}return e|s<<16},B=new Uint32Array(function(){for(var t,n=[],i=0;i<256;i++){t=i;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;n[i]=t}return n}()),z=function(t,n,i,r){var e=B,s=r+i;t^=-1;for(var o=r;o<s;o++)t=t>>>8^e[255&(t^n[o])];return~t},V={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},G=0,J=2,Y=3,W=4,$=0,X=1,K=-1,Z=0,Q=8,tt=H._tr_init,nt=H._tr_stored_block,it=H._tr_flush_block,rt=H._tr_tally,et=H._tr_align,st=G,ot=1,ut=Y,ct=W,ht=5,at=$,ft=X,lt=-2,vt=-3,dt=-5,yt=K,wt=1,pt=2,mt=3,gt=4,St=Z,bt=2,Et=Q,At=258,Rt=262,Ot=103,Tt=113,Nt=666,kt=function(t,n){return t.msg=V[n],n},Ct=function(t){return(t<<1)-(t>4?9:0)},It=function(t){for(var n=t.length;--n>=0;)t[n]=0},Mt=function(t,n,i){return(n<<t.hash_shift^i)&t.hash_mask},xt=function(t){var n=t.state,i=n.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(t.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+i),t.next_out),t.next_out+=i,n.pending_out+=i,t.total_out+=i,t.avail_out-=i,n.pending-=i,0===n.pending&&(n.pending_out=0))},Pt=function(t,n){it(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,n),t.block_start=t.strstart,xt(t.strm)},_t=function(t,n){t.pending_buf[t.pending++]=n},Dt=function(t,n){t.pending_buf[t.pending++]=n>>>8&255,t.pending_buf[t.pending++]=255&n},Lt=function(t,n,i,r){var e=t.avail_in;return e>r&&(e=r),0===e?0:(t.avail_in-=e,n.set(t.input.subarray(t.next_in,t.next_in+e),i),1===t.state.wrap?t.adler=F(t.adler,n,e,i):2===t.state.wrap&&(t.adler=z(t.adler,n,e,i)),t.next_in+=e,t.total_in+=e,e)},Ut=function(t,n){var i,r,e=t.max_chain_length,s=t.strstart,o=t.prev_length,u=t.nice_match,c=t.strstart>t.w_size-Rt?t.strstart-(t.w_size-Rt):0,h=t.window,a=t.w_mask,f=t.prev,l=t.strstart+At,v=h[s+o-1],d=h[s+o];t.prev_length>=t.good_match&&(e>>=2),u>t.lookahead&&(u=t.lookahead);do{if(h[(i=n)+o]===d&&h[i+o-1]===v&&h[i]===h[s]&&h[++i]===h[s+1]){s+=2,i++;do{}while(h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&s<l);if(r=At-(l-s),s=l-At,r>o){if(t.match_start=n,o=r,r>=u)break;v=h[s+o-1],d=h[s+o]}}}while((n=f[n&a])>c&&0!=--e);return o<=t.lookahead?o:t.lookahead},jt=function(t){var n,i,r,e,s,o=t.w_size;do{if(e=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-Rt)){t.window.set(t.window.subarray(o,o+o),0),t.match_start-=o,t.strstart-=o,t.block_start-=o,n=i=t.hash_size;do{r=t.head[--n],t.head[n]=r>=o?r-o:0}while(--i);n=i=o;do{r=t.prev[--n],t.prev[n]=r>=o?r-o:0}while(--i);e+=o}if(0===t.strm.avail_in)break;if(i=Lt(t.strm,t.window,t.strstart+t.lookahead,e),t.lookahead+=i,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Mt(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Mt(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Rt&&0!==t.strm.avail_in)},qt=function(t,n){for(var i,r;;){if(t.lookahead<Rt){if(jt(t),t.lookahead<Rt&&n===st)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-Rt&&(t.match_length=Ut(t,i)),t.match_length>=3)if(r=rt(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+1]);else r=rt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2},Ht=function(t,n){for(var i,r,e;;){if(t.lookahead<Rt){if(jt(t),t.lookahead<Rt&&n===st)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-Rt&&(t.match_length=Ut(t,i),t.match_length<=5&&(t.strategy===wt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){e=t.strstart+t.lookahead-3,r=rt(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=e&&(t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(Pt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=rt(t,0,t.window[t.strstart-1]))&&Pt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=rt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2};function Ft(t,n,i,r,e){this.good_length=t,this.max_lazy=n,this.nice_length=i,this.max_chain=r,this.func=e}var Bt=[new Ft(0,0,0,0,(function(t,n){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(jt(t),0===t.lookahead&&n===st)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+i;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,Pt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-Rt&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Pt(t,!1),t.strm.avail_out),1)})),new Ft(4,4,8,4,qt),new Ft(4,5,16,8,qt),new Ft(4,6,32,32,qt),new Ft(4,4,16,16,Ht),new Ft(8,16,32,32,Ht),new Ft(8,16,128,128,Ht),new Ft(8,32,128,256,Ht),new Ft(32,128,258,1024,Ht),new Ft(32,258,258,4096,Ht)];function zt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Et,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),It(this.dyn_ltree),It(this.dyn_dtree),It(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),It(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),It(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Vt=function(t){if(!t||!t.state)return kt(t,lt);t.total_in=t.total_out=0,t.data_type=bt;var n=t.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?42:Tt,t.adler=2===n.wrap?0:1,n.last_flush=st,tt(n),at},Gt=function(t){var n=Vt(t);return n===at&&function(t){t.window_size=2*t.w_size,It(t.head),t.max_lazy_match=Bt[t.level].max_lazy,t.good_match=Bt[t.level].good_length,t.nice_match=Bt[t.level].nice_length,t.max_chain_length=Bt[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),n},Jt=function(t,n,i,r,e,s){if(!t)return lt;var o=1;if(n===yt&&(n=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),e<1||e>9||i!==Et||r<8||r>15||n<0||n>9||s<0||s>gt)return kt(t,lt);8===r&&(r=9);var u=new zt;return t.state=u,u.strm=t,u.wrap=o,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=e+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new Uint8Array(2*u.w_size),u.head=new Uint16Array(u.hash_size),u.prev=new Uint16Array(u.w_size),u.lit_bufsize=1<<e+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new Uint8Array(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=n,u.strategy=s,u.method=i,Gt(t)},Yt=function(t,n){var i,r;if(!t||!t.state||n>ht||n<0)return t?kt(t,lt):lt;var e=t.state;if(!t.output||!t.input&&0!==t.avail_in||e.status===Nt&&n!==ct)return kt(t,0===t.avail_out?dt:lt);e.strm=t;var s=e.last_flush;if(e.last_flush=n,42===e.status)if(2===e.wrap)t.adler=0,_t(e,31),_t(e,139),_t(e,8),e.gzhead?(_t(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),_t(e,255&e.gzhead.time),_t(e,e.gzhead.time>>8&255),_t(e,e.gzhead.time>>16&255),_t(e,e.gzhead.time>>24&255),_t(e,9===e.level?2:e.strategy>=pt||e.level<2?4:0),_t(e,255&e.gzhead.os),e.gzhead.extra&&e.gzhead.extra.length&&(_t(e,255&e.gzhead.extra.length),_t(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=z(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=69):(_t(e,0),_t(e,0),_t(e,0),_t(e,0),_t(e,0),_t(e,9===e.level?2:e.strategy>=pt||e.level<2?4:0),_t(e,3),e.status=Tt);else{var o=Et+(e.w_bits-8<<4)<<8;o|=(e.strategy>=pt||e.level<2?0:e.level<6?1:6===e.level?2:3)<<6,0!==e.strstart&&(o|=32),o+=31-o%31,e.status=Tt,Dt(e,o),0!==e.strstart&&(Dt(e,t.adler>>>16),Dt(e,65535&t.adler)),t.adler=1}if(69===e.status)if(e.gzhead.extra){for(i=e.pending;e.gzindex<(65535&e.gzhead.extra.length)&&(e.pending!==e.pending_buf_size||(e.gzhead.hcrc&&e.pending>i&&(t.adler=z(t.adler,e.pending_buf,e.pending-i,i)),xt(t),i=e.pending,e.pending!==e.pending_buf_size));)_t(e,255&e.gzhead.extra[e.gzindex]),e.gzindex++;e.gzhead.hcrc&&e.pending>i&&(t.adler=z(t.adler,e.pending_buf,e.pending-i,i)),e.gzindex===e.gzhead.extra.length&&(e.gzindex=0,e.status=73)}else e.status=73;if(73===e.status)if(e.gzhead.name){i=e.pending;do{if(e.pending===e.pending_buf_size&&(e.gzhead.hcrc&&e.pending>i&&(t.adler=z(t.adler,e.pending_buf,e.pending-i,i)),xt(t),i=e.pending,e.pending===e.pending_buf_size)){r=1;break}r=e.gzindex<e.gzhead.name.length?255&e.gzhead.name.charCodeAt(e.gzindex++):0,_t(e,r)}while(0!==r);e.gzhead.hcrc&&e.pending>i&&(t.adler=z(t.adler,e.pending_buf,e.pending-i,i)),0===r&&(e.gzindex=0,e.status=91)}else e.status=91;if(91===e.status)if(e.gzhead.comment){i=e.pending;do{if(e.pending===e.pending_buf_size&&(e.gzhead.hcrc&&e.pending>i&&(t.adler=z(t.adler,e.pending_buf,e.pending-i,i)),xt(t),i=e.pending,e.pending===e.pending_buf_size)){r=1;break}r=e.gzindex<e.gzhead.comment.length?255&e.gzhead.comment.charCodeAt(e.gzindex++):0,_t(e,r)}while(0!==r);e.gzhead.hcrc&&e.pending>i&&(t.adler=z(t.adler,e.pending_buf,e.pending-i,i)),0===r&&(e.status=Ot)}else e.status=Ot;if(e.status===Ot&&(e.gzhead.hcrc?(e.pending+2>e.pending_buf_size&&xt(t),e.pending+2<=e.pending_buf_size&&(_t(e,255&t.adler),_t(e,t.adler>>8&255),t.adler=0,e.status=Tt)):e.status=Tt),0!==e.pending){if(xt(t),0===t.avail_out)return e.last_flush=-1,at}else if(0===t.avail_in&&Ct(n)<=Ct(s)&&n!==ct)return kt(t,dt);if(e.status===Nt&&0!==t.avail_in)return kt(t,dt);if(0!==t.avail_in||0!==e.lookahead||n!==st&&e.status!==Nt){var u=e.strategy===pt?function(t,n){for(var i;;){if(0===t.lookahead&&(jt(t),0===t.lookahead)){if(n===st)return 1;break}if(t.match_length=0,i=rt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2}(e,n):e.strategy===mt?function(t,n){for(var i,r,e,s,o=t.window;;){if(t.lookahead<=At){if(jt(t),t.lookahead<=At&&n===st)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=o[e=t.strstart-1])===o[++e]&&r===o[++e]&&r===o[++e]){s=t.strstart+At;do{}while(r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&e<s);t.match_length=At-(s-e),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=rt(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=rt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2}(e,n):Bt[e.level].func(e,n);if(3!==u&&4!==u||(e.status=Nt),1===u||3===u)return 0===t.avail_out&&(e.last_flush=-1),at;if(2===u&&(n===ot?et(e):n!==ht&&(nt(e,0,0,!1),n===ut&&(It(e.head),0===e.lookahead&&(e.strstart=0,e.block_start=0,e.insert=0))),xt(t),0===t.avail_out))return e.last_flush=-1,at}return n!==ct?at:e.wrap<=0?ft:(2===e.wrap?(_t(e,255&t.adler),_t(e,t.adler>>8&255),_t(e,t.adler>>16&255),_t(e,t.adler>>24&255),_t(e,255&t.total_in),_t(e,t.total_in>>8&255),_t(e,t.total_in>>16&255),_t(e,t.total_in>>24&255)):(Dt(e,t.adler>>>16),Dt(e,65535&t.adler)),xt(t),e.wrap>0&&(e.wrap=-e.wrap),0!==e.pending?at:ft)},Wt=function(t,n){var i=n.length;if(!t||!t.state)return lt;var r=t.state,e=r.wrap;if(2===e||1===e&&42!==r.status||r.lookahead)return lt;if(1===e&&(t.adler=F(t.adler,n,i,0)),r.wrap=0,i>=r.w_size){0===e&&(It(r.head),r.strstart=0,r.block_start=0,r.insert=0);var s=new Uint8Array(r.w_size);s.set(n.subarray(i-r.w_size,i),0),n=s,i=r.w_size}var o=t.avail_in,u=t.next_in,c=t.input;for(t.avail_in=i,t.next_in=0,t.input=n,jt(r);r.lookahead>=3;){var h=r.strstart,a=r.lookahead-2;do{r.ins_h=Mt(r,r.ins_h,r.window[h+3-1]),r.prev[h&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=h,h++}while(--a);r.strstart=h,r.lookahead=2,jt(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=u,t.input=c,t.avail_in=o,r.wrap=e,at},$t={deflateInit:function(t,n){return Jt(t,n,Et,15,8,St)},deflateInit2:Jt,deflateReset:Gt,deflateResetKeep:Vt,deflateSetHeader:function(t,n){return t&&t.state?2!==t.state.wrap?lt:(t.state.gzhead=n,at):lt},deflate:Yt,deflateEnd:function(t){if(!t||!t.state)return lt;var n=t.state.status;return 42!==n&&69!==n&&73!==n&&91!==n&&n!==Ot&&n!==Tt&&n!==Nt?kt(t,lt):(t.state=null,n===Tt?kt(t,vt):at)},deflateSetDictionary:Wt,deflateInfo:"pako deflate (from Nodeca project)"},Xt=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},Kt=function(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var i=n.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var r in i)Xt(i,r)&&(t[r]=i[r])}}return t},Zt=function(t){for(var n=0,i=0,r=t.length;i<r;i++)n+=t[i].length;var e=new Uint8Array(n),s=(i=0,0);for(r=t.length;i<r;i++){var o=t[i];e.set(o,s),s+=o.length}return e},Qt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Qt=!1}for(var tn=new Uint8Array(256),nn=0;nn<256;nn++)tn[nn]=nn>=252?6:nn>=248?5:nn>=240?4:nn>=224?3:nn>=192?2:1;tn[254]=tn[254]=1;var rn=function(t,n){if(void 0===n&&(n=t.length),n<65534&&t.subarray&&Qt)return String.fromCharCode.apply(null,t.length===n?t:t.subarray(0,n));for(var i="",r=0;r<n;r++)i+=String.fromCharCode(t[r]);return i},en=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var n,i,r,e,s,o=t.length,u=0;for(e=0;e<o;e++)55296==(64512&(i=t.charCodeAt(e)))&&e+1<o&&56320==(64512&(r=t.charCodeAt(e+1)))&&(i=65536+(i-55296<<10)+(r-56320),e++),u+=i<128?1:i<2048?2:i<65536?3:4;for(n=new Uint8Array(u),s=0,e=0;s<u;e++)55296==(64512&(i=t.charCodeAt(e)))&&e+1<o&&56320==(64512&(r=t.charCodeAt(e+1)))&&(i=65536+(i-55296<<10)+(r-56320),e++),i<128?n[s++]=i:i<2048?(n[s++]=192|i>>>6,n[s++]=128|63&i):i<65536?(n[s++]=224|i>>>12,n[s++]=128|i>>>6&63,n[s++]=128|63&i):(n[s++]=240|i>>>18,n[s++]=128|i>>>12&63,n[s++]=128|i>>>6&63,n[s++]=128|63&i);return n};var sn=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},on=Object.prototype.toString,un=G,cn=J,hn=Y,an=W,fn=$,ln=X,vn=K,dn=Z,yn=Q;function wn(t){this.options=Kt({level:vn,method:yn,chunkSize:16384,windowBits:15,memLevel:8,strategy:dn},t||{});var n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sn,this.strm.avail_out=0;var i=$t.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(i!==fn)throw new Error(V[i]);if(n.header&&$t.deflateSetHeader(this.strm,n.header),n.dictionary){var r=void 0;if(r="string"==typeof n.dictionary?en(n.dictionary):"[object ArrayBuffer]"===on.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,(i=$t.deflateSetDictionary(this.strm,r))!==fn)throw new Error(V[i]);this._dict_set=!0}}function pn(t,n){return(n=n||{}).gzip=!0,function(t,n){var i=new wn(n=n||{});if(i.push(t,!0),i.err)throw i.msg||V[i.err];return i.result}(t,n)}return wn.prototype.push=function(t,n){var i,r,e=this.strm,s=this.options.chunkSize;if(this.ended)return!1;for(r=n===~~n?n:!0===n?an:un,"string"==typeof t?e.input=en(t):"[object ArrayBuffer]"===on.call(t)?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;)if(0===e.avail_out&&(e.output=new Uint8Array(s),e.next_out=0,e.avail_out=s),(r===cn||r===hn)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if((i=$t.deflate(e,r))===ln)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),i=$t.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===fn;if(0!==e.avail_out){if(r>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(0===e.avail_in)break}else this.onData(e.output)}return!0},wn.prototype.onData=function(t){this.chunks.push(t)},wn.prototype.onEnd=function(t){t===fn&&(this.result=Zt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(t,n,i){var r=pn(t);return r="base64"===n?btoa(rn(r)):r.buffer,i&&i(r),r}}var Vf=function(t){function n(n){var i=t.call(this,n)||this;return i.algorithm=zi.GZIP,i.fg=zf(),i.lg=function(t,n,r){r(i.fg(t,n))},i.compress=Gf(),"undefined"!=typeof CompressionStream&&pr||(i.compress=i.lg,i.getCompressorSourceCode=function(){return zf.toString()}),i}return vn(n,t),n.prototype.compressSync=function(t,n){return this.fg(t,n)},n.prototype.getCompressorSourceCode=function(){return Gf.toString()},n}(Yi);function Gf(){return function(t,n,i){var r=new Response(t).body.pipeThrough(new CompressionStream("gzip")),e=new Response(r).arrayBuffer();"base64"!==n?e.then((function(t){return i(t)})):e.then((function(t){return n=t,new Promise((function(t){var i=new FileReader;i.onload=function(n){return t(n.target.result.split(",")[1])},i.readAsDataURL(new Blob([n]))}));var n})).then((function(t){return i(t)}))}}var Jf=function(t){function n(){var n=t.apply(this,bn([],Sn(arguments),!1))||this;return n.algorithm=zi.UNCOMPRESSED,n}return vn(n,t),n.prototype.compress=function(t,n,i){i(this.compressSync(t,n))},n.prototype.compressSync=function(t,n){return t},n.prototype.getCompressorSourceCode=function(){return function(){return function(t,n,i){return i(t)}}.toString()},n}(Yi),Yf=function(){function t(){}return t.create=function(t,n){return void 0===n&&(n=!0),this.instance?this.instance:n&&!Bf.isCompressionEnabled()?new Jf(t):this.instance=new Vf(t)},t}(),Wf=function(){function t(){}return t.prototype.setItem=function(t,n){window.sessionStorage.setItem(t,n)},t.prototype.getItem=function(t){return window.sessionStorage.getItem(t)},t.prototype.removeItem=function(t){window.sessionStorage.removeItem(t)},t}(),$f=function(){function t(){}return t.prototype.setItem=function(t,n){window.localStorage.setItem(t,n)},t.prototype.getItem=function(t){return window.localStorage.getItem(t)},t.prototype.removeItem=function(t){window.localStorage.removeItem(t)},t}(),Xf="_cs_cvars",Kf=function(){function t(t,n,i){this.wt=t,this.tp=n,this.Cp=i}return t.prototype.onCookieToSet=function(t){this.Lp=t},t.prototype.onCookieToRemove=function(t){this.jp=t},t.prototype.get=function(){return this.wt.cookielessTrackingEnabled?this.Cp.getItem(Xf):this.tp.get(Xf)},t.prototype.set=function(t){var n;this.wt.cookielessTrackingEnabled?this.Cp.setItem(Xf,t):(this.tp.set(Xf,t),null===(n=this.Lp)||void 0===n||n.call(this,Xf,t))},t.prototype.remove=function(){var t;this.wt.cookielessTrackingEnabled?this.Cp.removeItem(Xf):(this.tp.delete(Xf),null===(t=this.jp)||void 0===t||t.call(this,Xf))},t.isValidCustomVarString=function(t){return"string"==typeof t},t}(),Zf=["setCustomVariable"],Qf=function(){function t(t,n){this.Kh=t,this.Ln=n}return t.prototype.init=function(){var t=this;this.Kh.register(Zf,(function(n,i,r,e){t.Ln.set(n,i,r,e)}))},t.prototype.onAfterArtificialPageView=function(){this.Ln.deleteNextPageOnlyCustomVariables()},t.prototype.onAfterNaturalPageView=function(){this.Ln.deleteNextPageOnlyCustomVariables()},t.prototype.onOptout=function(){this.Ln.removeCustomVariablesSession()},t.prototype.onBeforeVisitorRenewal=function(){this.Ln.removeCustomVariablesSession(),this.Ln.removeCustomVariablesPage()},t}(),tl=["visit",2],nl=["page",3],il=["nextPageOnly",4],rl=function(){function t(t,n){this.gt=t,this.bp=n,this.vg={},this.dg={}}return t.prototype.set=function(t,n,i,r){var e,s;if(!((E(t)||R(t))&&Number(t)>0&&k(n)&&k(i))||C(n)||C(i)||!this.yg(r))throw new Error("Command misuse: ".concat(Zf[0]));var o=this.gt.anonymizePII(csString(n)),u=this.gt.anonymizePII(csString(i));if(e=[csString.prototype.slice.call(o,0,512),csString.prototype.slice.call(u,0,255)],s=""!==i,!N(r)||csArray.prototype.indexOf.call(tl,r)>=0){var c=this.getCustomVariablesSession();s?c[t]=e:delete c[t],this.setCustomVariableSession(c)}(!N(r)||csArray.prototype.indexOf.call(nl,r)>=0)&&(s?this.vg[t]=e:delete this.vg[t]),N(r)&&csArray.prototype.indexOf.call(il,r)>=0&&(s?this.dg[t]=e:delete this.dg[t])},t.prototype.getCustomVariablesSession=function(){var t=this.bp.get();if(!t)return{};var n=window.csJSON.parse(t);return null!==n&&T(n)?n:{}},t.prototype.setCustomVariableSession=function(t){this.bp.set(window.csJSON.stringify(t))},t.prototype.removeCustomVariablesSession=function(){this.bp.remove()},t.prototype.removeCustomVariablesPage=function(){this.vg={}},t.prototype.getRequestParameters=function(){var t=this.getCustomVariablesSession();for(var n in this.dg)this.dg.hasOwnProperty(n)&&(this.vg[n]=this.dg[n]);for(var n in this.vg)this.vg.hasOwnProperty(n)&&(t[n]=this.vg[n]);if(window.csJSON.stringify(t).length<=2)return{};var i={cvars:this.wg(t)};return this.vg&&window.csJSON.stringify(this.vg).length>2&&(i.cvarp=this.wg(this.vg)),i},t.prototype.deleteNextPageOnlyCustomVariables=function(){if(Object.keys(this.dg).length>0)for(var t in this.dg)this.dg[t]===this.vg[t]&&(delete this.vg[t],delete this.dg[t])},t.prototype.pg=function(t){for(var n in t)if(t.hasOwnProperty(n)){var i=parseInt(n,10),r=t[n],e=r[0],s=r[1];u=1,c=20,(!(A(o=i)&&o>=u&&o<=c)||e.length>512||s.length>255)&&delete t[n]}var o,u,c},t.prototype.wg=function(t){this.pg(t);var n=function(t){var n;for(n in t)return!1;return!0}(t)?[]:t;return window.csJSON.stringify(n)},t.prototype.yg=function(t){return!N(t)||R(t)||E(t)},t.prototype.getAllValidCustomVars=function(){var t=this.getCustomVariablesSession();for(var n in this.dg)this.dg.hasOwnProperty(n)&&(this.vg[n]=this.dg[n]);for(var n in this.vg)this.vg.hasOwnProperty(n)&&(t[n]=this.vg[n]);return this.pg(t),t},t}(),el="_cs_id",sl=/^(([a-z0-9\-])+(\.[0-9]+){6})(\.(None|Lax|X)\.(0|1))?(\.[0-1])?(\.\b(x|[0-9a-fA-F]{12})\b)?$/,ol=function(){function t(t,n,i){this.wt=t,this.tp=n,this.Cp=i}return t.prototype.onCookieToSet=function(t){this.Lp=t},t.prototype.onCookieToRemove=function(t){this.jp=t},t.prototype.get=function(){var n;return(n=this.wt.cookielessTrackingEnabled?this.Cp.getItem(el):this.tp.get(el))?t.fromString(n):null},t.prototype.set=function(n){var i,r=t.toString(n);if(this.wt.cookielessTrackingEnabled)this.Cp.setItem(el,r);else{var e=new csDate(n.expires);this.tp.set(el,r,e),null===(i=this.Lp)||void 0===i||i.call(this,el,r,e)}},t.prototype.remove=function(){var t;this.wt.cookielessTrackingEnabled?this.Cp.removeItem(el):(this.tp.delete(el),null===(t=this.jp)||void 0===t||t.call(this,el))},t.prototype.handleSubdomainChange=function(){if(!this.wt.cookielessTrackingEnabled){var t=this.get();t&&(t.allowSubdomains=this.wt.allowSubdomains,this.wt.allowSubdomains?this.tp.delete(el,Hi.CURRENT_DOMAIN):this.tp.delete(el,this.tp.getRootDomain()),this.set(t))}},t.fromString=function(t){var n=Sn(csString.prototype.split.call(t,"."),9),i=n[0],r=n[1],e=n[2],s=n[3],o=n[4],u=n[5],c=n[6],h=n[7],a=n[8];return{id:i,creationTimestamp:Number(r),visitsCount:Number(e),hitTimestamp:Number(s),lastVisitTimestamp:Number(o),appliedTrackingDraw:Number(u),expires:Number(c),allowSubdomains:void 0===h?void 0:!!Number(h),identityPrint:void 0===a||"x"===a?null:a}},t.toString=function(t){var n;return csArray.prototype.join.call([t.id,t.creationTimestamp,t.visitsCount,t.hitTimestamp,t.lastVisitTimestamp,t.appliedTrackingDraw,t.expires,t.allowSubdomains?1:0,null!==(n=t.identityPrint)&&void 0!==n?n:"x"],".")},t.isValidVisitorString=function(t){return sl.test(t)},t}(),ul=function(){function t(t){this.gt=t}return t.prototype.anonymizeUrl=function(t,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]);var r=this.gt.anonymizePII(t);r=this.gt.anonymizeJwt(r);var e=this.mg(r,n);return e!==r?e:this.gg(r,i)},t.prototype.removeQueryString=function(t){var n=this.Sg(t),i=n.path;return""!==n.queryString?"".concat(i,"?"):i},t.prototype.Sg=function(t){var n,i=csString.prototype.indexOf.call(t,"?"),r="";return-1!==i?(n=csString.prototype.slice.call(t,0,i),r=csString.prototype.slice.call(t,i,t.length)):n=t,{path:n,queryString:r}},t.prototype.mg=function(t,n){var i,r;if(0===n.length)return t;var e=this.Sg(t),s=e.path,o=e.queryString,u=csString.prototype.split.call(s,"/");try{for(var c=gn(n),h=c.next();!h.done;h=c.next()){var a=h.value,f=this.bg(u,a);if(null!==f)return"".concat(f).concat(o)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}return t},t.prototype.bg=function(t,n){if(t.length<n.length)return null;for(var i=[],r=0;r<t.length;r++){var e=t[r];if(r>=n.length)csArray.prototype.push.call(i,e);else{var s=n[r].key;if(this.Eg(s)){var o=n[r].value;csArray.prototype.push.call(i,o)}else{if(e!==s)return null;csArray.prototype.push.call(i,e)}}}return csArray.prototype.join.call(i,"/")},t.prototype.gg=function(t,n){var i,r;if(0===n.length)return t;var e=this.Sg(t),s=e.path,o=e.queryString,u=csString.prototype.split.call(s,"/");try{for(var c=gn(n),h=c.next();!h.done;h=c.next()){var a=h.value;u=this.Ag(u,a)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}return"".concat(csArray.prototype.join.call(u,"/")).concat(o)},t.prototype.Ag=function(t,n){for(var i=[],r=0,e="http:"===t[0]||"https:"===t[0]?2:0,s=0;s<t.length;s++){var o=t[s],u=n[r].key;if(this.Eg(u)&&s>=e){var c=n[r].value;csArray.prototype.push.call(i,o.length>0?c:""),++r===n.length&&(r=0)}else if(o!==u){for(var h=0;h<r;h++){i[a=s-r+h]=t[a]}r=0,csArray.prototype.push.call(i,o)}else csArray.prototype.push.call(i,o),++r===n.length&&(r=0)}for(s=0;s<r;s++){var a;i[a=t.length-r+s]=t[a]}return i},t.prototype.Eg=function(t){return Rn(t,":")},t}(),cl=["class","data-com.agilebits.onepassword.initial-value","data-com.onepassword.iv","data-ember-action","data-initial-value","data-previous-value","data-react-checksum","data-reactid","id","maxlength","onclick","onsubmit","style"],hl=function(){function t(t,n){this.vf=t,this.wt=n}return t.prototype.getEventTargetPathAndHierarchy=function(t,n){var i=yr(t),r={isNodeSensitive:function(t){return Tr.isMaskedElement(t)||Tr.isMaskedElementChild(t)},isAttributeSensitive:function(t,n){return Tr.isMaskedAttribute(t,n)},allWhitelistedAttributes:Ps(this.wt.whitelistedAttributes),attributeIgnoreTokens:cl,useAnonymization:n,attrMaxLength:1024,hierarchyMaxLength:1024};return this.vf.getElementPathAndHierarchy(i,r,dn({dynamicIdRegex:this.wt.dynamicIdRegex},this.wt.pathComputationRules))},t.prototype.getEventTargetPath=function(t){var n=yr(t);return this.vf.getElementPath(n,dn({dynamicIdRegex:this.wt.dynamicIdRegex},this.wt.pathComputationRules))},t.prototype.getEventTargetPathAndTargetLink=function(t){var n=yr(t),i=this.vf.getElementPathAndFirstAnchorParent(n,dn({dynamicIdRegex:this.wt.dynamicIdRegex},this.wt.pathComputationRules)),r=i.path,e=i.firstAnchorParent;return{path:r,targetLink:this.Rg(e)?e.href:""}},t.prototype.hasValidEventTarget=function(t){var n=yr(t);return this.vf.isValidElement(n)},t.prototype.getElementPath=function(t){return this.vf.getElementPath(t,dn({dynamicIdRegex:this.wt.dynamicIdRegex},this.wt.pathComputationRules))},t.prototype.Rg=function(t){var n;return null!==t&&t.hasAttribute("href")&&!Rn(null!==(n=t.getAttribute("href"))&&void 0!==n?n:"","#")},t}(),al=function(){function t(t){this.Kf=t}return t.prototype.transformEvent=function(t,n){this.Og(t,n.event);var i=this.Kf.getElementPath(t);return this.Tg(i,n.event),n},t.prototype.Og=function(t,n){if(function(t){return void 0!==t.x&&void 0!==t.y}(n)){var i=t.getBoundingClientRect();n.x=Math.round(i.left+n.x+Wt.windowOffsetX()),n.y=Math.round(i.top+n.y+Wt.windowOffsetY())}},t.prototype.Tg=function(t,n){Du(n)&&(n.tgt="".concat(t).concat(Hf).concat(n.tgt)),function(t){return void 0!==t.tgtHM}(n)&&(n.tgtHM="".concat(t).concat(Hf).concat(n.tgtHM)),function(t){return void 0!==t.tgtLk}(n)&&(n.tgtLk="".concat(t).concat(Hf).concat(n.tgtLk))},t}(),fl=function(){function t(t){this.Kf=t}return t.prototype.transformEvent=function(t,n){var i=this.Kf.getElementPath(t);return{iframePath:n.iframePath?"".concat(i).concat(Hf).concat(n.iframePath):i,commands:n.commands}},t}(),ll=function(){function t(t){this.Kf=t}return t.prototype.transformEvent=function(t,n){if(0===n.products.length)return n;var i=this.Kf.getElementPath(t),r=csArray.prototype.map.call(n.products,(function(t){return dn(dn({},t),{targetPath:"".concat(i).concat(Hf).concat(t.targetPath)})}));return dn(dn({},n),{products:r})},t}(),vl=function(){function t(){this.Ng={clientX:2,clientY:3},this.kg={clientX:1,clientY:2},this.Cg=[hr.POINTER_DOWN,hr.POINTER_MOVE,hr.POINTER_UP],this.Ig=[hr.TOUCH_START,hr.TOUCH_MOVE,hr.TOUCH_END]}return t.prototype.transformEvents=function(t,n){var i,r,e=this;if(!un.isConnected(t))return n.events=csArray.prototype.filter.call(n.events,(function(t){return t.type!==hr.VISIBILITY_CHANGE})),0===n.events.length||(Ui.warn("IframeRecordingEventsTransformer received event ".concat(Ni.RecordingEvent,"\n        from disconnected iframe, content:").concat(csJSON.stringify(n.events))),n.events=[]),n;var s=Rr(t),o=null;csArray.prototype.some.call(n.events,(function(t){return e.Mg(t)||e.xg(t)}))&&(o=t.getBoundingClientRect());try{for(var u=gn(n.events),c=u.next();!c.done;c=u.next()){var h=c.value;this.Mg(h)?this.Pg(o,h):this.xg(h)&&this._g(o,h),h.context=h.context&&h.context.length>0?"".concat(s,"/").concat(h.context):"".concat(s)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return n},t.prototype._g=function(t,n){this.Dg(this.kg,t,n)},t.prototype.Pg=function(t,n){this.Dg(this.Ng,t,n)},t.prototype.Dg=function(t,n,i){i.args&&(i.args[t.clientX]=Math.round(n.left+i.args[t.clientX]),i.args[t.clientY]=Math.round(n.top+i.args[t.clientY]))},t.prototype.Mg=function(t){return-1!==csArray.prototype.indexOf.call(this.Cg,t.type)},t.prototype.xg=function(t){return-1!==csArray.prototype.indexOf.call(this.Ig,t.type)},t}(),dl=function(){function t(t){this.Lg=t}return t.prototype.start=function(){var t=this;this.Lg.onEvent((function(n){return t.De(n)})),this.Lg.start()},t.prototype.stop=function(){this.Lg.stop()},t.prototype.De=function(t){var n="Content Security Policy error. Violated directive: ".concat(t.violatedDirective," - Source file: ").concat(t.sourceFile);Ui.warn(n)},t}(),yl=function(){function t(){var t=this;this.Su={boundElement:document,type:"securitypolicyviolation",listener:function(n){return t.securityPolicyViolationListener(n)}}}return t.prototype.start=function(){sr(this.Su)},t.prototype.stop=function(){or(this.Su)},t.prototype.onEvent=function(t){this.ds=t},t.prototype.Ug=function(n){if(!n)return!1;var i=n.disposition;return R(n.sourceFile)&&csArray.prototype.some.call(t.jg,(function(t){return csString.prototype.indexOf.call(n.sourceFile,t)>0}))&&"report"!==i},t.prototype.securityPolicyViolationListener=function(t){this.Ug(t)&&this.ds({violatedDirective:t.violatedDirective,sourceFile:t.sourceFile})},t.jg=["contentsquare","cdnssl.clicktale.net"],wn([_t("Event handler type: securitypolicyviolation")],t.prototype,"securityPolicyViolationListener",null),t}(),wl=function(){function t(){}return t.prototype.init=function(){this.qg=new dl(new yl),this.qg.start()},t.prototype.onOptout=function(){this.qg.stop()},t}(),pl=function(t){function n(n,i,r){var e=t.call(this,n,i)||this;return e.Hg=null,e.Fg=(null==r?void 0:r.type)||"json",e.Bg=null==r?void 0:r.cacheMinutes,e.xn=null==r?void 0:r.timeout,e}return vn(n,t),n.prototype.onLoad=function(t){this.Cn=t},n.prototype.onError=function(t){this.In=t},n.prototype.onTimeout=function(t,n){this.Mn=t,this.xn=n},n.prototype.send=function(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,(function(t){return t()}));var t=this.retrieveParameters();this.$(t);var n=In.toQuery(t),i="".concat(this.domainUri).concat(this.path?"/".concat(this.path):"","?").concat(n);this.Ll(i,this.Fg)},n.prototype.abort=function(){this.Hg&&(this.Hg.abort(),this.Hg=null)},n.prototype.isInProgress=function(){return null!==this.Hg},n.prototype.Ll=function(t,n){var i,r=this,e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType=n,e.onerror=function(){var t;return null===(t=r.In)||void 0===t?void 0:t.call(r,e)},e.ontimeout=function(){var t;return null===(t=r.Mn)||void 0===t?void 0:t.call(r,e)},e.onload=function(){var t,i;e.status>=200&&e.status<400?(null===(t=r.Cn)||void 0===t||t.call(r,r.zg(e,n)?e.response:e.responseText),csArray.prototype.forEach.call(r.afterRequestCallbacks,(function(t){return t()}))):null===(i=r.In)||void 0===i||i.call(r,e)},e.onloadend=function(){r.Hg=null},e.timeout=null!==(i=this.xn)&&void 0!==i?i:5e3,this.Hg=e,e.send()},n.prototype.zg=function(t,n){var i=t.getResponseHeader("Content-Type");return null===i?"json"===n:csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(i),"json")>0},n.prototype.$=function(t){var n,i,r;n=this.Bg?"".concat((i=this.Bg,r=60*i*1e3,"".concat(Math.floor(csDate.now()/r)))):csString.prototype.slice.call("".concat(Math.random()),2,8),t.r=n},n}(Dn),ml=function(t){this.configuration=t},gl=function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.configuration=n,e.Vg=i,e.oh=r,e.Gg=Hr.RECORDING_GLOBAL_SAMPLING,e}return vn(n,t),n.prototype.refreshQuota=function(){this.Jg=void 0,this.Yg()},n.prototype.onQuotaReady=function(t){this.Wg=t},n.prototype.init=function(){this.$g()},n.prototype.sanitizeSessionCollectState=function(t){return t},n.prototype.canCollect=function(t){return null!==t&&t.collectState!==Hr.QUOTA_REACHED},n.prototype.computeInitialCollectState=function(t){return this.Jg?(this.oh.emitCollectStateChange(this.Jg,Fr.ETR_OFF),this.Jg):(Ui.warn("Quota file error computeInitialCollectState() called before quota answered"),Hr.QUOTA_REACHED)},n.prototype.getEligibleCollectState=function(t){return t.collectState===Hr.QUOTA_REACHED?Hr.QUOTA_REACHED:!Yh.isRecordingSupported()&&this.isReplayRecorded(t)?Hr.ANALYTICS_ONLY:t.collectState===Hr.RECORDING_RULES_TARGETING?Hr.RECORDING_RULES_TARGETING:t.collectState===Hr.ANALYTICS_ONLY_RULES_TARGETING?Hr.ANALYTICS_ONLY_RULES_TARGETING:t.collectState===Hr.RECORDING_GLOBAL_SAMPLING?Hr.RECORDING_GLOBAL_SAMPLING:Hr.ANALYTICS_ONLY},n.prototype.abortQuotaServiceRequest=function(){},n.prototype.isReplayRecorded=function(t){return t.collectState===Hr.RECORDING_GLOBAL_SAMPLING||t.collectState===Hr.RECORDING_RULES_TARGETING},n.prototype.getInitialCollectState=function(){return this.Jg||Hr.QUOTA_REACHED},n.prototype.setVisitorService=function(t){},n.prototype.computeInitialCollectStateFromRecordingConsentGranted=function(t){return Hr.ANALYTICS_ONLY},n.prototype.Xg=function(t){this.Jg=t,this.Wg&&this.Wg(t)},n.prototype.$g=function(){var t=this;this.Vg.onError((function(n){return t.quotaServiceErrorHandler("HTTP:".concat(n.status," - fetching quota file for pid: ").concat(t.configuration.projectId))})),this.Vg.onTimeout((function(){return t.quotaServiceErrorHandler("timeout")})),this.Vg.onLoad((function(n){return t.quotaFileHandler(n)}))},n.prototype.Yg=function(){this.Vg.isInProgress()||this.Vg.send()},n.prototype.quotaFileHandler=function(t){var n;(null===(n=null==t?void 0:t.quotas)||void 0===n?void 0:n.length)?this.Kg(t):this.quotaServiceErrorHandler("Quota types missing from config file")},n.prototype.quotaServiceErrorHandler=function(t){var n="Quota error - ".concat(t);Ui.warn(n),this.Xg(this.Gg)},n.prototype.Kg=function(t){var n,i,r=!1,e=!1;try{for(var s=gn(t.quotas),o=s.next();!o.done;o=s.next()){var u=o.value;"ANALYTICS"===u.quotaType&&u.value?r=!0:"RECORDING"===u.quotaType&&u.value&&Tn.boolean(Math.round(100*u.value))&&(e=!0)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}!r&&e?this.quotaServiceErrorHandler("Quota types impossible: replay without analytics - ".concat(csJSON.stringify(t))):r&&e?Yh.isRecordingSupported()?this.Xg(Hr.RECORDING_GLOBAL_SAMPLING):this.Xg(Hr.ANALYTICS_ONLY):r&&!e?this.Xg(Hr.ANALYTICS_ONLY):this.Xg(Hr.QUOTA_REACHED)},n.prototype.getRecordingConsentWithdrawn=function(){return Hr.ANALYTICS_ONLY},wn([_t("Quota File: quotaFileHandler")],n.prototype,"quotaFileHandler",null),wn([_t("Quota File: onerror")],n.prototype,"quotaServiceErrorHandler",null),n}(ml),Sl=function(t){function n(n,i,r,e,s){var o=t.call(this,n)||this;return o.configuration=n,o.Zg=i,o.oh=r,o.mp=e,o._t=s,o.Qg=[],o}return vn(n,t),n.prototype.refreshQuota=function(){},n.prototype.onQuotaReady=function(t){},n.prototype.canCollect=function(t){return!0},n.prototype.init=function(){this.tS()},n.prototype.sanitizeSessionCollectState=function(t){return t.collectState!==Hr.QUOTA_REACHED&&t.collectState!==Hr.RECORDING_RULES_TARGETING&&t.collectState!==Hr.RECORDING_TEMPORARILY||(t.collectState=Hr.ANALYTICS_ONLY),t},n.prototype.computeInitialCollectState=function(t){return Zo.isReplayConsentNeeded(this.configuration)?Hr.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:this.Zp(t)},n.prototype.computeInitialCollectStateFromRecordingConsentGranted=function(t){return this.Zp(t)},n.prototype.Zp=function(t){return Yh.isRecordingSupported()?(this.Qg=[],Tn.percentage()<this.configuration.replayRecordingRate||this.mp.isForceReplayRecorded()?csArray.prototype.push.call(this.Qg,Hr.RECORDING_GLOBAL_SAMPLING):this.configuration.malkaUrlEnabled&&csArray.prototype.push.call(this.Qg,Hr.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&csArray.prototype.push.call(this.Qg,Hr.RECORDING_ETR_SAMPLING),this.Qg.length>0?(this.Yg(t),Hr.RECORDING_TEMPORARILY):Hr.ANALYTICS_ONLY):Hr.ANALYTICS_ONLY},n.prototype.getEligibleCollectState=function(t){return Yh.isRecordingSupported()?Zo.isRecordingBlockedByConsent(t)?t.collectState===Hr.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Hr.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN:Hr.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:t.collectState===Hr.RECORDING_GLOBAL_SAMPLING?Hr.RECORDING_GLOBAL_SAMPLING:(this.Qg=[],this.configuration.malkaUrlEnabled&&(csArray.prototype.push.call(this.Qg,Hr.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&csArray.prototype.push.call(this.Qg,Hr.RECORDING_ETR_SAMPLING)),this.Qg.length>0?(this.Yg(t),Hr.RECORDING_TEMPORARILY):(t.etrState===Fr.ETR_ON&&this.oh.emitCollectStateChange(Hr.ANALYTICS_ONLY,Fr.ETR_ON),Hr.ANALYTICS_ONLY)):Hr.ANALYTICS_ONLY},n.prototype.Yg=function(t){var n,i=null===(n=this.Ct)||void 0===n?void 0:n.getVisitor();this.Zg.send({recordingTypes:csArray.prototype.map.call(this.Qg,Number),url:this._t.getAnonymizedUrl(),projectId:this.configuration.projectId,uu:(null==i?void 0:i.id)||"",sn:(null==i?void 0:i.visitsCount)||"",pn:(null==t?void 0:t.pageNumber)||""})},n.prototype.abortQuotaServiceRequest=function(){this.Zg.abort()},n.prototype.isReplayRecorded=function(t){return!Zo.isRecordingBlockedByConsent(t)&&(t.collectState===Hr.RECORDING_TEMPORARILY||t.collectState===Hr.RECORDING_GLOBAL_SAMPLING||t.collectState===Hr.RECORDING_URL_SAMPLING||t.etrState===Fr.ETR_ON)},n.prototype.tS=function(){var t=this;this.Zg.onError((function(){return t.quotaServiceErrorHandler("NetworkError")})),this.Zg.onTimeout((function(){return t.quotaServiceTimeoutHandler()}),3e3),this.Zg.onLoad((function(n){return t.quotaServiceLoadHandler(n)}))},n.prototype.quotaServiceErrorHandler=function(t){this.nS("error - ".concat(t))},n.prototype.quotaServiceTimeoutHandler=function(){this.nS("timeout")},n.prototype.nS=function(t){var n=Hr.ANALYTICS_ONLY;this.iS(this.Qg)?(n=Hr.RECORDING_GLOBAL_SAMPLING,Ui.warn("Quota Service: request ".concat(t," - bypassed by GLOBAL_SAMPLING"))):Ui.warn("Quota Service: request ".concat(t)),this.oh.emitCollectStateChange(n,Fr.ETR_OFF)},n.prototype.quotaServiceLoadHandler=function(t){if(200===t.status){var n;try{n=csJSON.parse(t.responseText)}catch(n){return void this.quotaServiceErrorHandler("Unable to parse the quota service response: ".concat(t.responseText))}var i=null==n.allowedRecordingTypes?void 0:csArray.prototype.map.call(n.allowedRecordingTypes,csString);if(i){var r=Fr.ETR_OFF,e=Hr.ANALYTICS_ONLY;this.iS(i)?e=Hr.RECORDING_GLOBAL_SAMPLING:this.rS(i)&&(e=Hr.RECORDING_URL_SAMPLING),this.eS(i)&&(r=Fr.ETR_ON),this.oh.emitCollectStateChange(e,r)}else this.quotaServiceErrorHandler("recording types missing from quota service response")}else this.quotaServiceErrorHandler("Status code: ".concat(t.status))},n.prototype.iS=function(t){return csArray.prototype.some.call(t,(function(t){return t===Hr.RECORDING_GLOBAL_SAMPLING}))},n.prototype.rS=function(t){return csArray.prototype.some.call(t,(function(t){return t===Hr.RECORDING_URL_SAMPLING}))},n.prototype.eS=function(t){return csArray.prototype.some.call(t,(function(t){return t===Hr.RECORDING_ETR_SAMPLING}))},n.prototype.setVisitorService=function(t){this.Ct=t},n.prototype.getInitialCollectState=function(){return Hr.ANALYTICS_ONLY},n.prototype.getRecordingConsentWithdrawn=function(){return Hr.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN},wn([_t("Quota Service: onerror")],n.prototype,"quotaServiceErrorHandler",null),wn([_t("Quota Service: ontimeout")],n.prototype,"quotaServiceTimeoutHandler",null),wn([_t("Quota Service: onload")],n.prototype,"quotaServiceLoadHandler",null),n}(ml);var bl,El,Al=function(){function t(){this.sS={PIISelectors:["picture","img","video","audio"],Attributes:[]},this.hw={elementSelector:"",attrSelector:"",attrSelectors:[]};var t={PIISelectors:bn(bn(["[data-cs-mask]","#c1_card_info_id",".ctHidden"],Sn(["[data-heap-redact-text]","[heap-ignore]","[data-heap-ignore]","[data-heap-redact-attributes]"]),!1),Sn(["[data-hj-suppress]",".data-hj-suppress","[data-hj-masked]"]),!1),Attributes:[{selector:".ctHidden,input:not([type=button]):not([type=submit])",attrName:"value"}]};this.hw=Tr.getComputedSelectorSettings(t,this.hw)}return t.prototype.init=function(){this.oS()},t.prototype.setMaskedElementSettingsFromCommand=function(t){t=Tr.sanitizeSelectorUserInput(t),Tr.isSelectorUserInput(t)&&this.uS(t)},t.prototype.setMaskedElementSettingsFromParent=function(t){var n={PIISelectors:csString.prototype.split.call(t.elementSelector,","),Attributes:t.attrSelectors};this.uS(n)},t.prototype.getMaskedElementSettings=function(t){return t?this.cS(this.sS):this.hw},t.prototype.oS=function(){var t,n,i,r,e,s,o,u={PIISelectors:[],Attributes:[]};(null===(r=null===(i=null===(n=null===window||void 0===window?void 0:window.ClickTaleSettings)||void 0===n?void 0:n.DOM)||void 0===i?void 0:i.PII)||void 0===r?void 0:r.Text)instanceof Array&&(t=u.PIISelectors).push.apply(t,bn([],Sn(window.ClickTaleSettings.DOM.PII.Text),!1)),(null===(o=null===(s=null===(e=null===window||void 0===window?void 0:window.ClickTaleSettings)||void 0===e?void 0:e.DOM)||void 0===s?void 0:s.PII)||void 0===o?void 0:o.Attributes)instanceof Array&&window.ClickTaleSettings.DOM.PII.Attributes.forEach((function(t){R(t.attr)&&R(t.rule)&&u.Attributes.push({selector:t.rule,attrName:t.attr})})),this.uS(u)},t.prototype.uS=function(t){this.hw=this.cS(t)},t.prototype.cS=function(t){return Tr.getComputedSelectorSettings(t,this.hw)},t}(),Rl=function(){function t(t,n,i,r,e){var s=this;this.wt=t,this.Dt=n,this.St=i,this.Vs=r,this.oh=e,this.hS=function(){var t,n=Pi.get(za);null!==n&&Wa.isValidSessionString(n)?s.Gw.canCollect(Wa.fromRawString(n))?s.init():null===(t=s.wt.voc)||void 0===t||t.enabled:(s.Gw.onQuotaReady((function(t){var n;t!==Hr.QUOTA_REACHED?s.init():null===(n=s.wt.voc)||void 0===n||n.enabled})),s.Gw.refreshQuota())}}return t.prototype.initWithQuota=function(){var t,n;if(!1!==(null===(t=this.wt.smbConfig)||void 0===t?void 0:t.record)){var i=new pl(this.wt.getQuotaUri(),"",{type:"json",cacheMinutes:15});this.Gw=new gl(this.wt,i,this.oh),this.Gw.init(),this.hS()}else null===(n=this.wt.voc)||void 0===n||n.enabled},t.prototype.init=function(){var t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S,b,E,A,R,O,T,N,k,C,I,M=this;Oh.isSupported()&&Oh.setDigestSalt(this.wt.projectId.toString()),this.Vs.schedule((function(){t=new Zn,n=new ul(t),r=new Uf(window.location,n),(i=new Hi(M.wt,r,M.Dt)).init()})),this.Vs.schedule((function(){e=new Wf,s=new $f,y=new bf(window.location,i),(new wl).init(),w=Yf.create(Ui.warn);var t=(d=new $i(w)).create("".concat(M.wt.getLegacyQuotaUri(),"/quota"),!0);void 0===M.Gw&&(M.Gw=new Sl(M.wt,t,M.oh,y,r),M.Gw.init())})),this.Vs.schedule((function(){o=new Wa(M.wt,i,e),u=new Xa(o,M.Gw)})),this.Vs.schedule((function(){c=new ol(M.wt,i,e),h=new Ba(M.wt,c,M.oh,u),M.St.setContext(h,u),M.Gw.setVisitorService(h)})),this.Vs.schedule((function(){I=new hf(M.wt,new nf(M.wt,i,s),M.oh),a=new Za(h,u,I),f=new df(M.wt,i,e),l=new yf(window.location,f),v=new wf(l),p=new Ka(M.wt,h,l),k=new hl(hn,M.wt),A=new al(k),R=new fl(k),O=new ll(k),T=new vl,N=new Ff(A,R,O,T),E=new If([kf.UXA]),m=new Nf(E,N),g=new pf(r),S=new gf(g,E);var n=new Kf(M.wt,i,e);C=new rl(t,n),b=new Qf(E,C);new Xi(h,u,l,C,M.wt)})),this.Vs.schedule((function(){new Ha(M.wt,h,l,p,a,undefined,undefined,y).compute((function(e){M.Vs.schedule((function(){m.init();var o=new qf,c=new cf(M.wt,E,I,u,M.oh),a=new Af(M.wt,i,s),f=new Rf(M.oh,window.location,a),l=new Tf(E,f),y=new xf(E,M.wt);var p=new Mf(M.wt,h,u,undefined);if(e){M.oh.emitInitTracking();var A=new Al;new qa(p,w,h,u,M.oh,E,m,M.wt,l,f,c,I,t,k,n,r,y,o,N,C,b,g,S,M.Vs,d,i,s,M.Gw,A).start()}else{new af(M.oh,E,m,l,f,v,c).start()}}))}))}))},t}();!function(t){var n,i={loadBundle:function(t){var s,o,u,h,a=t.source,f=t.data;if(r(f)){n=f.token,c(i.loadBundle),e(t.origin)&&(h=function(t,n){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(t,"{version}",n.version),"{token}",n.token),"{domain}",n.domain)}("{domain}/tag/tag.bundle.js?v={version}",f),s=h,o=function(){return a.postMessage("csBundleLoaded",t.origin)},(u=document.createElement("script")).type="text/javascript",u.async=!0,u.src=s,u.onload=o,u.charset="utf-8",document.head.appendChild(u))}}};function r(t){return t&&"csBundleInjection"===t.type&&e(t.domain)&&o(t.version)&&s(t.token)}function e(n){return/^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com|csq\.io)$/.test(n)||t.hjDomainRegex.test(n)}function s(t){return/^[a-zA-Z0-9]+$/.test(t)}function o(t){return/^[a-zA-Z0-9\.]+$/.test(t)}function u(t){window.addEventListener("message",t,!1)}function c(t){window.removeEventListener("message",t,!1)}t.getToken=function(){return n},t.isAuthorizedIncomingMessage=r,t.hjDomainRegex=/^https?:\/\/[a-zA-Z0-9\.\-]+\.hotjar\.com$/,t.isAuthorizedDomain=e,t.isAuthorizedToken=s,t.isAuthorizedTagVersion=o,t.isActivable=function(){var t=window.opener||window.parent;return window!==t&&window.addEventListener},t.waitForBundleInjection=function(){u(i.loadBundle)},t.listen=u,t.removeListener=c}(bl||(bl={})),function(t){var n,i,r=window.opener||window.parent,e=[/^https:\/\/app\.contentsquare\.com$/,/^https:\/\/dev-app\.contentsquare\.com$/,/^https:\/\/staging-app\.contentsquare\.com$/,/^https:\/\/.*\.test\.contentsquare\.com$/,/^https:\/\/app\.[a-z0-9-]+\.csiab\.[a-z0-9-]+\.csq\.io$/,bl.hjDomainRegex],s={ping:function(t){if("string"==typeof t.data&&"ping"===t.data&&o(t.origin)){i=t.origin;var r=bl.hjDomainRegex.test(t.origin);n=r?"https://app.contentsquare.com":t.origin,h(s.ping),c(s.insertMessageScript),u("".concat("utils.js","?cb=").concat((new csDate).getTime()))}},insertMessageScript:a((function(t){"string"==typeof t.data&&"ping"!==t.data&&(h(s.insertMessageScript),u(t.data))}))};function o(t){return csArray.prototype.some.call(e,(function(n){return n.test(t)}))}function u(t,i){var r=document.createElement("script");r.type="text/javascript",r.async=!0;var e=null==n?void 0:csString.prototype.replace.call(n,/^https?:/,"");r.src="".concat(e,"/").concat("tag","/").concat(t),r.onload=i,r.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(r),function(t){csString.prototype.includes.call(t,"&mode=")&&sessionStorage.setItem("_hjRetakerMode",csString.prototype.split.call(t,"&mode=")[1])}(t)}function c(t){window.addEventListener("message",t,!1)}function h(t){window.removeEventListener("message",t,!1)}function a(t){return function(n){n.origin===i&&t(n)}}t.getToken=function(){return bl.getToken()},t.isActivable=function(){return window!==r&&window.addEventListener},t.isAuthorizedDomain=o,t.waitForConnection=function(){c(s.ping),bl.waitForBundleInjection()},t.listen=c,t.removeListener=h,t.secureListener=a,t.post=function(t){i&&r.postMessage(t,i)}}(El||(El={}));var Ol,Tl=window.CSFrameCommunication||El,Nl=function(t){function n(n){var i=t.call(this)||this;return i.Vs=n,i}return vn(n,t),n.prototype.emitBeforeNaturalPageView=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeNaturalPageView&&e.onBeforeNaturalPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterNaturalPageView=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterNaturalPageView&&e.onAfterNaturalPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitInitTracking=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onInitTracking&&e.onInitTracking()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitStartTracking=function(t){var n,i,r=function(n){n.onStartTracking&&e.Vs.schedule((function(){return n.onStartTracking(t)}))},e=this;try{for(var s=gn(this.listeners),o=s.next();!o.done;o=s.next()){r(o.value)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},n.prototype.emitArtificialPageViewEnd=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;if(e.onArtificialPageViewEnd)try{e.onArtificialPageViewEnd()}catch(t){Ui.error(t)}}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitBeforeArtificialPageView=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeArtificialPageView&&e.onBeforeArtificialPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterArtificialPageView=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterArtificialPageView&&e.onAfterArtificialPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitBeforeSessionRenewal=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeSessionRenewal&&e.onBeforeSessionRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterSessionRenewal=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterSessionRenewal&&e.onAfterSessionRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitOptout=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onOptout&&e.onOptout()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitReplayUnanonymizationConsentGranted=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onReplayUnanonymizationConsentGranted&&e.onReplayUnanonymizationConsentGranted()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitReplayUnanonymizationConsentWithdrawn=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onReplayUnanonymizationConsentWithdrawn&&e.onReplayUnanonymizationConsentWithdrawn()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterReplayRecordingConsentGranted=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterReplayRecordingConsentGranted&&e.onAfterReplayRecordingConsentGranted()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterReplayRecordingConsentWithdrawn=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterReplayRecordingConsentWithdrawn&&e.onAfterReplayRecordingConsentWithdrawn()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitCollectStateChange=function(t,n){var i,r;try{for(var e=gn(this.listeners),s=e.next();!s.done;s=e.next()){var o=s.value;o.onCollectStateChange&&o.onCollectStateChange(t,n)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}},n.prototype.emitInitialDomStart=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onInitialDomStart&&e.onInitialDomStart()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitInitialDomDone=function(t){var n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onInitialDomDone&&s.onInitialDomDone(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitRecordingContextChange=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onRecordingContextChange&&e.onRecordingContextChange()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitSensitiveStatusChange=function(){var t,n,i;try{for(var r=gn(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;null===(i=s.onSensitiveStatusChange)||void 0===i||i.call(s)}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},n.prototype.emitBeforeVisitorRenewal=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeVisitorRenewal&&e.onBeforeVisitorRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterVisitorCleared=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterVisitorCleared&&e.onAfterVisitorCleared()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterVisitorRenewal=function(){var t,n;try{for(var i=gn(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterVisitorRenewal&&e.onAfterVisitorRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},wn([Xt("emitStartTracking")],n.prototype,"emitStartTracking",null),n}(jf),kl=function(){function t(t,n,i){this.wt=t,this.Jt=n,this.St=i}return t.prototype.start=function(){var t,n,i,r,e;if(!window.UXAnalytics){window.UXAnalytics={};var s=new Ss(!!(null===(t=this.wt.taskSchedulerOptions)||void 0===t?void 0:t.enabled),null===(n=this.wt.taskSchedulerOptions)||void 0===n?void 0:n.maxProcessingTime,null===(i=this.wt.taskSchedulerOptions)||void 0===i?void 0:i.waitDuration),o=new Bi(this.Jt,this.wt);o.init();var u=new Vi(this.wt,o);if(this.Jt.isTopWindowTracker()&&u.canTrack()){if((null===(r=window.CSProtectnativeFunctionsLogs)||void 0===r?void 0:r.Warning)&&Ui.warn("protectNativeFunctions failed: ".concat(window.CSProtectnativeFunctionsLogs.Warning)),null===(e=window.CSProtectnativeFunctionsLogs)||void 0===e?void 0:e.Critical)return void Ui.error("protectNativeFunctions failed: ".concat(window.CSProtectnativeFunctionsLogs.Critical));var c=new Nl(s),h=new Rl(this.wt,o,this.St,s,c);this.wt.isQuotaEnabled()?h.initWithQuota():h.init()}else{}var a=csString.prototype.indexOf.call(window.location.href,"csDebug=1")>-1;window.UXAnalytics={Sensitive:{isNodeSensitive:function(t){return Tr.isMaskedElement(t)||Tr.isMaskedElementChild(t)},isAttributeSensitive:function(t,n){return Tr.isMaskedAttribute(t,n)},getSensitiveAttributes:function(t){return en(t.attributes,(function(n){return Tr.isMaskedAttribute(t,n.name)}))}},Console:{warn:function(t){a&&console.warn("cs.tracking.warning",t)},error:function(t){a&&console.error("cs.tracking.error",t)}},Version:Qn},!window.CSFrameCommunication&&Tl.isActivable()&&(window.CSFrameCommunication=Tl,Tl.waitForConnection())}},wn([Xt("main.start"),_t("main.start")],t.prototype,"start",null),t}();!function(t){t.isCSJavascriptBridgeDefined=function(){return"object"==typeof window.CSJavascriptBridge&&"function"==typeof window.CSJavascriptBridge.optIn&&"function"==typeof window.CSJavascriptBridge.optOut&&"function"==typeof window.CSJavascriptBridge.sendEvent&&"function"==typeof window.CSJavascriptBridge.sendDynamicVar&&"function"==typeof window.CSJavascriptBridge.sendTransaction},t.getBridgeVersion=function(){if("function"==typeof window.CSJavascriptBridge.getVersion)try{var t=window.CSJavascriptBridge.getVersion();if(E(t))return t}catch(t){Ui.warn("an error occurred when calling getVersion")}return null},t.notifyIsReadyForTracking=function(){"function"==typeof window.CSJavascriptBridge.onWebviewTrackingReady&&window.CSJavascriptBridge.onWebviewTrackingReady()},t.sendAnalysisEvent=function(t){window.CSJavascriptBridge.sendEvent(csJSON.stringify(t))},t.sendSREvent=function(t){var n,i;if(window.CSJavascriptBridge.sendSREvent)try{for(var r=gn(t.events),e=r.next();!e.done;e=r.next()){var s=e.value;window.CSJavascriptBridge.sendSREvent(csJSON.stringify(s))}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.sendLog=function(t){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendLog&&window.CSJavascriptBridge.sendLog(csJSON.stringify(t))},t.sendOptIn=function(){window.CSJavascriptBridge.optIn()},t.sendOptOut=function(){window.CSJavascriptBridge.optOut()},t.sendDynamicVariable=function(t,n){window.CSJavascriptBridge.sendDynamicVar(t,n)},t.sendTransaction=function(t,n,i){window.CSJavascriptBridge.sendTransaction(t,n,i)},t.sendAssets=function(t,n){if(window.CSJavascriptBridge.sendAssets){var i=csJSON.stringify(t);window.CSJavascriptBridge.sendAssets(i,n||null)}else window.CSJavascriptBridge.sendSRAssets&&window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(t,(function(t){return t.assetId})))},t.sendNativeSREvent=function(t){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendNativeSREvent&&window.CSJavascriptBridge.sendNativeSREvent(csJSON.stringify(t))}}(Ol||(Ol={}));var Cl=function(){function t(){}return t.prototype.send=function(t,n,i){void 0===i&&(i=Cn.warn);var r={message:t,errorCode:n,level:i};Ol.sendLog(r)},t}(),Il=function(){function t(t,n,i){this.ue=t,this.gt=n,this.aS=i,this.Kc=[],this.et=null,this.fS=ti().v}return t.prototype.lS=function(){0!==this.Kc.length&&(this.ue.send({m:csArray.prototype.map.call(this.Kc,(function(t){return{n:t.name,p:t.parameter,v:t.value}})),p:this.gt.anonymizePII(window.location.pathname),pid:this.aS,v:this.fS}),this.Kc=[])},t.prototype.push=function(n){var i,r=this;(i=csArray.prototype.push).call.apply(i,bn([this.Kc],Sn(n),!1)),this.et&&(csClearTimeout(this.et),this.et=null),this.Kc.length>=t.MAX_QUEUE_SIZE?this.lS():this.et=window.csSetTimeout((function(){r.lS(),r.et=null}),t.DEBOUNCE_INTERVAL)},t.DEBOUNCE_INTERVAL=5e3,t.MAX_QUEUE_SIZE=100,t}();function Ml(){var t=new xn(window.CS_CONF);window._uxa=window._uxa||[],t.processOptionOverrides(window._uxa);var n=new Pn(window,t);n.init();var i=new Mi;if(Pt=Ui,ji=!0,Ui.computeIsActive(t.validationRate),n.isTopWindowTracker()){var r=new pi(t,i);Ui.setStrategy(r)}else if(n.isInIframeContext()){var e=new Ii(t);Ui.setStrategy(e)}else if(n.isInWebViewContext()){var s=new Cl;Ui.setStrategy(s)}Ft(),function(t,n){var i=t.validationRate/10,r=Tn.boolean(i);if(("staging"===t.environment||r)&&!n.isInWebViewContext())try{var e=Yf.create(Ui.warn,n.isTopWindowTracker()),s=new $i(e).create(t.getMetricsUri(),!0),o=new Zn,u=new Il(s,o,t.projectId);Hn.setService(u)}catch(t){Ui.warn("Error initializing metrics: ".concat(t.message))}}(t,n),new kl(t,n,i).start()}window.CSCurrentScript=document.currentScript,csSetTimeout((function(){try{t=Ml,(null===document||void 0===document?void 0:document.prerendering)?document.addEventListener("prerenderingchange",t,{once:!0}):t()}catch(t){}var t}))}();