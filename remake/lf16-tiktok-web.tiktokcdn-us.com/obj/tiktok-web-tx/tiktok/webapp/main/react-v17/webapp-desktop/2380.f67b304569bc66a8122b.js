"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2380],{70669:(e,t,o)=>{o.d(t,{Le:()=>a,_E:()=>c,d4:()=>n,eT:()=>l,i6:()=>s,jP:()=>d,o8:()=>u,ue:()=>p});var i=o(62186),r=(o(924),o(72153));const a=(0,i.default)("div",{target:"ehlq8k30"})({position:"relative",padding:"16px 0 0"},"label:DivContainer;"),l=(0,i.default)("div",{target:"ehlq8k31"})({display:"flex",flexDirection:"row",alignItems:"center"},"label:DivFlexCenterRow;"),n=(0,i.default)(l,{target:"ehlq8k32"})((({shouldOptimizeCta:e})=>({justifyContent:"space-between",marginBottom:e?"11px":""})),"label:StyledWrapper;"),s=(0,i.default)("div",{target:"ehlq8k33"})((({theme:e})=>[(0,r.zy)({theme:e,typography:"P3",color:"TextSecondary"}),{display:"flex",flexDirection:"row",marginTop:"16px",boxSizing:"border-box",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"8px",overflow:"hidden"}]),"label:DivCopyLinkContainer;"),d=(0,i.default)("p",{target:"ehlq8k34"})(r.PR,(({theme:e})=>({flex:"1 1 auto",paddingTop:"7px",paddingBottom:"5px",backgroundColor:e.colors.BGInput})),(({theme:{direction:e}})=>(0,r.mp)({direction:e,paddingStart:"12px",paddingEnd:"0"})),"label:PCopyLinkText;");d.defaultProps=Object.assign(Object.assign({},d.defaultProps),{"data-e2e":"browse-video-link"});const c=(0,i.default)("button",{target:"ehlq8k36"})((({theme:e})=>[r.WA,{color:e.colors.TextPrimary,fontWeight:e.fontWeights.bold,flex:"0 0 auto",cursor:"pointer",backgroundColor:e.colors.BGInput2,padding:"7px 18px",":hover":{backgroundColor:e.colors.BGView},":active":{backgroundColor:e.colors.BGInput},":focus-visible":{outline:`2px solid ${e.colors.Negative}`,outlineOffset:"-2px"}}]),"label:ButtonCopyLink;");c.defaultProps=Object.assign(Object.assign({},c.defaultProps),{"data-e2e":"browse-copy"});const p=(0,i.default)("button",{target:"ehlq8k37"})((({theme:{colors:e}})=>[r.WA,{position:"relative",display:"flex",width:"24px",height:"24px",justifyContent:"center",alignItems:"center",borderRadius:"50%",cursor:"pointer",color:e.TextPrimary,":focus-visible":{outline:`2px solid ${e.Negative}`},":hover":{backgroundColor:"rgba(22, 24, 35, 0.1)"},":active":{backgroundColor:"rgba(22, 24, 35, 0.1)"}}]),"label:ButtonShare;"),u=(0,i.default)("div",{target:"ehlq8k38"})((({theme:e})=>[(0,r.zy)({theme:e,fontWeight:"semiBold",typography:"P2"}),{width:"280px",padding:"8px 0px",maxHeight:448,overflow:"auto","::-webkit-scrollbar":{width:"6px"},"::-webkit-scrollbar-thumb":{borderRadius:"3px",background:"rgba(0, 0, 0, 0.15)"}}]),"label:DivShareWrapper;");u.defaultProps=Object.assign(Object.assign({},u.defaultProps),{"data-e2e":"feed-share-group"})},89221:(e,t,o)=>{o.d(t,{f:()=>A});var i=o(24643),r=o(41271),a=o(40099),l=o(73635),n=o(25616),s=o(50970),d=o(49057),c=o(44935),p=o(62186);const u=(0,p.default)("div",{target:"echcjyx0"})({width:"322px",borderRadius:"9px",height:"389px;",margin:"0px"},"label:DivPreviewContainer;"),h=(0,p.default)("iframe",{target:"echcjyx1"})({display:"block",visibility:"unset",width:"100%",height:"389px"},"label:IframePlaylistEmbedPreview;"),m="https://www.tiktok.com",g=function(e){var t;const{language:o}=null!==(t=(0,d.W)((()=>["language"]),[]))&&void 0!==t?t:{},{uniqueId:r,tagTitle:a,musicId:l,musicTitle:n,type:s}=e;if(!s||!r&&!a&&!l)return(0,i.jsx)("div",{});const p=null!=o?o:"en",g=(0,c.iB)(p);let f;switch(s){case 1:f=`${m}/embed/@${r}${g}`;break;case 3:f=`${m}/embed/tag/${a}${g}`;break;case 2:f=`${m}/embed/music/${n}-${l}${g}`}return(0,i.jsx)(u,{style:{pointerEvents:"none"},children:(0,i.jsx)(h,{src:f,frameBorder:"0"})})};var f=o(72153);const b=(0,p.default)("div",{target:"e172cezw0"})((({theme:e,isVideoEmbedPreview:t})=>[(0,f.mp)({direction:e.direction}),{width:t?"550px":"700px"}]),{borderRadius:"9px","@media(max-width: 1000px)":{width:"400px"}},"label:DivModalContainer;"),x=(0,p.default)("div",{target:"e172cezw2"})((({theme:{colors:e}})=>({padding:"24px 24px 12px 24px",borderBottom:`0.5px solid ${e.LineSecondary}`})),"label:DivEmbedTitle;"),v=(0,p.default)("h3",{target:"e172cezw3"})((({theme:e})=>(0,f.zy)({theme:e,typography:"P1",fontWeight:"bold"})),{fontSize:"20px",lineHeight:"24px",textAlign:"start"},"label:H3EmbedTitle;"),y=(0,p.default)("div",{target:"e172cezw4"})((({theme:{direction:e}})=>(0,f.mp)({direction:e,end:"23px"})),{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:23,cursor:"pointer"},"label:DivXMarkWrapper;"),w=(0,p.default)("div",{target:"e172cezw5"})({display:"flex",justifyContent:"space-between",padding:"24px","@media(max-width: 1000px)":{paddingTop:0}},"label:DivModalInnerContainer;"),_=(0,p.default)("div",{target:"e172cezw6"})({width:310,paddingTop:10,"@media(max-width: 1000px)":{width:"400px"}},"label:DivTextArea;"),k=(0,p.default)("div",{target:"e172cezw7"})((({theme:e})=>[(0,f.zy)({theme:e,fontWeight:"semiBold"}),{fontSize:16,lineHeight:"24px"}]),{display:"block",width:"100%",marginBottom:"20px",border:"none",resize:"none",outline:"none",wordBreak:"break-all",overflowWrap:"break-word"},"label:DivAreaDescription;"),C=(0,p.default)("textarea",{target:"e172cezw8"})((({theme:e})=>[(0,f.zy)({theme:e,typography:"P2",color:"TextTertiary"}),{display:"block",padding:"12px 12px 12px 12px",width:"100%",height:148,marginBottom:20,border:"none",resize:"none",outline:"none",wordBreak:"break-all",overflowWrap:"break-word",background:"rgba(22, 24, 35, 0.06)",borderRadius:2}]),"label:TextareaEmbedCode;"),j=(0,p.default)("button",{target:"e172cezw9"})(f.WA,(({theme:e,primary:t})=>[(0,f.zy)({theme:e,fontWeight:t?"semiBold":"normal",color:"TextPrimary"}),{fontSize:16,border:`1px solid ${e.colors.LineSecondary}`,background:e.colors.BGTertiary},{":after":{content:'""',width:"100%",height:"1px",position:"absolute",left:0,top:0,background:e.colors.LineSecondary,transform:"scaleY(0.5)"}}]),{borderRadius:2,display:"block",width:"100%",textAlign:"center",cursor:"pointer",height:"36px",marginBottom:"20px"},"label:Button;"),P=(0,p.default)("p",{target:"e172cezw10"})((({theme:e})=>[(0,f.zy)({theme:e,typography:"P2",color:"TextTertiary"}),{a:{textDecoration:"underline","&, &:hover, &:active, &:link":{color:e.colors.TextTertiary}}}]),{fontSize:"12px",lineHeight:"18px"},"label:PHint;"),S=(0,p.default)("div",{target:"e1rggtg60"})({borderRadius:"4.5px",width:"163px",height:"379px",overflow:"hidden"},"label:DivPreviewContainer;"),T="scale(0.5)",I=e=>"rtl"===e?"top right":"top left",D=(0,p.default)("iframe",{target:"e1rggtg61"})((({theme:e})=>[{display:"block",visibility:"unset",width:"326px",height:"758px",msTransform:T,msTRANSFORM_ORIGIN_ZERO:I(e.direction),MozTransform:T,MozTRANSFORM_ORIGIN_ZERO:I(e.direction),WebkitTransform:T,WebkitTRANSFORM_ORIGIN_ZERO:I(e.direction),transform:T,transformOrigin:I(e.direction),border:"none"}]),"label:IframeVideoEmbedPreview;"),L=function(e){var t;const{videoId:o}=e,{language:r}=null!==(t=(0,d.W)((()=>["language"]),[]))&&void 0!==t?t:{};return(0,i.jsx)(S,{style:{pointerEvents:"none"},children:(0,i.jsx)(D,{src:(()=>{const e=null!=r?r:"en",t=(0,c.iB)(e);return`https://www.tiktok.com/embed/v2/${o}${t}`})(),frameBorder:"0"})})},A=function(e){const{code:t,onCopy:o,uniqueId:d,videoId:c,type:p,musicId:u,tagTitle:h,musicTitle:m}=e,f=(0,n.s)(),S=(0,r.P)(s.L,{selector:e=>e.lang,dependencies:[]}),T=(0,a.useRef)(null),I=(0,a.useCallback)((()=>{var e;null===(e=T.current)||void 0===e||e.select(),document.execCommand&&document.execCommand("copy"),null==o||o()}),[o]),D=`"https://www.tiktok.com/legal/terms-of-service?lang=${S}" target="_blank"`,A='"https://www.tiktok.com/legal/privacy-policy" target="_blank"';let O;const M=1===p||3===p||2===p;let z,B;switch(p){case 1:z=f("embed_profile_popup_title"),B=f("embed_profile_popup_desc");break;case 3:z=f("embeds_popup_hashtag_header"),B=f("embeds_popup_hashtag_body");break;case 2:z=f("embeds_popup_sound_header"),B=f("embeds_popup_sound_body");break;default:z=f("Embed video"),B=f("embed_popup_embed_body")}try{O=M?f("embeds_popup_tns").replace("{Terms of Service}",`<a href=${D}>${f("embed_profile_popup_bottom_desc_tos")}</a>`).replace("{Privacy Policy}",`<a href=${A}>${f("embed_profile_card_desc_privacy_policy")}</a>`):f("By embedding this video, you confirm that you agree to our <a href={TermsHref}>Terms of Use</a> and acknowledge you have read and understood our <a href={PolicyHref}> Privacy Policy.</a>").replace("{TermsHref}",D).replace("{PolicyHref}",A)}catch(e){O=`By embedding this page, you confirm that you agree to our <a href="https://www.tiktok.com/legal/terms-of-service?lang=${S}" target="_blank">Terms of Service</a> and acknowledge that you have read and understood our <a href="https://www.tiktok.com/legal/privacy-policy" target="_blank"> Privacy Policy.</a>`}const[E,R]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{var e;const t=window.matchMedia("(max-width: 1000px)");null===(e=null==t?void 0:t.addEventListener)||void 0===e||e.call(t,"change",(e=>R(e.matches))),R(null==t?void 0:t.matches)}),[]),(0,i.jsxs)(b,{isVideoEmbedPreview:!E&&!M,children:[(0,i.jsxs)(x,{children:[(0,i.jsx)(v,{children:z}),(0,i.jsx)(y,{onClick:e.onClose,children:(0,i.jsx)(l.A,{width:20,height:20})})]}),(0,i.jsxs)(w,{children:[!E&&(0,i.jsx)(i.Fragment,{children:M?(0,i.jsx)(g,{type:p,uniqueId:d,tagTitle:h,musicId:u,musicTitle:m}):(0,i.jsx)(L,{videoId:c})}),(0,i.jsxs)(_,{children:[(0,i.jsx)(k,{children:B}),(0,i.jsx)(C,{defaultValue:t,readOnly:!0,rows:7,ref:T}),(0,i.jsx)(j,{primary:!0,onClick:I,children:f("embed_profile_popup_btn")}),(0,i.jsx)(P,{dangerouslySetInnerHTML:{__html:O}})]})]})]})}},6944:(e,t,o)=>{o.d(t,{SY:()=>K});var i=o(58632),r=o(24643),a=o(67518),l=o(73580),n=o(41271),s=o(46682),d=o(40099),c=o(73256),p=o(56546),u=o(8046),h=o(16085),m=o(16680),g=o(11983),f=o(95197),b=o(25616),x=o(88920),v=o(53764),y=o(95481),w=o(49057),_=o(43626),k=o(52333),C=o(84987);const j={id:"pinterest-c7e37d72",use:"pinterest-c7e37d72-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="pinterest-c7e37d72"><g clip-path="url(#pinterest-c7e37d72_a)"><circle cx="12" cy="12" r="12" fill="white" /><path fill="#E60019" d="M12.01 0C5.377 0 0 5.368 0 11.99c0 5.082 3.163 9.425 7.631 11.171-.109-.947-.198-2.408.04-3.444.217-.937 1.403-5.96 1.403-5.96s-.356-.72-.356-1.777c0-1.668.969-2.91 2.175-2.91 1.028 0 1.522.769 1.522 1.687 0 1.026-.652 2.565-.998 3.996-.287 1.194.603 2.171 1.779 2.171 2.135 0 3.776-2.25 3.776-5.486 0-2.872-2.066-4.876-5.022-4.876-3.42 0-5.426 2.556-5.426 5.201 0 1.027.395 2.132.89 2.734a.36.36 0 0 1 .079.345c-.09.375-.297 1.194-.337 1.362-.049.217-.177.266-.405.158-1.502-.7-2.441-2.882-2.441-4.648 0-3.78 2.748-7.253 7.937-7.253 4.162 0 7.404 2.96 7.404 6.927 0 4.135-2.61 7.46-6.228 7.46-1.215 0-2.362-.63-2.748-1.38l-.75 2.851c-.268 1.046-1 2.349-1.493 3.148A12 12 0 0 0 11.99 24C18.623 24 24 18.632 24 12.01 24.02 5.368 18.642 0 12.01 0" /></g><defs><clipPath id="pinterest-c7e37d72_a"><path fill="white" d="M0 0h24v24H0z" /></clipPath></defs></symbol>'};function P(e){const t=(0,d.useContext)(C.X);return(0,d.useLayoutEffect)((()=>(t.add(j),()=>{t.remove("pinterest-c7e37d72")})),[]),(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,r.jsx)("use",{xlinkHref:"#pinterest-c7e37d72"},void 0)}),void 0)}const S={id:"share_embed-2f7bd888",use:"share_embed-2f7bd888-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="share_embed-2f7bd888"><path fill="#383838" fill-opacity=".95" fill-rule="evenodd" d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12" clip-rule="evenodd" /><path fill="white" fill-rule="evenodd" d="M12.313 7.966a.562.562 0 1 1 1.108.194l-1.37 7.835a.562.562 0 1 1-1.109-.194zm3.927.808a.7.7 0 0 0-1.014 0 .76.76 0 0 0 0 1.05l2.228 2.307-2.228 2.305a.76.76 0 0 0 0 1.05.7.7 0 0 0 1.015 0l3.214-3.326a.04.04 0 0 0 0-.058l-.231-.24-.005-.004-.003-.004zm-7.351 0c.29.29.29.76 0 1.05L6.583 12.13l2.307 2.307a.742.742 0 1 1-1.05 1.05L5.423 13.07l-.002-.002-.91-.91a.04.04 0 0 1 0-.057L7.84 8.775c.29-.29.76-.29 1.05 0" clip-rule="evenodd" /></symbol>'};function T(e){const t=(0,d.useContext)(C.X);return(0,d.useLayoutEffect)((()=>(t.add(S),()=>{t.remove("share_embed-2f7bd888")})),[]),(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,r.jsx)("use",{xlinkHref:"#share_embed-2f7bd888"},void 0)}),void 0)}var I=o(42257),D=o(44494);const L=function({width:e="1em",height:t="1em",style:o={}}){return(0,r.jsxs)("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:o,children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z",fill:"gray"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.313 7.96568C12.3665 7.65966 12.658 7.45498 12.964 7.50851C13.27 7.56203 13.4747 7.8535 13.4211 8.15951L12.0506 15.9952C11.997 16.3012 11.7056 16.5059 11.3996 16.4523C11.0936 16.3988 10.8889 16.1073 10.9424 15.8013L12.313 7.96568ZM16.2402 8.77448C15.96 8.48453 15.5058 8.48453 15.2256 8.77448C14.9454 9.06443 14.9454 9.53454 15.2256 9.82449L17.454 12.1307L15.2262 14.4364C14.946 14.7263 14.946 15.1964 15.2262 15.4864C15.5063 15.7763 15.9606 15.7763 16.2407 15.4864L19.4551 12.1598C19.4704 12.1439 19.4704 12.1182 19.4551 12.1023L19.2233 11.8623L19.2201 11.8586L19.2158 11.854L16.2402 8.77448ZM8.88972 15.4867C8.59977 15.7766 8.12966 15.7766 7.83971 15.4867L5.4207 13.0677L4.76017 12.4071L4.51191 12.1589C4.49603 12.143 4.49603 12.1173 4.51191 12.1014L7.83853 8.77477C8.12848 8.48482 8.59859 8.48482 8.88854 8.77477C9.17849 9.06472 9.17849 9.53482 8.88854 9.82478L6.58318 12.1301L8.88972 14.4367C9.17967 14.7266 9.17967 15.1967 8.88972 15.4867Z",fill:"white"})]})};var A=o(89221),O=o(86776),M=o(18183),z=o(62186),B=o(72153);const E={0:({theme:{direction:e,colors:t}})=>[{display:"block",fontSize:0,":focus-visible":{outline:`2px solid ${t.Negative}`}},(0,B.mp)({direction:e,marginEnd:"8px"})],2:()=>[{display:"block",fontSize:0,margin:"4px auto"}],1:({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"11px 16px",margin:"0px 3px 0px 4px",position:"relative",":hover":{background:e.BGView,textDecoration:"none"}})},R=(0,z.default)("a",{target:"e15mchsh0"})((({mode:e,theme:t})=>E[e]({theme:t})),"label:AShareLink;"),$=(0,z.default)("a",{target:"e15mchsh1"})((({theme:{colors:e}})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"0px 16px",position:"relative",margin:"0px 4px 0px 4px",":hover":{background:e.BGView,textDecoration:"none"}})),"label:AShareArrow;"),W=(0,z.default)("span",{target:"e15mchsh2"})((({theme:{direction:e}})=>(0,B.mp)({direction:e,marginStart:"12px"})),"label:SpanShareText;"),q=(0,z.default)("div",{target:"e15mchsh3"})((({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"11px 16px",position:"relative",background:"rgba(22, 24, 35, 0.1)",textDecoration:"none",color:e.LineInput})),"label:DivDisabledArea;");var H=o(10332),V=o(22884),F=o(94039),N=o(25941),G=o(45816);const Z={0:24,2:24,1:26},K=(0,d.memo)((function(e){var t,o,{videoId:C="",uniqueId:j="",musicId:S="",tagTitle:z="",musicTitle:B="",onClickShare:E,mode:K,embedCode:U,embedType:X,isEmbedDisabled:Y=!1,isEmbedBanned:J=!1,onEmbedModalVisibleChange:Q,enabled:ee=!0,url:te=""}=e,oe=e.teaParams,ie=void 0===oe?{}:oe,{group_id:re,author_id:ae}=ie,le=(0,i.__rest)(ie,["group_id","author_id"]),{from:ne=0,showLastSharedPulsing:se,onOtherModalOpen:de,onSendMessagePanelOpen:ce,onPlatformCountChange:pe,onPlatformChange:ue}=e;const he=(0,b.s)(),[me,ge]=(0,d.useState)(!1),{shouldOptimizeCta:fe}=(0,x.kb)(),{isBrowserModeShowing:be}=(0,d.useContext)(_.g),xe=(0,h.Z9)((e=>e.isOpen)),ve=be&&!xe&&!fe,{expanded:ye}=(0,O.kw)(),we=(0,l.Nj)(p.A),_e=(0,d.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),ge(!0),we.handleSharePanelClick(Object.assign({group_id:re,author_id:ae},le))}),[re,we,ae,le]),{user:ke}=null!==(t=(0,w.W)((()=>["abTestVersion","user"]),[]))&&void 0!==t?t:{},{vl1:Ce,forFriend:je,subVideoMeta:Pe}=(0,n.P)(k.k,{selector:e=>{var t;return null!==(t=e[C])&&void 0!==t?t:{}},dependencies:[C]}),Se=(!ke||(null==ke?void 0:ke.hasIMPermission))&&!(Ce&&!je)&&!(1===ne||2===ne),Te=Boolean(ke),Ie=(0,m.b1)(),De=(0,s.w)(k.k),Le=(0,x.ZO)(),Ae=Z[K],{repostActionVid:Oe}=(0,x.hn)(),{handleClickRepost:Me,canRepost:ze,isReposted:Be}=(0,H.l)({itemId:C,playMode:null!==(o=le.play_mode)&&void 0!==o?o:"one_column",playlistId:null==le?void 0:le.playlist_id}),Ee=ze&&"v1"===Oe,Re=ze&&"v4"===Oe,$e=(0,d.useCallback)((e=>{const t=e.indexOf(I.Ag.copy);e.length>5&&"short"===ye&&t>4&&(e.splice(t,1),e.splice(4,0,I.Ag.copy))}),[ye]),{platforms:We}=(0,n.P)(M.M,{selector:e=>{var t,o,i;let{platforms:r}=e;Se||(r=null!==(t=null==r?void 0:r.filter((e=>e!==I.Ag.message)))&&void 0!==t?t:[]),Le&&(r=null!==(o=null==r?void 0:r.filter((e=>e!==I.Ag.facebook&&e!==D.Z8.messenger)))&&void 0!==o?o:[]),Re||(r=null!==(i=null==r?void 0:r.filter((e=>e!==I.Ag.repost)))&&void 0!==i?i:[]);const a=(null!=r?r:[]).filter((e=>e!==I.Ag.sms&&e!==I.Ag.embed&&e!==I.Ag.repost));U&&!J&&!Pe&&a.unshift("embed"),Re&&a.unshift("repost");const l=a.filter((e=>e!==I.Ag.copy));switch(K){case 0:return{platforms:l};case 1:return r=[...a].reverse(),$e(a),r=a,ve&&(r=l),{platforms:r};default:return{platforms:a}}},dependencies:[K,U,ve,$e,X,Se,Le,Re]}),qe=(0,d.useMemo)((()=>We.length>5&&!me&&1===K&&("expand"!==ye||xe)),[We,me,K,ye,xe]),[He,Ve]=(0,d.useState)(!1);(0,d.useEffect)((()=>{null==Q||Q(He)}),[He,Q]);const Fe=(0,d.useCallback)((e=>e.replace(/(.*?){(.*?)}(.*?)/g,((e,t,o,i)=>t+he(o)+i))),[he]),Ne=(0,a.u)(),{isInExperiment:Ge}=(0,x.NV)(),Ze=(0,V.f7)(),Ke=(0,F.FV)(),{isSharedPulsing:Ue,lastSharedMethod:Xe}=(0,N.p)(),Ye=(0,d.useCallback)(((e,t)=>o=>{if(t&&(o.preventDefault(),o.stopPropagation(),t()),ee||(o.preventDefault(),g.F.destroy(),g.F.open({content:he("web_sharing_disable_toast"),duration:3,widthType:"half",getContainer:v.M,getContainerPosition:"fixed"})),Ge&&e!==I.Ag.repost&&Ze.updateLastSharedInfo({platformId:e}),null==E||E(e,{group_id:re,play_mode:le.play_mode}),we.handleShare(Object.assign({platform:e,group_id:re,author_id:ae,share_option_type:ye,share_click_from:me||3===ne?"long":"short"},le)),le.is_ad_event&&le.value&&le.tag&&le.log_extra){const{log_extra:e,tag:t,value:o}=le;u.pg.handleShare({log_extra:e,tag:t,value:o,is_ad_event:"1"})}if(De.addMlModelTrainData({id:re,action:"share"}),"copy"===e&&ee)g.F.open({content:he("Copied"),duration:1.2,widthType:"half",getContainer:v.M,getContainerPosition:"fixed"});else if("embed"===e)Ve(!0),null==de||de(!0);else if("message"===e){if(!Te)return void Ie.openModal({query:{enter_method:"share_button",group_id:re}});null==ce||ce()}else"repost"===e&&(Te||Ie.openModal({query:{enter_method:"click_repost",group_id:re}}),Me());Ge&&Ke.turnOffSharePulsing()}),[ee,E,we,re,ae,ye,me,le,he,Te,ce,Ie,ne,Ze,Ge,Ke]),Je=(0,d.useCallback)((()=>{Ve(!1),null==de||de(!1)}),[de]),Qe=(0,d.useCallback)((()=>{we.handleClickShare(Object.assign({platform:"embed",group_id:re,author_id:ae,share_option_type:ye,share_click_from:me?"long":"short"},le)),g.F.open({content:he("embed_success"),duration:1.2,widthType:"half",getContainer:v.M,getContainerPosition:"fixed"}),Ve(!1),null==de||de(!1)}),[ae,ye,re,we,le,me,he,de]),et=(0,d.useMemo)((()=>{const e=Ee?2:5;return 0===K?[0,e]:ve?[e,void 0]:xe&&me?[0,void 0]:xe?[0,5]:me||2===K||"expand"===ye?[0,void 0]:[0,5]}),[ve,me,K,ye,xe]);(0,d.useEffect)((()=>{var e;const t=null==We?void 0:We.slice(...et),o=null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0;null==pe||pe(o),null==ue||ue(t)}),[pe,We,et]);const tt=(0,v.M)(),ot=(0,d.useCallback)((e=>{if(13===e.keyCode||32===e.keyCode){e.preventDefault(),e.stopPropagation(),ge(!0);const t=null==We?void 0:We.slice(...et).pop();document.querySelector(`#icon-element-${t}`).focus(),we.handleSharePanelClick(Object.assign({group_id:re,author_id:ae},le))}}),[re,we,ae,le,et,We]),it=(0,d.useCallback)(((e,t)=>o=>{13===o.keyCode&&(o.preventDefault(),o.stopPropagation(),Ye(e,t)(o),document.querySelector(`#icon-element-${e}`).click())}),[Ye]);return(0,r.jsxs)(r.Fragment,{children:[null==We?void 0:We.slice(...et).map((e=>{const t="ltr"===Ne.direction?"left":"right",o=2===K?t:"top",i=D.jE[e],a=Ne.isDark&&"embed"===e,l=Ne.isDark&&"pinterest"===e,n=(0,D.io)({platform:e,url:te}),s={isReposted:Be};let d=D.mT[e];"repost"===e&&(d=Be?"{pcWeb_removeRepost_btn}":"{pcWeb_repost_btn}");const c="string"==typeof n?{href:n,target:"_blank",rel:"noopener noreferrer",onClick:Ye(e),onKeyDown:it(e,void 0,n)}:{href:"#",onClick:Ye(e,n),onKeyDown:it(e,n)};let p=(0,r.jsx)(i,Object.assign({width:Ae,height:Ae,size:Ae},s));a?p=(0,r.jsx)(T,{width:Ae,height:Ae}):l&&(p=(0,r.jsx)(P,{width:Ae,height:Ae}));const u=(0,r.jsxs)(R,Object.assign({id:`icon-element-${e}`,mode:K},c,{"data-e2e":`video-share-${e}`,"aria-label":Fe(d),children:[se&&Ue&&Xe===e?(0,r.jsx)(G.V,{isPulsing:!0,iconSize:Ae}):p,1===K&&(0,r.jsx)(W,{children:Fe(d)})]}),e);return Y&&"embed"===e?(0,r.jsx)(f.m,{fullscreenAdjust:!0,overlay:he("embed_profile_tooltip"),placement:"bottom",children:(0,r.jsxs)(q,{children:[(0,r.jsx)(L,{width:Ae,height:Ae}),(0,r.jsx)(W,{children:Fe(d)})]})},e):0===K||2===K?(0,r.jsx)(f.m,{fullscreenAdjust:!0,overlay:Fe(d),placement:o,children:u},e):u})),qe&&(0,r.jsx)($,{"data-e2e":"share-arrow","aria-label":he("accessibilityLabels_forYou_share_moreOptions_btn"),href:"#",onClick:_e,onKeyDown:ot,children:(0,r.jsx)(c.A,{width:24,height:24})}),(0,r.jsx)(y.aF,{parentRef:tt,visible:He,onClose:Je,maskCloseable:!1,children:(0,r.jsx)(A.f,{onCopy:Qe,onClose:Je,code:U,type:X,videoId:C,uniqueId:j,musicId:S,tagTitle:z,musicTitle:B})})]})}))},45816:(e,t,o)=>{o.d(t,{V:()=>p});var i=o(24643),r=o(40099),a=o(70461),l=o(85844),n=o(25941),s=o(44494),d=o(42257),c=o(92846);const p=(0,r.memo)((({isPulsing:e=!1,iconSize:t,lastSharedIconStyle:o,onClick:p})=>{const{lastSharedMethod:u,lastMessagedUser:h}=(0,n.p)(),m=(0,r.useMemo)((()=>{if(!u)return null;const e=s.jE[u];return u===d.Ag.message&&(null==h?void 0:h.avatarThumb)?(0,i.jsxs)(l.lu,{style:o,onClick:p,children:[(0,i.jsx)(c.e,{src:h.avatarThumb,size:t}),(0,i.jsx)(e,{style:{position:"absolute",left:t/2+1,top:t/2+3,width:t/2+3,height:t/2+3},width:t/2+3,height:t/2+3})]}):(0,i.jsx)(e,{style:o,width:t,height:t})}),[t,h,o,u,p]);return(0,i.jsx)(a.A,{in:e,timeout:1200,unmountOnExit:!0,children:(0,i.jsxs)(l.bE,{children:[" ",m]})})}))},85844:(e,t,o)=>{o.d(t,{K2:()=>l,bE:()=>d,lu:()=>c});var i=o(75431),r=o(62186);const a=(0,i.i7)({"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)"}}),l=(0,r.default)("div",{target:"eiar8om0"})({animation:`${a} 0.4s ease-out`},"label:DivShareArrowHide;"),n=(0,i.i7)({"0%":{transform:"scale(0)"},"100%":{transform:"scale(1.2)"}}),s=(0,i.i7)({"0%":{transform:"scale(1.2)"},"50%":{transform:"scale(1)"},"100%":{transform:"scale(1.2)"}}),d=(0,r.default)("div",{target:"eiar8om1"})({animation:`${n} 0.4s ease-in,${s} 1.2s ease-in-out 0.4s infinite`},"label:DivPulsingAnimated;"),c=(0,r.default)("div",{target:"eiar8om2"})({position:"relative"},"label:DivFriendIcon;")}}]);