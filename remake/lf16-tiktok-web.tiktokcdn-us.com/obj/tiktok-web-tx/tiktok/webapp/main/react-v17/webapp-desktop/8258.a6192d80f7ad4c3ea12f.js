"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8258],{68572:(e,t,i)=>{i.d(t,{p:()=>d});var o=i(40099),n=i(60072),r=i(84908),a=i(32125),l=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i};const d=(e,t)=>{const[i,d]=(0,n.l8)((t=>t[e]),a.bN),s=(0,r.nW)((e=>(null==i?void 0:i.author)?e.users[i.author]:void 0),a.bN);return{handleUpdatePhotoCover:(0,o.useCallback)((e=>{if(!t||!(null==i?void 0:i.imagePost))return;const o=e.naturalHeight,n=e.naturalWidth,{author:r}=i,a=l(i,["author"]);a.imagePost.cover.imageHeight=o,a.imagePost.cover.imageWidth=n,a.imagePost.shareCover.imageHeight=o,a.imagePost.shareCover.imageWidth=n,a.video.height=o,a.video.width=n,a.author=s,d.setItem(a)}),[s,t,i,d]),handleUpdatePhotoImages:(0,o.useCallback)((e=>{var t;if(!(null===(t=null==i?void 0:i.imagePost)||void 0===t?void 0:t.images))return;const{author:o}=i,n=l(i,["author"]);e.forEach(((e,t)=>{const i=e.naturalHeight,o=e.naturalWidth;n.imagePost.images[t].imageHeight=i,n.imagePost.images[t].imageWidth=o})),n.author=s,d.setItem(n)}),[s,i,d])}}},80635:(e,t,i)=>{i.d(t,{w:()=>p});var o=i(2787),n=i(40099),r=i(25616),a=i(62186),l=i(66994),d=i(63185);const s=(0,a.default)("div",{target:"e1cg0wnj0"})((({borderRadius:e})=>Object.assign({position:"relative",width:"100%"},e?{borderRadius:e,overflow:"hidden"}:{})),"label:DivContainer;"),u=(0,a.default)("div",{target:"e1cg0wnj1"})({position:"absolute",top:"0",left:"0",right:"0",bottom:"0","&:hover, &.copyright-muted":{[`& ${d.jG}`]:{opacity:1},'& [data-e2e="explore-card-info-right"]':{opacity:0}}},"label:DivWrapper;"),c=(0,a.default)(s,{target:"eq741c50"})((({borderRadius:e})=>({borderRadius:null!=e?e:"4px",overflow:"hidden"})),"label:StyledDivContainerV2;"),h=(0,n.memo)((e=>{const{isDetailPage:t}=(0,l.s0)(),i=t?c:s;return(0,o.Y)(i,Object.assign({},e))})),p=(0,n.memo)((function({ratio:e=0,children:t,className:i,borderRadius:n,e2eTag:a="",copyrightMuted:l=!1,onKeyDown:d,id:s}){const c=(0,r.s)(),p=0===e?100:100/e,m=l?"copyright-muted":"";return(0,o.Y)(h,{"data-e2e":a,borderRadius:n,className:i,id:s,tabIndex:0,onKeyDown:d,role:"button","aria-label":c("accessibilityLabels_forYou_videoCard_fullScreen"),children:(0,o.Y)("div",{style:{paddingTop:`${p}%`},children:(0,o.Y)(u,{className:m,children:t})})})}))},37758:(e,t,i)=>{i.d(t,{s:()=>N});var o=i(2787),n=i(41271),r=i(40099),a=i(90621),l=i(93341),d=i(23500),s=i(43271),u=i(58632),c=i(24643),h=i(15022),p=i(44960),m=i(19310);const v=(0,r.forwardRef)(((e,t)=>{const{defaultVolume:i,defaultMuted:o,onVolumeChange:n,onMutedChange:a,showVolumeIcon:l}=e,d=(0,r.useRef)(null),{xgplayer:s,mutedPlay:u,handlePlayerDestroy:v}=(0,h.F)(Object.assign(Object.assign({},e),{playerContainerRef:d}));return(0,r.useImperativeHandle)(t,(()=>({destroy:()=>{v()},retry:()=>{var e;null===(e=s.current)||void 0===e||e.retry()}}))),(0,c.jsx)(m.S1,{ref:d,children:(0,c.jsx)(m.jw,{children:(0,c.jsx)(p.b,{xgplayer:s,visible:l,defaultVolume:i,defaultMuted:o,mutedPlay:u,onVolumeChange:n,onMutedChange:a})})})}));var g=i(84642),f=i(42713),b=i(62186);const y=(0,b.default)("div",{target:"e1itz5kg0"})({width:"100%",height:"100%",zIndex:0,position:"relative"},"label:DivSearchPlayer;"),x=(0,r.memo)((e=>{const{visible:t=!0,teaParams:i}=e,o=(0,u.__rest)(e,["visible","teaParams"]),{handlePlayerClick:n}=function(e=!0,t){const i=(0,r.useRef)(!1),o=(0,r.useRef)(0),n=(0,r.useRef)(t),a=(0,r.useRef)("automatic");n.current=t,(0,r.useEffect)((()=>{n.current&&f.lu.handleLiveShow(Object.assign({action_type:"click"},n.current))}),[]);const l=(0,r.useCallback)((()=>{const e=Date.now()-o.current;e>0&&o.current>0&&n.current&&(f.lu.handleLiveWindowDuration(Object.assign(Object.assign({action_type:"click",duration:e},n.current),{play_type:a.current})),o.current=Date.now())}),[]);return(0,r.useEffect)((()=>{!i.current&&e&&(n.current&&(a.current=n.current.play_type),o.current=Date.now());const t=Date.now()-o.current;n.current&&i.current&&!e&&t>0&&o.current>0&&(f.lu.handleLiveWindowDuration(Object.assign(Object.assign({action_type:"click",duration:t},n.current),{play_type:a.current})),o.current=Date.now()),i.current=e}),[e]),{handlePlayerClick:l}}(t,i),a=(0,g.C)({handleParentPlayError:o.onPlayError}),l=(0,r.useCallback)((()=>{n()}),[n]);return(0,c.jsx)(y,{onClick:l,children:t?(0,c.jsx)(v,Object.assign({},a,o)):null})}));var _=i(25616),w=i(82858),k=i(72153),C=i(84987);const I={id:"person-fill-fca39243",use:"person-fill-fca39243-usage",viewBox:"0 0 10 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" id="person-fill-fca39243"><path d="M5 .25a2.75 2.75 0 1 0 0 5.5 2.75 2.75 0 0 0 0-5.5M1.622 10.5c-.449 0-.802-.396-.662-.822a4.252 4.252 0 0 1 8.08 0c.14.426-.213.822-.662.822z" clip-rule="evenodd" /></symbol>'};function T(e){const t=(0,r.useContext)(C.X);return(0,r.useLayoutEffect)((()=>(t.add(I),()=>{t.remove("person-fill-fca39243")})),[]),(0,c.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,c.jsx)("use",{xlinkHref:"#person-fill-fca39243"},void 0)}),void 0)}const D={id:"thumbs-up-fill-af859b0b",use:"thumbs-up-fill-af859b0b-usage",viewBox:"0 0 10 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" id="thumbs-up-fill-af859b0b"><path d="M6.512 3.784V2.036c0-.51-.272-.957-.677-1.203-.395-.239-.842-.006-1.029.417L3 4.625v5.5c0 .069.056.125.125.125h5.29a.93.93 0 0 0 .931-.796l.643-4.469a.94.94 0 0 0-.218-.755.93.93 0 0 0-.713-.321H6.637a.125.125 0 0 1-.125-.125m-4.387.824c.069 0 .125.056.125.125v5.392a.125.125 0 0 1-.125.125h-.823A1.05 1.05 0 0 1 .25 9.326V5.584c.07-.537.523-.985 1.052-.976z" /></symbol>'};function L(e){const t=(0,r.useContext)(C.X);return(0,r.useLayoutEffect)((()=>(t.add(D),()=>{t.remove("thumbs-up-fill-af859b0b")})),[]),(0,c.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,c.jsx)("use",{xlinkHref:"#thumbs-up-fill-af859b0b"},void 0)}),void 0)}var j;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(j||(j={}));const P=(0,b.default)("div",{target:"ej426ge0"})((({theme:{direction:e,fontFamilies:t,fontWeights:i}})=>[{position:"absolute",height:"17px",display:"flex",alignItems:"center",fontFamily:t.TikTokFont,fontWeight:i.semiBold,top:"8px",zIndex:10},(0,k.mp)({direction:e,start:"8px"})]),"label:LiveTag;"),S=(0,b.default)("div",{target:"ej426ge1"})((({position:e})=>[{padding:"0 4px",height:"17px",display:"flex",alignItems:"center"},0===e?{background:"linear-gradient(131.17deg, #ff1764 0%, #ed3495 94.15%)",borderBottomLeftRadius:"2px",borderTopLeftRadius:"2px"}:{background:"rgba(37, 37, 37, 0.6)",borderBottomRightRadius:"2px",borderTopRightRadius:"2px"}]),"label:LiveTextWrap;"),Y=(0,b.default)("div",{target:"ej426ge2"})((({theme:{direction:e}})=>[{color:"#fff",textAlign:"center"},(0,k.mp)({direction:e,marginStart:"2px"})]),"label:LiveText;"),O={width:"12px",height:"12px",color:"#fff"},E=(0,b.default)(L,{target:"ej426ge5"})(O,"label:IconThumbsUp;"),M=(0,b.default)(T,{target:"ej426ge6"})(O,"label:IconPerson;");function F(e=0){return e<1e3?e.toString():e<1e5?`${(e/1e3).toFixed(1)}K`:e<1e6?`${(e/1e3).toFixed(0)}K`:`${(e/1e6).toFixed(1)}M`}const B=(0,r.memo)((function({live:e}){const{user_count:t=0,like_count:i=0}=e,n=(0,_.s)();let r=M,a=F(t);+t<=50&&i>t&&(r=E,a=F(i));const l=(0,w.Eo)();return(0,o.FD)(P,{children:[(0,o.Y)(S,{position:0,children:(0,o.Y)(Y,{children:n("pm_main_live_entry_final")})}),!l&&(0,o.FD)(S,{position:1,children:[(0,o.Y)(r,{}),(0,o.Y)(Y,{children:a})]})]})})),W=(0,b.default)("div",{target:"e1474lcs0"})((({horizontal:e,mode:t,theme:{colors:i}})=>[{width:"100%",height:"100%",overflow:"hidden",position:"relative",backgroundColor:i.BGPlaceholderDefault,backgroundSize:e?"contain":"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},1===t?{display:"flex",alignItems:"center",justifyContent:"center",backgroundSize:"cover"}:null]),"label:DivLink;"),R=(0,b.default)("img",{target:"e1474lcs1"})({width:"100%",height:"100%",objectFit:"cover"},"label:ImgPoster;"),V=(0,b.default)("div",{target:"e1474lcs2"})((({horizontal:e=!0,show:t=!1})=>({position:"absolute",left:0,top:0,width:"100%",height:"100%","& .xgplayer video":{display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"},zIndex:1,opacity:t?1:0,transition:"opacity 0.5s"})),"label:DivBasicPlayerWrapper;");var A=i(54039);const N=(0,r.memo)((function({id:e,mode:t,searchType:i,search_result_id:u,searchTopCardType:c}){var h,p,m,v,g;const{live:f}=(0,n.P)(a.d,{selector:t=>({live:t[e]}),dependencies:[e]}),b=null===(p=null===(h=f.square_cover_img)||void 0===h?void 0:h.url_list)||void 0===p?void 0:p[0],[y,_]=(0,r.useState)(null!==(g=null!=b?b:null===(v=null===(m=f.cover)||void 0===m?void 0:m.url_list)||void 0===v?void 0:v[0])&&void 0!==g?g:""),{currentVideo:w,playType:k}=(0,l.MY)(),[C,I]=(0,r.useState)(!1),T=(0,d.t4)(),{keyword:D,rid:L}=(0,n.P)(s.tq,{selector:e=>e[i],dependencies:[i]}),{isVertical:j}=(0,A.TS)(f),{streamData:P}=(0,r.useMemo)((()=>(0,A.XA)(f)),[f]),S=(0,r.useMemo)((()=>{var e,t,i,o,n;const{sd:r,hd:a,uhd:l,origin:d}=null!==(e=P.data)&&void 0!==e?e:{};return null!==(n=null===(o=null!==(i=null!==(t=null!=r?r:a)&&void 0!==t?t:l)&&void 0!==i?i:d)||void 0===o?void 0:o.main.flv)&&void 0!==n?n:""}),[P.data]),Y=(0,r.useMemo)((()=>{var e;return null===(e=P.common)||void 0===e?void 0:e.drm_secret_key}),[P.common]),O=(0,r.useMemo)((()=>{if(!w)return!1;const{id:i,mode:o}=w,n=i===e&&o===t;return n||I(!1),n}),[e,t,w]),E=(0,r.useCallback)((()=>{I(!0)}),[]),M=(0,r.useMemo)((()=>{var e;return{enter_from_merge:"live"===i?"search_result":"general_search",enter_method:20===c?"live_cover":"live_cell",room_id:f.id_str,anchor_id:null===(e=f.owner)||void 0===e?void 0:e.id_str,search_type:"live"===i?"live":"general",search_id:L,search_result_id:null!=u?u:f.id_str,search_keyword:D,play_type:k}}),[D,f,k,L,c,i,u]),F=(0,r.useCallback)((()=>{var e,t,i,o,n;const r=null!==(i=null===(t=null===(e=f.square_cover_img)||void 0===e?void 0:e.url_list)||void 0===t?void 0:t[1])&&void 0!==i?i:null===(n=null===(o=f.cover)||void 0===o?void 0:o.url_list)||void 0===n?void 0:n[1];_(null!=r?r:"")}),[f]);return(0,o.FD)(W,{mode:t,horizontal:!j,children:[y?(0,o.Y)(R,{mode:2,src:y,alt:f.title,loading:"lazy",onError:F}):null,(0,o.Y)(V,{horizontal:!j,"data-e2e":"browse-live-player",show:O&&C,children:(0,o.Y)(x,{visible:O,defaultVolume:0,showVolumeIcon:!1,defaultMuted:!0,playing:!0,autoInit:!0,autoplay:!0,autoMutedPlay:!0,url:S,drmSecretKey:Y,onLoadedData:E,teaParams:M,loggerConfig:T})}),(0,o.Y)(B,{live:f})]})}))},54039:(e,t,i)=>{var o,n;function r(e){var t,i,o,n,r;try{const a={common:{},data:{}},l=e?JSON.parse(null!==(n=null===(o=null===(i=null===(t=e.stream_url)||void 0===t?void 0:t.live_core_sdk_data)||void 0===i?void 0:i.pull_data)||void 0===o?void 0:o.stream_data)&&void 0!==n?n:""):{};if(a.common=l.common,l.data)for(const e in l.data){if(l.data[e].main){const t=JSON.parse(l.data[e].main.sdk_params);a.data[e]={},a.data[e].main=l.data[e].main,a.data[e].main.sdk_params=t}if(l.data[e].backup){const t=JSON.parse(l.data[e].backup.sdk_params);a.data[e]=null!==(r=a.data[e])&&void 0!==r?r:{},a.data[e].backup=l.data[e].backup,a.data[e].backup.sdk_params=t}}return{streamData:a}}catch(e){return{streamData:{}}}}i.d(t,{TS:()=>a,XA:()=>r}),function(e){e.H264="h264",e.Bytevc1="bytevc1",e.H265="h265"}(o||(o={})),function(e){e.LD="ld",e.SD="sd",e.HD="hd",e.HD60="hd_60",e.UHD="uhd",e.UHD60="uhd_60",e.ORIGIN="origin",e.AUTO="auto"}(n||(n={}));const a=e=>{var t,i,o,n,a;const{streamData:l}=r(e),d=null!==(a=null===(n=null===(o=null===(i=null===(t=l.data)||void 0===t?void 0:t.origin)||void 0===i?void 0:i.main)||void 0===o?void 0:o.sdk_params)||void 0===n?void 0:n.resolution)&&void 0!==a?a:"1920x1080",[s,u]=d.split("x");return s&&u?{isVertical:Number(s)<Number(u),width:Number(s),height:Number(u),ratio:Number(s)/Number(u),ratioStr:`${s}/${u}`}:{}}},92060:(e,t,i)=>{i.d(t,{Bp:()=>u,Gj:()=>g,OW:()=>v,Yb:()=>c,mp:()=>m,vT:()=>f,xk:()=>s});var o=i(62186),n=i(80074),r=i(91842),a=i(20986),l=i(7713),d=i(72153);const s=(0,o.default)("div",{target:"e148ts220"})((({notPass:e})=>[{position:"absolute",width:"100%",bottom:"0",height:e?"100%":"100px",background:e?"rgba(18, 18, 18, .5)":"linear-gradient(180deg, rgba(22, 24, 35, .0001) 2.92%, rgba(22, 24, 35, .5) 98.99%)",padding:"67px 13px 17px",paddingTop:e?"100%":"67px"},(0,d.jJ)({max:479,style:e?null:{paddingTop:"72px"}})]),"label:DivCardFooter;"),u=(0,o.default)("span",{target:"e148ts221"})((({theme:e})=>[(0,d.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"},(0,d.jJ)({max:479,style:{fontSize:"14px",lineHeight:"18px"}})]),"label:SpanNotPass;"),c=(0,o.default)("strong",{target:"e148ts222"})((({theme:e})=>[(0,d.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"}]),"label:StrongVideoCount;"),h=({theme:{direction:e}})=>[(0,d.mp)({direction:e,marginEnd:4}),{verticalAlign:"middle"},(0,d.jJ)({max:479,style:{verticalAlign:"-.15em"}})],p=({theme:{direction:e}})=>({float:(0,d.t7)(e,"end"),position:"relative",top:"4px"}),m=(0,o.default)(n.A,{target:"e148ts223"})(h,"label:StyledHeart;"),v=(0,o.default)(r.A,{target:"e148ts225"})(h,"label:StyledPlay;"),g=(0,o.default)(a.A,{target:"e148ts226"})(p,"label:StyledLock3pt;"),f=(0,o.default)(l.A,{target:"e148ts227"})(p,"label:StyledTwoPerson;")},80958:(e,t,i)=>{i.d(t,{Y:()=>b});var o=i(2787),n=i(40099),r=i(73580),a=i(11654),l=i(42357),d=i(43626),s=i(2853),u=i(32545),c=i(28138),h=i(62186);const p=(0,h.default)("div",{target:"e1id08p20"})({top:0,left:0,width:"100%",height:"100%",position:"absolute"},"label:DivGifPlayerContainer;"),m=(0,h.default)("div",{target:"e1id08p21"})({top:0,left:0,width:"100%",height:"100%",position:"absolute"},"label:DivGifContainer;");var v=i(32125),g=i(93608),f=i(70925);const b=(0,n.memo)((({item:e,horizontal:t,mode:i,posterConfig:h,teaParams:b})=>{const{currentItemId:y}=(0,c.yQ)((e=>e),v.bN),x=(0,r.Nj)(a.V$),{armCoreContentEvent:_}=(0,n.useContext)(l.e),w=(0,n.useCallback)((()=>{null==_||_(),x.reportActualFMP()}),[_,x]),k=t||2===i||3===i||4===i||6===i||5===i,C=(0,f.y)(e),{isBrowserModeShowing:I}=(0,n.useContext)(d.g);return(0,n.useEffect)((()=>{if((null==e?void 0:e.id)&&e.id===y&&!I){const e={group_id:b.group_id,author_id:b.author_id,play_mode:i};g.f.event("preview_video_play",Object.assign(Object.assign({},e),{has_gif:C.has_gif}));const t=Date.now();return()=>{const i=Date.now()-t;g.f.event("preview_play_time",Object.assign(Object.assign({},e),{duration:i}))}}}),[null==e?void 0:e.id,y,i,b.group_id,b.author_id,C.has_gif,I]),e?(0,o.FD)(p,{children:[(null==h?void 0:h.poster)&&(0,o.Y)(s.R,{horizontal:k,mode:i,src:h.poster,alt:h.desc,loading:h.lazyLoading?"lazy":"eager",style:h.style,onLoad:w}),!(null==h?void 0:h.poster)&&(null==h?void 0:h.videoCover)&&(0,o.Y)(u.x,{video:h.videoCover,objectFit:k?"contain":"cover",style:h.style,alt:h.desc,onLoad:w}),e.id===y&&(0,o.Y)(m,{children:(0,o.Y)(u.x,{video:e.video,useDynamic:!0,alt:null==h?void 0:h.desc})})]}):null}))},70925:(e,t,i)=>{i.d(t,{t:()=>l,y:()=>d});var o=i(88920),n=i(40099),r=i(28138);const a=[8,1,105,106,107,19,3,4,104,124,122],l=e=>{const t=(0,o._Y)(),i=(0,r.tf)(),l=(0,n.useCallback)((e=>i.setCurrentItemId(e)),[i]);return{inGifPlayerExperiment:(0,n.useMemo)((()=>t&&a.includes(e)),[t,e]),setGifPlayerItemId:l}},d=e=>{const t=(0,o._Y)();return(0,n.useMemo)((()=>t&&e?{has_gif:e.video.dynamicCover===e.video.cover||e.video.dynamicCover===e.video.originCover?"0":"1"}:{}),[t,e])}},28138:(e,t,i)=>{i.d(t,{tf:()=>l,yQ:()=>d});var o=i(71111),n=i(31209);const r=(0,o.atom)({currentItemId:""}),{useAtomService:a,useServiceDispatchers:l,useServiceState:d,getStaticApi:s}=(0,n.i)(r,((e,t)=>({setCurrentItemId(e){t(r,{currentItemId:e})}})))},99334:(e,t,i)=>{i.d(t,{g4:()=>Qt});var o=i(2787),n=i(40099),r=i(67518),a=i(10084),l=i(92067),d=i(16537),s=i(60484),u=i(53438),c=i(88920),h=i(63363),p=i(49057),m=i(71281),v=i(67169),g=i(90621),f=i(59952),b=i(29793),y=i(93341),x=i(19442),_=i(43626),w=i(25616),k=i(17566),C=i(78208),I=i(72688),T=i(31344),D=i(58305),L=i(45297),j=i(90217),P=i(39743),S=i(48180),Y=i(76497),O=i(24643),E=i(15046),M=i(62186);const F=(0,M.default)("div",{target:"e1ario2k0"})((({padding:e,theme:{direction:t}})=>({position:"absolute",top:0,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:null!=e?e:".5rem",direction:t,zIndex:1})),"label:DivHeaderContainer;"),B=(0,M.default)("div",{target:"e1ario2k1"})((({theme:{direction:e}})=>({display:"flex",alignItems:"center",justifyContent:"flex-start",direction:e})),"label:DivLeftSection;"),W=(0,M.default)("div",{target:"e1ario2k2"})((({theme:{direction:e}})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",direction:e})),"label:DivRightSection;"),R=(0,n.memo)((function({left:e,right:t}){return(0,O.jsxs)(F,{children:[e&&(0,O.jsx)(B,{children:e}),t&&(0,O.jsx)(W,{children:t})]})})),V=(0,n.memo)((function({videoData:e,pageType:t,itemListKey:i,sortType:o}){const n=(0,w.s)();if(!(0,u.n5)(e,"user-post"===i&&1!==o&&2!==o))return null;const r=1===t&&(0,O.jsx)(E.F,{children:n("profile_page_pin",{},"Pinned")});return(0,O.jsx)(R,{left:r})}));var A=i(84987);const N={id:"eye-slash-dc48f765",use:"eye-slash-dc48f765-usage",viewBox:"0 0 48 48",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="eye-slash-dc48f765"><path fill="#fff" fill-rule="evenodd" d="M37.176 41.474a.746.746 0 0 0 1.058-.011l1.738-1.787a.755.755 0 0 0-.012-1.063L7.319 6.526a.745.745 0 0 0-1.058.012L4.523 8.324a.755.755 0 0 0 .012 1.064l4.777 4.696c-3.19 2.484-5.132 5.777-5.132 9.388 0 7.737 8.914 14.01 19.91 14.01 2.794 0 5.454-.406 7.868-1.137l5.218 5.13zM17.292 21.928l-5.098-5.011c-2.797 2.004-4.032 4.377-4.032 6.555 0 2.204 1.264 4.609 4.133 6.627 2.856 2.01 7.013 3.38 11.795 3.38 1.583 0 3.098-.15 4.52-.425l-2.832-2.784a7 7 0 0 1-1.688.207c-3.849 0-6.968-3.136-6.968-7.005q.001-.797.17-1.544" clip-rule="evenodd" /><path fill="#fff" d="M15.88 10.706c2.503-.798 5.283-1.242 8.21-1.242C35.086 9.464 44 15.735 44 23.472c0 3.707-2.046 7.076-5.386 9.582l-2.891-2.843.162-.112c2.868-2.018 4.133-4.423 4.133-6.627s-1.265-4.608-4.133-6.626c-2.856-2.01-7.014-3.38-11.795-3.38a23.8 23.8 0 0 0-4.894.5z" /><path fill="#fff" d="M24.09 16.468c-.709 0-1.393.106-2.038.304l8.747 8.599c.17-.604.26-1.24.26-1.899 0-3.868-3.12-7.004-6.969-7.004" /></symbol>'};function q(e){const t=(0,n.useContext)(A.X);return(0,n.useLayoutEffect)((()=>(t.add(N),()=>{t.remove("eye-slash-dc48f765")})),[]),(0,O.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,O.jsx)("use",{xlinkHref:"#eye-slash-dc48f765"},void 0)}),void 0)}var U=i(41271),$=i(46682),z=i(73580),H=i(93608),G=i(15343),K=i(38739),Q=i(65365),J=i(69617),Z=i(48578),X=i(95873),ee=i(11983),te=i(60072),ie=i(77170),oe=i(84908),ne=i(93751),re=i(36764),ae=i(16680),le=i(20024),de=i(80635),se=i(66994),ue=i(28369),ce=i(68572),he=i(65444),pe=i(6990),me=i(50362),ve=i(25778),ge=i(37758),fe=i(4408),be=i.n(fe);function ye(e,t,i,o=!1,n=!1){const r="JP"===e||n;return{showLike:r,count:o?t:r||n?i:t}}var xe,_e=i(67963),we=i(82535),ke=i(29098),Ce=i(72153),Ie=i(92846);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INSIDE=1]="INSIDE"}(xe||(xe={}));const Te=(0,M.default)("div",{target:"exdlci10"})((({type:e,showMuteIcon:t})=>[{display:"flex",alignItems:"center",overflow:"hidden",marginTop:"2px"},1===e?{position:"absolute",bottom:"0",boxSizing:"border-box",width:"100%",height:"60px",background:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(0, 0, 0, .5) 100%)",marginTop:"0",padding:t?"24px 36px 12px 12px":"24px 12px 12px"}:null]),"label:DivCardAvatar;"),De=(0,M.default)(Ie.e,{target:"exdlci11"})({flex:"none"},"label:StyledAvatar;"),Le=(0,M.default)(_e.N_,{target:"exdlci12"})({overflow:"hidden"},"label:StyledLink;"),je=(0,M.default)(ke.A,{target:"exdlci13"})((({theme:{direction:e}})=>[{flex:"none"},(0,Ce.mp)({direction:e,marginStart:4})]),"label:StyledVerifiedBadgeColor;"),Pe=(0,M.default)("h4",{target:"exdlci14"})((({theme:{colors:e,direction:t},type:i})=>[{display:"flex",alignItems:"center",fontSize:"16px",lineHeight:"22px",color:1===i?e.BGPrimary:e.TextSecondary,whiteSpace:"nowrap",overflow:"hidden",":hover":{textDecoration:"underline"}},(0,Ce.mp)({direction:t,marginStart:1===i?4:8})]),"label:H4UserTitle;"),Se=(0,M.default)("p",{target:"exdlci15"})((({theme:e,type:t})=>[(0,Ce.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:1===t?"semiBold":"normal"}),{flex:"1",overflow:"hidden",textOverflow:"ellipsis",color:"rgba(255,255,255,1.0)"}]),"label:PUserName;"),Ye=(0,n.memo)((function({videoData:e,teaParams:t,e2ePrefix:i,type:r=0,showMuteIcon:a=!1}){var l;const{language:d}=null!==(l=(0,p.W)((()=>["language"]),[]))&&void 0!==l?l:{},{author:u,id:c}=null!=e?e:{},h=(0,oe.nW)((e=>{var t;if(u)return null===(t=e.users)||void 0===t?void 0:t[u]})),{uniqueId:m="",secUid:v,avatarThumb:g,verified:f,nickname:b}=(0,s.L$)(h),y=`${(0,I.fJR)({uniqueId:m,secUid:null!=v?v:""})}?lang=${d}`,x=(0,n.useCallback)((e=>i=>{null==i||i.stopPropagation(),we.q.handleEnterUser(Object.assign(Object.assign({},t),{enter_method:e,to_user_id:u,group_id:c,author_id:u}))}),[u,c,t]);return(0,o.FD)(Te,{type:r,showMuteIcon:a,children:[(0,o.Y)(_e.N_,{"data-e2e":`${i}-item-avatar`,to:y,onClick:x("user_portrait"),children:(0,o.Y)(De,{src:g,size:24,alt:`${b},${m}`})}),(0,o.Y)(Le,{title:m,onClick:x("user_name"),to:y,children:(0,o.FD)(Pe,{type:r,children:[(0,o.Y)(Se,{"data-e2e":`${i}-item-username`,className:"user-name",type:r,children:m}),f&&(0,o.Y)(je,{width:14,height:14})]})})]})}));var Oe=i(82858),Ee=i(92060);const Me=(0,n.memo)((function({videoData:e,content:t,prioritizeLike:i}){var n;const r=(0,w.s)(),{region:a=""}=null!==(n=(0,p.W)((()=>["region"]),[]))&&void 0!==n?n:{},{secret:l,forFriend:d,showNotPass:u,scheduleTime:c}=(0,s.L$)(e),{diggCount:h,playCount:m}=(0,ie.D)(e),v=(0,s.D1)(h),g=(0,s.D1)(null!=m?m:0),{showLike:f,count:b}=ye(a,g,v,!1,i),y=(0,Oe.Eo)();return t?(0,o.Y)(Ee.xk,{notPass:u,children:t}):(0,o.Y)(Ee.xk,{notPass:u,children:c?null:u?(0,o.Y)(Ee.Bp,{children:r("cover_notice_violation")}):(0,o.FD)(o.FK,{children:[!y&&(0,o.FD)(o.FK,{children:[f?(0,o.Y)(Ee.mp,{className:"like-icon",width:18,height:18,fill:"#fff"}):(0,o.Y)(Ee.OW,{"data-e2e":"video-play",className:"like-icon",width:18,height:18,fill:"#fff"}),(0,o.Y)(Ee.Yb,{"data-e2e":"video-views",className:"video-count",children:b})]}),l&&!d&&(0,o.Y)(Ee.Gj,{className:"private",width:18,height:18,fill:"#fff"}),d&&(0,o.Y)(Ee.vT,{className:"private",width:18,height:18,fill:"#fff"})]})})}));var Fe=i(31918),Be=i(38401),We=i(80574),Re=i(85041),Ve=i(32125);const Ae=(0,M.default)("div",{target:"ewsiauk0"})((({disable:e,withBack:t})=>[e&&{pointerEvents:"none"},t&&{padding:"4px 12px"}]),"label:DivVideoExploreCardDesc;"),Ne=(0,M.default)("div",{target:"ewsiauk1"})((({ellipsisLine:e})=>[(0,Ce.m4)(e),{marginTop:"4px",wordBreak:"break-word",cursor:"pointer"}]),"label:DivMetaCaptionLine;"),qe=(0,M.default)("div",{target:"ewsiauk2"})((({theme:e})=>[(0,Ce.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{paddingTop:"4px",paddingBottom:"8px"}]),"label:DivCardBottomInfo;"),Ue=(0,M.default)("div",{target:"ewsiauk3"})((({theme:e})=>[(0,Ce.zy)({theme:e,typography:"P2",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"}]),"label:DivPlayLine;"),$e=(0,M.default)("div",{target:"ewsiauk4"})({display:"flex",alignItems:"center",overflow:"hidden"},"label:DivUserInfo;"),ze=(0,M.default)("p",{target:"ewsiauk5"})((({theme:{direction:e}})=>[(0,Ce.mp)({direction:e,marginStart:"4px",marginEnd:"4px"}),{direction:"ltr",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis"}]),"label:PUniqueId;"),He=(0,M.default)("div",{target:"ewsiauk6"})((({theme:{colors:e},isOnCard:t})=>({fontSize:"16px",fontWeight:600,color:t?"white":e.TextTertiaryAlt})),"label:DivExploreCardText;"),Ge=(0,M.default)("div",{target:"ewsiauk7"})((({theme:{direction:e}})=>({display:"flex",alignItems:"center",flexShrink:0,cursor:"pointer","& > svg":Object.assign({fontSize:"20px"},(0,Ce.mp)({direction:e,marginEnd:"2px"}))})),"label:DivIconText;"),Ke=(0,n.memo)((function({author:e}){const t=(0,oe.nW)((t=>t.users[e]),Ve.bN),{avatarThumb:i="",uniqueId:r="",verified:a=!1,secUid:l}=(0,s.L$)(t),d=(0,n.useMemo)((()=>{var e;return{to_user_id:null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"",enter_method:"click_category_video_user_name"}}),[null==t?void 0:t.id]),u=(0,c.k0)(),{withCreator:h}=(0,c.Ry)(!0);if("v4"===u&&!h)return null;const p=(0,o.FD)(Re.E,{"data-e2e":"explore-card-user-link",uniqueId:r,secUid:l,teaParams:Object.assign(Object.assign({},d),{enter_method:"click_category_video_user_icon"}),children:[(0,o.Y)(Ie.e,{style:{flexShrink:0},src:i,shape:"circle",size:24})," "]}),m=(0,o.Y)(Re.E,{"data-e2e":"explore-card-user-link",uniqueId:r,secUid:l,teaParams:d,style:{overflow:"hidden"},children:(0,o.Y)(ze,{"data-e2e":"explore-card-user-unique-id",children:r})});return(0,o.FD)($e,{children:[p,m,a&&(0,o.Y)(We.A,{"data-e2e":"explore-card-user-verified",style:{flexShrink:0},width:14,height:14})]})}));var Qe=i(80667);const Je=(0,n.memo)((function({count:e,onClick:t}){const i=(0,Oe.Eo)();return(0,o.FD)(Ge,{"data-e2e":"explore-card-like-container",onClick:t,children:[(0,o.Y)(Qe.A,{}),(0,o.Y)("span",{children:i?"":(0,s.D1)(e)})]})})),Ze=(0,n.memo)((function({videoData:e,onClick:t,onMouseEnter:i,onLikeClick:n}){const r=(0,s.L$)(e),{scheduleTime:a,author:l=""}=r,{diggCount:d}=(0,ie.D)(e),u=2===(null==e?void 0:e.adLabelVersion),h=(0,c.k0)(),{isClearUI:p,withDes:m,withBack:v}=(0,c.Ry)(!0);let g=(0,o.Y)(Je,{count:d,onClick:n});return"v4"===h&&(g=null),p?null:(0,o.Y)(Ae,{"data-e2e":"explore-card-desc",withBack:v,disable:!!a,children:(0,o.FD)(qe,{children:[m&&(0,o.Y)(Ne,{ellipsisLine:u||v?1:2,onClick:null==t?void 0:t("video_desc"),onMouseEnter:null==i?void 0:i("hover_cover"),"data-e2e":"explore-card-video-caption",children:(0,o.Y)(Fe.g,{item:e,ellipsisOnNarrow:!0,styleType:"explore"})}),(0,o.Y)(Be.P,{item:r}),a?null:(0,o.FD)(Ue,{children:[(0,o.Y)(Ke,{author:l}),(0,o.Y)(He,{isOnCard:!1,children:g})]})]})})}));var Xe=i(63185),et=i(69843);const tt=(0,n.memo)((function({count:e}){return(0,o.FD)(Ge,{"data-e2e":"explore-card-view-container",children:[(0,o.Y)(et.A,{}),(0,o.Y)("span",{children:(0,s.D1)(e)})]})})),it=(0,n.memo)((function({videoData:e}){const{diggCount:t,playCount:i}=(0,ie.D)(e),{isClearUI:n,withLike:r,withNoLeftInfo:a}=(0,c.Ry)(!0),l=(0,Oe.Eo)(),d=n||a?null:r?(0,o.Y)(Je,{count:t}):(0,o.Y)(tt,{count:i});return(0,o.Y)(Xe.vb,{"data-e2e":"explore-card-info",children:(0,o.Y)(He,{"data-e2e":"explore-card-info-left",isOnCard:!0,children:!l&&d})})}));var ot=i(46803);const nt=(e,t=!0)=>{const{timeTranslator:i}=(0,ot.T)(),{createTime:n}=null!=e?e:{},r=i(1e3*Number(n));return(0,o.Y)(Xe.Jd,{onVideo:t,children:r})};var rt=i(92839);const at=(0,M.default)("a",{target:"epeqwgm0"})({display:"block",marginTop:"4px",":hover":{textDecoration:"none"}},"label:AMetaCaptionLine;"),lt=(0,M.default)("div",{target:"epeqwgm1"})((({theme:e})=>[(0,Ce.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{padding:"2px 4px 0px",cursor:"hover",height:"28px",overflow:"hidden",boxSizing:"content-box"}]),"label:DivQuestionCardDesc;"),dt={enter_method:"video_desc"},st=(0,n.memo)((function(e){var t,i,n;const{videoData:r,mode:a}=e,{user:l}=(0,s.L$)((0,p.W)((()=>["user"]),[])),d=null==l?void 0:l.ftcUser,u=(0,c.tj)(),{scheduleTime:h,warnInfo:m=[]}=(0,s.L$)(r),{questionInfo:v}=(0,U.P)(rt.B,{selector:e=>({questionInfo:e.questionInfo}),dependencies:[]}),g=!u&&m&&m.length>0,{content:f="",id:b=""}=(0,s.L$)(v),y=`https://www.tiktok.com${(0,I.WDv)({questionId:b,questionContent:f})}`,x=Boolean(h||d);return g?null:(0,o.Y)(lt,{onClick:null===(t=e.onClick)||void 0===t?void 0:t.call(e,"click_blank"),onMouseEnter:null===(i=e.onMouseEnter)||void 0===i?void 0:i.call(e,"hover_blank"),children:(0,o.Y)(at,{"data-e2e":"question-item-caption",onClick:null===(n=e.onClick)||void 0===n?void 0:n.call(e,"video_desc"),title:null==r?void 0:r.desc,href:y,children:(0,o.Y)(Fe.g,{mode:a,ellispsisLine:1,styleType:"question",item:r,ellipsisOnNarrow:!0,reportParams:dt,shouldReport:x})})})}));var ut=i(57432),ct=i.n(ut),ht=i(51664),pt=i(52333),mt=i(96689),vt=i(80074),gt=i(91842),ft=i(6985);const bt=(0,M.default)("div",{target:"etrd4pu0"})((({disable:e})=>({pointerEvents:e?"none":"auto",padding:"0 8px"})),"label:DivVideoSearchCardDesc;"),yt=(0,M.default)("div",{target:"etrd4pu1"})([(0,Ce.m4)(2),{marginTop:"4px",wordBreak:"break-word",cursor:"pointer"}],"label:DivMetaCaptionLine;"),xt=(0,M.default)("div",{target:"etrd4pu2"})((({theme:e})=>[(0,Ce.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{paddingTop:"4px",paddingBottom:"26px"}]),"label:DivCardBottomInfo;"),_t=(0,M.default)("div",{target:"etrd4pu3"})((({theme:e})=>[(0,Ce.zy)({theme:e,typography:"P2",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"4px"}]),"label:DivPlayLine;"),wt=(0,M.default)("div",{target:"etrd4pu4"})({display:"flex",alignItems:"center",flexShrink:0},"label:DivPlayIcon;"),kt=({theme:{direction:e}})=>[{verticalAlign:"middle"},(0,Ce.mp)({direction:e,marginEnd:4})],Ct=(0,M.default)("div",{target:"etrd4pu5"})({display:"flex",alignItems:"center"},"label:DivUserInfo;"),It=(0,M.default)("p",{target:"etrd4pu6"})((({theme:{direction:e}})=>[(0,Ce.mp)({direction:e,marginStart:"4px",marginEnd:"4px"}),{maxWidth:"100px",overflow:"hidden",textOverflow:"ellipsis"}]),"label:PUniqueId;"),Tt=(0,M.default)(vt.A,{target:"etrd4pu7"})(kt,"label:StyledHeart;"),Dt=(0,M.default)(ft.A,{target:"etrd4pu8"})(kt,"label:StyledHeartFill;"),Lt=(0,M.default)(gt.A,{target:"etrd4pu9"})(kt,"label:StyledPlay;"),jt=(0,M.default)("strong",{target:"etrd4pu10"})({fontWeight:"normal"},"label:StrongVideoCount;"),Pt=(0,n.memo)((function({videoData:e,reportParams:t,onClick:i,onMouseEnter:a,onReportClick:l,hasPlayInfo:d=!0,id:u}){var h;const m=(0,w.s)(),v=(0,s.L$)(e),{scheduleTime:g,id:f="",digged:b,author:y=""}=v,x=(0,oe.nW)((e=>e.users[y]),Ve.bN),{withLikeAndCreator:_,removeDesc:k,withOneLineDesc:C,withPublishTime:I}=(0,c.y9)(),T=(0,Oe.Eo)(),{avatarThumb:D="",uniqueId:L="",verified:j=!1,secUid:P,nickname:S}=(0,s.L$)(x),Y=(0,ht.AL)(Object.assign({user:x,enterMethod:"click_search_result"},t)),{region:O=""}=null!==(h=(0,p.W)((()=>["region"]),[]))&&void 0!==h?h:{},{diggCount:E,playCount:M}=(0,ie.D)(e),F=(0,s.D1)(E),B=(0,s.D1)(M),{showLike:W,count:R}=ye(O,B,F),V=(0,$.w)(pt.k),A=(0,n.useCallback)((()=>{V.postLikeVideo(Object.assign({id:f,enter_method:"click",channel_id:23},t))}),[f,V,t]),N=(0,mt.G)({actionWhenUserLoggedIn:W?A:ct(),modalConfig:{query:{enter_method:"click_like",redirect_url:window.location.href,group_id:f}}}),q=(0,n.useCallback)((()=>{null==l||l()}),[l]),{colors:U}=(0,r.u)(),z=nt(e,!I);return(0,o.Y)(bt,{"data-e2e":"search-card-desc",disable:g,children:(0,o.FD)(xt,{children:[!k&&(0,o.Y)(yt,{onClick:null==i?void 0:i("video_desc"),onMouseEnter:null==a?void 0:a("hover_cover"),"data-e2e":"search-card-video-caption",children:(0,o.Y)(Fe.g,{item:e,ellipsisOnNarrow:!0,reportParams:t,onSearchResultClick:l,ellipsisLine:C?1:0})}),(0,o.Y)(Be.P,{item:v}),g?null:(0,o.FD)(_t,{children:[(0,o.Y)(Re.E,{"data-e2e":"search-card-user-link",uniqueId:L,secUid:P,teaParams:Y,id:u,onClick:q,ariaLabel:m("accessibilityLabels_link_userProfile",{username:S}),children:(0,o.FD)(Ct,{children:[(0,o.Y)(Ie.e,{style:{flexShrink:0},src:D,shape:"circle",size:24})," ",(0,o.Y)(It,{"data-e2e":"search-card-user-unique-id",children:L}),j&&(0,o.Y)(ke.A,{"data-e2e":"search-card-user-verified",style:{flexShrink:0},width:14,height:14})]})}),I&&z,d&&!_&&!T&&(0,o.FD)(wt,{"data-e2e":"search-card-like-container",onClick:N,children:[W?b?(0,o.Y)(Dt,{className:"like-icon",width:18,height:18,fill:U.Primary}):(0,o.Y)(Tt,{className:"like-icon",width:18,height:18,fill:U.TextReverse2}):(0,o.Y)(Lt,{className:"like-icon",width:16,height:16,fill:U.TextReverse2}),(0,o.Y)(jt,{children:R})]})]})]})})}));var St=i(89311),Yt=i(2584),Ot=i(50772),Et=i(56999),Mt=i(98313),Ft=i(30349),Bt=i(85277),Wt=i(36439);const Rt={enter_method:"video_desc"},Vt=(0,n.memo)((function(e){var t,i,r,a;const{videoData:l,mode:d,itemListKey:s,pageType:u,userData:h}=e,{user:m}=null!==(t=(0,p.W)((()=>["user"]),[]))&&void 0!==t?t:{},v=null==m?void 0:m.ftcUser,[g,f]=(0,n.useState)(!1),[b,y]=(0,n.useState)(!1),x=(0,Ft.N)(),[_,w]=(0,n.useState)(!1),C=(0,k._u)(),I=(0,c.tj)(),T=(0,n.useCallback)((e=>{1===u&&null!==e&&(Array.from(e.querySelectorAll("*")).forEach((e=>{e.tabIndex=-1})),e.tabIndex=0)}),[u]),{scheduleTime:L,warnInfo:j=[],id:P="",author:S=""}=null!=l?l:{},Y=!I&&j&&j.length>0,[O,E]=(0,n.useState)("");(0,n.useEffect)((()=>{E(`https://www.tiktok.com${C(l)}`)}),[S,P]);const M=(0,n.useCallback)((()=>{var t;null===(t=e.onMouseEnter)||void 0===t||t.call(e,"hover_blank"),f(!0),y(!0)}),[e]),F=(0,n.useCallback)((()=>{window.setTimeout((()=>{y(!1)}),2e3)}),[]);(0,n.useEffect)((()=>{_||f(b)}),[b,_]);const B=(0,n.useRef)(null),W=Boolean(L||v),[R,V]=(0,n.useState)("down"),{isRTL:A}=(0,St.m)(),N=(0,n.useCallback)((e=>{(0,D.Gu)(e),Yt.O.handleGeneralClick("info_card_icon",{group_id:null==l?void 0:l.id}),Ot.c.showSection("info_card",{group_id:null==l?void 0:l.id});const t=(0,Wt.c)(B,null!=u?u:999,A);V(t),w(!0)}),[A,u,null==l?void 0:l.id]);return Y?null:(0,o.FD)(Et.Zt,{children:[(0,o.Y)(Et.h9,{"aria-label":null==l?void 0:l.desc,"data-e2e":`${s}-item-desc`,onClick:null===(i=e.onClick)||void 0===i?void 0:i.call(e,"click_blank"),onMouseEnter:M,onMouseLeave:F,ref:T,children:(0,o.Y)(Et.T6,{onClick:null===(r=e.onClick)||void 0===r?void 0:r.call(e,"video_desc"),title:null==l?void 0:l.desc,href:O,children:(0,o.Y)(Fe.g,{mode:d,ellispsisLine:1,styleType:"tag",item:l,ellipsisOnNarrow:!0,reportParams:Rt,shouldReport:W})})}),g&&(0,o.Y)(Et.Fp,{onClick:N,ref:B,children:(0,o.Y)(Mt.o,{size:16})}),(0,o.Y)(Et.Uz,{children:(x||_)&&(0,o.FD)(o.FK,{children:[(0,o.Y)(Et.BV,{visible:_,renderDirection:R}),(0,o.Y)(Bt.K,{item:l,author:h,description:null!==(a=null==l?void 0:l.desc)&&void 0!==a?a:"",isBot:x,pageType:null!=u?u:999,handleClose:()=>{w(!1),f(!1),y(!1)},visible:_,renderDirection:R})]})})]})})),At=(0,M.default)("div",{target:"e1cj3yk40"})({background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,left:0,right:0,bottom:0},"label:DivJustWatchedMaskContainer;"),Nt=(0,M.default)("div",{target:"e1cj3yk41"})({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},"label:DivJustWatchedMaskWrapper;"),qt=(0,M.default)("span",{target:"e1cj3yk42"})((({theme:e})=>({fontSize:"16px",lineHeight:"15px",fontWeight:600,color:e.colors.ConstTextInverse,wordBreak:"break-word",textAlign:"center"})),"label:SpanText;"),Ut=(0,M.default)(gt.A,{target:"e1cj3yk43"})((({theme:{direction:e,colors:t}})=>[(0,Ce.mp)({direction:e,marginEnd:"4px"}),{fill:t.ConstTextInverse}]),{verticalAlign:"middle",width:"16px",height:"16px"},"label:StyledPlayIcon;"),$t=(0,n.memo)((()=>{const e=(0,w.s)();return(0,o.Y)(At,{children:(0,o.FD)(Nt,{children:[(0,o.Y)(Ut,{}),(0,o.Y)(qt,{children:e("pcWeb_justWatched")})]})})}));var zt=i(70925),Ht=i(80958);const Gt={width:24,height:24,fill:"#fff"},Kt=[3,16,4,129,18,121],Qt=(0,n.memo)((0,n.forwardRef)((function({index:e,id:t,pageType:i,itemListKey:O,mode:E="compact",hasDescUnderItem:M,borderRadius:F="4px",teaParams:B,searchTopCardType:W,handleClick:R,handleVideoClick:A,searchType:N,mute:fe,hasSound:ye=!1,volume:xe=.7,handleToggleMute:_e,handleVideoEnd:we,isActualRatioEnabled:ke=!1,style:Ce,exploreCategoryType:Ie,useHorizontalList:Te=!1,children:De,handleVideoPlay:Le},je){var Pe,Se,Oe,Ee,Fe,Be,We,Re,Ve,Ae;const Ne=(0,te.F3)((e=>e[t])),{video:qe,itemMute:Ue=!1,warnInfo:$e,desc:ze="",showNotPass:He=!1,author:Ge="",scheduleTime:Ke,authorId:Qe="",secret:Je=!1,forFriend:et=!1,adLabelVersion:tt,logId:ot,isAd:rt,music:at}=(0,s.L$)(Ne),{playAddr:lt="",duration:dt,bitrateInfo:ut,volumeInfo:ct,bitrate:ht,encodedType:pt="",format:mt="",videoQuality:vt="",encodeUserTag:gt="",codecType:ft="",definition:bt="",zoomCover:yt,cover:xt,VQScore:_t=0}=(0,s.L$)(qe),{isReposted:wt}=(0,ie.D)(Ne),kt=(0,u.mx)(Ne),Ct=(0,u.Q4)(Ne),It=!kt&&!Ct,{isInProductHoldout:Tt}=(0,c.Vv)(),Dt=Tt,Lt=!Tt,jt=(0,c.tj)(),St=(0,c.PV)(),{withNoBG:Yt,withLinearGradientBG:Ot}=(0,c.KS)(),{withBack:Et}=(0,c.Ry)("explore"===O),{inGifPlayerExperiment:Mt,setGifPlayerItemId:Ft}=(0,zt.t)(i),{isNewSearchLayout:Bt}=(0,h.CA)(),{isJustWatchedEnabled:Wt}=(0,c.Kg)(),Rt=(0,ue.EL)(),{abTestVersion:At}=(0,s.L$)((0,p.W)((()=>["abTestVersion"]),[])),Nt=null!==(Pe=(0,m.qt)(At,"search_video"))&&void 0!==Pe?Pe:"v1",{user:qt,wid:Ut}=(0,s.L$)((0,p.W)((()=>["user","wid"]),[])),{mute:Qt,setMute:Jt}=(0,v.ah)({playMode:1,itemMute:Ue}),Zt=(0,U.P)(g.d,{selector:e=>e[t],dependencies:[t]}),{hideMaskTempVideoId:Xt}=(0,U.P)(f.w),ei=(0,U.P)(b.hf,{selector:e=>e.blockedVideos||[],dependencies:[]}),ti=(0,oe.nW)((e=>{if(Ge)return e.users[Ge]})),ii=(0,$.w)(b.hf),oi=(0,y.nr)(),[ni]=(0,ne.eW)(),ri=(0,x.YZ)(),ai=(0,re.lY)(),li=(0,ae.b1)(),{justWatchedVideo:di=null}=(0,y.MY)(),si=(null==di?void 0:di.id)===t,{showBrowserMode:ui}=(0,n.useContext)(_.g),ci=(0,w.s)(),{colors:hi}=(0,r.u)(),{isDetailPage:pi}=(0,se.s0)(),mi=(0,k._u)(),vi=(({item:e,itemListKey:t})=>{const i=(0,w.s)(),{originalItem:n,officalItem:r}=null!=e?e:{},a=Boolean(n);return Boolean(r)?(0,o.Y)(Xe.Qh,{"data-e2e":`${t}-official`,children:(0,o.Y)(Xe.Qz,{children:i("official_tag")})}):a?(0,o.Y)(Xe.Qh,{"data-e2e":`${t}-original`,children:(0,o.Y)(Xe.Qz,{children:i("original_tag")})}):null})({item:Ne,itemListKey:O}),{handleUpdatePhotoCover:gi}=(0,ce.p)(null!==(Se=null==Ne?void 0:Ne.id)&&void 0!==Se?Se:"",kt),{showVideoMask:fi}=(0,C.d)({item:null!=Ne?Ne:{},playMode:1}),bi=nt(Ne),{withLikeAndCreator:yi}=(0,c.y9)(),xi=function(e){const{teaParams:t,id:i,pageType:o}=e;return(0,n.useMemo)((()=>{const{search_id:e,search_keyword:n}=null!=t?t:{};let r,a={};switch(e&&(a=Object.assign(Object.assign({},a),{search_id:e,impr_id:e,search_keyword:n,search_result_id:i})),o){case 105:r="general";break;case 106:r="user";break;case 107:r="video";break;case 123:r="live";break;default:r=void 0}return r&&(a.search_type=r),a}),[t,i,o])}({teaParams:B,id:t,pageType:i}),_i=(0,u.MA)(Ne),wi=(0,ve.b1)(Ne,i),ki=(0,c.uT)(),Ci=(0,u.n5)(Ne,"user-post"===O&&1!==ni&&2!==ni),Ii=(0,zt.y)(Ne),Ti=(0,n.useRef)(null),Di=(0,n.useRef)(null),Li=(0,n.useRef)(null),ji=Boolean(qt),Pi=(0,n.useMemo)((()=>123===i||61===W),[i,W]),Si=105===i||107===i||Pi,Yi=("user-liked"===O||"favorites"===O||"user-repost"===O)&&(null==Ne?void 0:Ne.isContentClassified),Oi=fi&&Xt!==t||Yi,Ei=null!=fe?fe:Qt,Mi=Object.assign({borderRadius:Et?"8px 16px":void 0,background:Et?hi.BGPlaceholderDefault:void 0},Ce),Fi=(0,n.useMemo)((()=>{var e,t;const o=kt&&(null===(t=null===(e=null==Ne?void 0:Ne.imagePost)||void 0===e?void 0:e.cover.imageURL.urlList)||void 0===t?void 0:t[0])||xt;return St||1===i&&Lt?{zoomCover:yt,cover:o,quality:"720"}:{zoomCover:yt,cover:o,quality:"480"}}),[Lt,kt,null===(Oe=null==Ne?void 0:Ne.imagePost)||void 0===Oe?void 0:Oe.cover,i,St,xt,yt]),Bi=()=>{const e=new Date;return e.setDate(e.getDate()+1),e.setHours(0,0,0,0)},{uniqueId:Wi="",secUid:Ri="",nickname:Vi=""}=(0,s.L$)(ti),{title:Ai="",authorName:Ni=""}=(0,s.L$)(at),qi=ci("seo_user_video_cover",{videoText:null!==(Ee=null==Ne?void 0:Ne.desc)&&void 0!==Ee?Ee:"",videoAuthor:Vi,musicAuthor:Ni,musicName:Ai}),Ui=function(e,t){return![3,4,129,103,16,18,121,19,123,106].includes(e)&&!t}(Number(i),Pi),$i=Kt.includes(i),zi=!Mt&&(ye||Ue);let Hi;Hi="following-recommend"===E?`https://www.tiktok.com${(0,I.fJR)({uniqueId:Wi,secUid:null!=Ri?Ri:""})}`:`https://www.tiktok.com${mi(Ne)}`;const Gi=(0,n.useMemo)((()=>{let{ratio:e}=T.f[E];return 19===i&&ke&&(null==Ne?void 0:Ne.video)&&(e=Ne.video.width/Ne.video.height),e}),[E,i,ke,null==Ne?void 0:Ne.video]),Ki=(0,n.useMemo)((()=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},B),xi),{group_id:t,author_id:Qe,is_scheduled:Boolean(Ke),bitrate:Number(ht),encodedType:pt,format:mt,videoQuality:vt,encodeUserTag:gt,codecType:ft,definition:bt,secret:Je,forFriend:et,isPaidPartnership:2===tt,isPinnedItem:Ci,isReposted:wt}),_i),wi),{log_id:ot,isAd:rt})),[B,xi,t,ot,rt,Qe,Ke,ht,pt,mt,vt,gt,ft,bt,Je,et,tt,_i,wi,Ci,wt]),Qi=function(e){const{teaParams:t,pageType:i}=e;return(0,n.useMemo)((()=>[105,106,107,123].includes(i)?Object.assign(Object.assign({},t),{enter_from:`${H.f.commonParams.page_name}_result`}):t),[t,i])}({teaParams:Ki,pageType:i}),Ji=(0,z.Nj)(G.AU),Zi=(0,z.Nj)(K.Gs),Xi=(0,n.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),Jt(!Ei)}),[Ei,Jt]),eo=(0,n.useCallback)(((e,t)=>{const i={data:t,expire:Bi()};(0,D.AP)(e,JSON.stringify(i))}),[]),to=(0,n.useCallback)((e=>{const t=(0,D._S)(e),i=Date.now();let o;if(t){const n=JSON.parse(t);i<n.expire?o=n.data:(0,D.sc)(e)}return o}),[]),io=(0,n.useCallback)(((i,o)=>{if(Yi)return ee.F.destroy(),ee.F.open({content:ci("cc_webapp_age_video_details_body"),duration:3,widthType:"half"}),i.stopPropagation(),void i.preventDefault();if(R)return i.preventDefault(),void R(i,t);if(i.preventDefault(),i.stopPropagation(),null==Ne?void 0:Ne.showNotPass)return;"explore"===O&&Ie&&ai.prepareBrowserMode(Ie);const n=Object.assign(Object.assign({},Ki),{enter_method:o,from_mode:1});if(!("v4"!==Nt||ji||"general_search"!==H.f.commonParams.page_name&&"search_video"!==H.f.commonParams.page_name||to(`${L.DK}${Ut}`)))return eo(`${L.DK}${Ut}`,Ut),li.setCloseCallback((()=>{ri.setItemListKey(O),ui({index:e,teaParams:Qi,enterFrom:H.f.commonParams.page_name,reportTeaParams:n}),Zi.setEnterMethod(o),Ji.handleUserChangeVideoOrPlayMode(),Ji.reportVideoInteractStart({startTime:Date.now(),situation:"open_browser_mode",enter_method:o})})),void li.openModal({isSignup:!1,query:{enter_method:"click_top_bar",enter_from:H.f.commonParams.page_name,redirect_url:window.location.href,type:"loginsearchmore"}});ri.setItemListKey(O),ui({index:e,teaParams:Qi,enterFrom:H.f.commonParams.page_name,reportTeaParams:n}),Zi.setEnterMethod(o),Ji.handleUserChangeVideoOrPlayMode(),Ji.reportVideoInteractStart({startTime:Date.now(),situation:"open_browser_mode",enter_method:o}),null==A||A()}),[Yi,R,null==Ne?void 0:Ne.showNotPass,Ki,Nt,ji,to,Ut,O,ui,e,Qi,Zi,Ji,ci,t,eo,li,ri,A,Ie,ai]),oo=(0,n.useCallback)((e=>{var t;13!==e.keyCode&&32!==e.keyCode||null===(t=Li.current)||void 0===t||t.click()}),[]),no=(0,n.useCallback)((e=>{Oi||(e.preventDefault(),e.stopPropagation(),Ne&&ii.removeBlockVideo(Ne.id))}),[Oi,Ne,ii]),ro=(0,n.useCallback)((()=>{var e;const{search_id:t="",search_keyword:i="",search_result_id:o="",search_type:n="general",impr_id:r}=xi;Q.$G.handleSearchResultClick({search_id:t,search_keyword:i,search_result_id:o,search_type:n,token_type:Pi?"live_card":"person",nickname:Pi?null===(e=null==Zt?void 0:Zt.owner)||void 0===e?void 0:e.nickname:Vi,impr_id:r})}),[Pi,xi,Vi,Zt]),ao=(0,n.useCallback)((e=>t=>io(t,e)),[io]),lo=(0,n.useCallback)((i=>o=>{var n,r,a,l;Oi||(o.preventDefault(),Mt?Ft(t):(oi.updateVideo({currentVideo:{id:t,index:e,mode:1},playProgress:ki?null!==(r=null===(n=Di.current)||void 0===n?void 0:n.currentTime)&&void 0!==r?r:0:null!==(l=null===(a=Ti.current)||void 0===a?void 0:a.currentTime)&&void 0!==l?l:0,playType:"hover"}),Zi.setEnterMethod(i),Ji.reportVideoInteractStart({startTime:Date.now(),situation:"three_column_user_hover",enter_method:i}),J.V.handleVideoControlReport({play_mode:"list_mouse_trigger"})))}),[Oi,t,oi,e,Zi,Ji,Mt,Ft]),so=(0,n.useCallback)((e=>{e.preventDefault()}),[]),uo=(0,n.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),Ue?(ee.F.destroy(),ee.F.open({content:ci("music_detail_unavailable_1"),duration:3,widthType:"half"})):(_e?null==_e||_e(e):Xi(e),Z.p.handleSwitchSound({playMode:1}))}),[Ue,_e,ci,Xi]),co=(0,n.useCallback)((()=>{var o;const n=106===i?"recent_video":"scroll";X.A.handleVideoExposeReport(Object.assign({enter_method:n,author_id:null!==(o=null==ti?void 0:ti.id)&&void 0!==o?o:"",group_id:t,rank:e,page_name:H.f.commonParams.page_name,backend_source_event_tracking:""},Ii))}),[null==ti?void 0:ti.id,t,e,i,Ii]),ho=(0,n.useRef)(null),po=(0,n.useMemo)((()=>[0]),[]);(0,n.useImperativeHandle)(je,(()=>({get offsetTop(){var e,t;return null!==(t=null===(e=ho.current)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0},get currentElementRef(){return ho}})),[]),(0,j.B)({intersectionHandler:co,element:ho,threshold:po,unobserveAfterIntersect:!0});const{delayAfterVideoPlay:mo}=(0,c.fH)(),{delayUntilFirstItem:vo,delayUntilAnyItem:go}=(0,c.W3)(),{hasCommonVideoFirst:fo}=(0,c.lP)(),bo=(0,n.useCallback)((()=>{!go||1!==i&&8!==i||he.aY.updateUserProfileLoadEvent(),e||(mo&&19===i&&he.aY.updateExploreVideoLoadEvent(),!vo||1!==i&&8!==i||he.aY.updateUserProfileLoadEvent(),fo&&pe.UX.includes(i)&&he.aY.updateCommonLoadEvent())}),[mo,vo,fo,e]);(0,n.useEffect)((()=>{const t=(vo||go)&&(1===i||8===i),o=fo&&pe.UX.includes(i);kt&&(go||0===e)&&(t||o)&&he.aY.updateCommonLoadEvent()}),[kt,e,vo,fo]);const yo=(0,n.useCallback)((()=>{bo(),null==Le||Le()}),[]),xo=(0,n.useMemo)((()=>{var t;let n=null;switch(i){case 16:n=(0,o.Y)(st,{mode:E,index:e,onMouseEnter:lo,onClick:ao,videoData:Ne});break;case 1:Dt&&(n=(0,o.Y)(Vt,{mode:E,index:e,itemListKey:O,onMouseEnter:lo,onClick:ao,videoData:Ne,pageType:i,userData:ti}));break;case 3:case 4:case 121:case 18:case 129:n=(0,o.Y)(Vt,{mode:E,index:e,itemListKey:O,onMouseEnter:lo,onClick:ao,videoData:Ne,pageType:i,userData:ti});break;case 105:case 107:case 123:let r=Ne;Pi&&(r={author:null===(t=null==Zt?void 0:Zt.owner)||void 0===t?void 0:t.display_id,desc:null==Zt?void 0:Zt.title}),n=(0,o.Y)(Pt,{onClick:ao,onMouseEnter:lo,videoData:r,reportParams:xi,onReportClick:ro,pageType:i,hasPlayInfo:!Pi,id:`${O}-item-user-link-${e}`});break;case 19:"explore"===O&&(n=(0,o.Y)(Ze,{videoData:Ne,onClick:ao,onMouseEnter:lo,onLikeClick:io}))}return n}),[i,E,e,lo,ao,Ne,O,Pi,xi,ro,io,null===(Fe=null==Zt?void 0:Zt.owner)||void 0===Fe?void 0:Fe.display_id,null==Zt?void 0:Zt.title]),_o=Si?Xe.tE:Xe.aX,wo=(0,n.useMemo)((()=>pi||Si&&Bt?Xe.iP:_o),[_o,pi,Bt,Si]),ko=105!==i&&107!==i||yi?null:bi,Co=(105===i||107===i)&&yi,Io=(0,n.useMemo)((()=>Ue||Ei?(0,o.Y)(l.A,Object.assign({},Gt)):(0,o.Y)(d.A,Object.assign({},Gt))),[Ue,Ei]),To=(0,n.useMemo)((()=>({videoCover:Fi,desc:qi})),[Fi,qi]),Do=(0,n.useMemo)((()=>({params:Ki})),[Ki]),Lo=(0,n.useMemo)((()=>({vqscore:_t?Number(_t):0})),[_t]),jo=le.Rg("video-card-for-bot-hook",{src:null===(Be=null==Ne?void 0:Ne.video)||void 0===Be?void 0:Be.playAddr,poster:null===(We=null==Ne?void 0:Ne.video)||void 0===We?void 0:We.cover,posterAlt:qi,Img:me.eL,Video:me.wM});return(0,o.FD)(wo,{ref:ho,hasDescUnderItem:M,style:Mi,inHorizontalList:Te,maxWidth:1===i&&Lt?"320px":void 0,children:[(0,o.FD)(de.w,{e2eTag:`${O}-item`,ratio:Gi,borderRadius:Et?"0":F,hasDescUnderItem:M,copyrightMuted:Ue,onKeyDown:oo,children:[(0,o.FD)(Xe.mF,{draggable:"trending_topics"!==O&&void 0,showNotPass:null!==(Re=null==Ne?void 0:Ne.showNotPass)&&void 0!==Re&&Re,href:Hi,onMouseEnter:lo("hover_cover"),onClick:io,tabIndex:-1,ref:Li,children:[(0,o.Y)(Xe.Od,{width:100*Gi,height:100}),Pi?(0,o.Y)(Xe.w3,{children:(0,o.Y)(ge.s,{id:t,mode:1,searchType:null!=N?N:"live",search_result_id:null==B?void 0:B.search_result_id})}):(0,o.FD)(Xe.w3,{withBack:Et,borderRadius:F,onContextMenu:so,children:[It?!Mt&&(ki?null!==(Ae=null==jo?void 0:jo.videoCard4Bot)&&void 0!==Ae?Ae:(0,o.Y)(S.o,{ref:Di,id:t,url:lt,horizontal:!1,mode:1,index:e,muted:Ei||Ue,duration:dt,bitrateInfo:ut,disableDownload:!0,bitrate:Number(ht),posterConfig:To,teaConfig:Do,videoQualityConfig:Lo,onVideoPlay:yo,onVideoError:bo,onTimeUpdate:bo,onVideoEnded:we,fetchPriority:Rt&&e<3?"high":"auto"}):null!==(Ve=null==jo?void 0:jo.videoCard4Bot)&&void 0!==Ve?Ve:(0,o.Y)(P.K,{desc:qi,horizontal:!1,mode:1,ref:Ti,id:t,playUrl:lt,index:e,itemMute:Ei||Ue,duration:dt,bitrateInfo:ut,teaParams:Ki,disableDownload:!0,volumeInfo:{Loudness:xe}||ct,bitrate:Number(ht),videoCover:Fi,onVideoPlay:yo,onVideoError:bo,onTimeUpdate:bo,onVideoEnded:we,fetchPriority:Rt&&e<3?"high":"auto"})):(0,o.Y)(Xe.NR,{children:(0,o.Y)(Xe.zj,{video:Fi,alt:ze,onLoad:e=>gi(e.target)})}),Mt&&!kt&&(0,o.Y)(Ht.Y,{item:Ne,mode:1,posterConfig:To,teaParams:Ki}),!jt&&(null==$e?void 0:$e[0])&&(0,o.Y)(Xe.zm,{children:(0,o.Y)(Y.Q,{needExtraBottom:!Te,info:null==$e?void 0:$e[0],useSmallSize:Te})}),Boolean(Ke)&&(0,o.Y)(Xe.zm,{children:(0,o.FD)(Xe.Vq,{children:[(0,o.Y)(Xe.Mt,{width:14.67,height:14.67}),(e=>{const[t,i]=e.split(" "),[n,r,a]=t.split("-");return(0,o.FD)(o.FK,{children:[(0,o.Y)("span",{children:n}),(0,o.Y)("span",{children:"-"}),(0,o.Y)("span",{children:r}),(0,o.Y)("span",{children:"-"}),(0,o.Y)("span",{children:a}),(0,o.Y)("span",{children:"Â "}),(0,o.Y)("span",{children:i})]})})((Po=Ke,be().unix(Po).format("YYYY-M-D H:mm")))]})}),vi,kt&&(0,o.Y)(Xe.gp,{children:(0,o.Y)(a.N,{size:20})}),Ui&&(0,o.Y)(Me,{videoData:Ne,content:ko,prioritizeLike:Co}),(jt||!(null==$e?void 0:$e[0]))&&$i&&(0,o.Y)(Ye,{e2ePrefix:O,type:1,videoData:Ne,teaParams:B,showMuteIcon:zi}),19===i&&(0,o.Y)(it,{videoData:Ne}),Oi||ei.includes((null==Ne?void 0:Ne.id)||"")?(0,o.Y)(Xe.es,{hasSolidBackground:Yi||Yt,hasGradientBackground:Ot,children:(0,o.Y)(Xe.NL,{onClick:no,children:(0,o.Y)(q,{width:"48",height:"48"})})}):null,zi&&(0,o.Y)(Xe.jG,{onClickCapture:uo,children:Io}),Wt&&si&&1===i&&"user-post"===O&&0===ni&&(0,o.Y)($t,{})]}),(0,o.Y)(V,{videoData:Ne,pageType:i,itemListKey:O,sortType:ni})]}),De]}),!He&&xo]});var Po})))},56999:(e,t,i)=>{i.d(t,{BV:()=>u,Fp:()=>d,T6:()=>r,Uz:()=>h,Zt:()=>c,h9:()=>l});var o=i(62186),n=i(72153);const r=(0,o.default)("a",{target:"eih2qak0"})({display:"block",marginTop:"4px",":hover":{textDecoration:"none"}},"label:AMetaCaptionLine;");var a;!function(e){e.ArrowLeft="left",e.ArrowRight="right",e.ArrowTop="top",e.ArrowBottom="bottom"}(a||(a={}));const l=(0,o.default)("div",{target:"eih2qak1"})((({theme:e})=>[(0,n.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{padding:"2px 4px 0px",cursor:"hover",height:"28px",overflow:"hidden",boxSizing:"content-box",width:"100%"}]),"label:DivTagCardDesc;"),d=(0,o.default)("span",{target:"eih2qak2"})((({theme:e})=>({color:e.colors.TextTertiaryAlt})),{marginTop:"2px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"auto"},"label:SpanInfoExpandIconWrapper;");function s(e,t){return"right"===e?function(e){const t={borderBottom:"12px solid transparent",borderTop:"12px solid transparent",borderRight:"10px solid",borderRightColor:e.colors.BGSecondary};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginTop:"32px",marginRight:"-20px"}):Object.assign(Object.assign({},t),{marginTop:"30px",marginLeft:"8px"})}(t):"bottom"===e?function(e){const t={borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderBottom:"10px solid",borderBottomColor:e.colors.BGSecondary,marginTop:"60px"};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginRight:"-16px"}):Object.assign(Object.assign({},t),{marginLeft:"-20px"})}(t):"left"===e?function(e){return{borderBottom:"12px solid transparent",borderTop:"12px solid transparent",borderLeft:"10px solid",borderLeftColor:e.colors.BGSecondary,marginTop:"30px",marginLeft:"-30px"}}(t):"top"===e?function(e){const t={borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderTop:"10px solid",borderTopColor:e.colors.BGSecondary,marginRight:"-20px",marginTop:"20px"};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginRight:"-20px"}):Object.assign(Object.assign({},t),{marginLeft:"-18px"})}(t):{}}const u=(0,o.default)("div",{target:"eih2qak3"})((({renderDirection:e,visible:t,theme:i})=>[{width:0,height:0,position:"absolute",display:t?"block":"none",zIndex:100},s(e,i)]),"label:DivInfoCardArrow;"),c=(0,o.default)("div",{target:"eih2qak4"})({display:"flex",position:"relative"},"label:DivDesContainer;"),h=(0,o.default)("span",{target:"eih2qak5"})({position:"absolute",display:"flex",top:-28,":hover":{cursor:"pointer"}},(({theme:{direction:e}})=>"ltr"===e?{right:0}:{left:0}),"label:SpanInfoExpandWrapper;")},66551:(e,t,i)=>{i.d(t,{Z:()=>M});var o=i(2787),n=i(40099),r=i(67518),a=i(58542),l=i(11417),d=i(88920),s=i(93341),u=i(19442),c=i(44926),h=i(43626),p=i(89311),m=i(78208),v=i(56445),g=i(22193),f=i(90217),b=i(67169),y=i(91872),x=i(93608);var _,w=i(84827),k=i(60072),C=i(34308),I=i(93751),T=i(25616),D=i(32125),L=i(68347),j=i(99260),P=i(30349),S=i(70925),Y=i(11402),O=i(65530),E=i(94684);!function(e){e[e.IN_VIEW=0]="IN_VIEW",e[e.ABOVE_VIEW=1]="ABOVE_VIEW",e[e.BELOW_VIEW=2]="BELOW_VIEW"}(_||(_={}));const M=(0,n.memo)((0,l.h)()((function({mode:e="compact",loading:t,itemList:i,pageType:l,itemListKey:_,onHitBottom:M,threshold:F,borderRadius:B,renderMap:W,renderTitle:R,renderItemChildren:V,teaParams:A,searchTopCardType:N,notWrap:q=!1,autoPlayFirst:U=!0,handleClick:$,handleVideoClick:z,searchType:H,hasMore:G=!0,mute:K=!0,hasSound:Q=!1,handleToggleMute:J,hasLocateItem:Z=!1,children:X}){var ee,te;const ie=i[0],{isInProductHoldout:oe}=(0,d.Vv)(),ne=!oe,{isJustWatchedEnabled:re,isButtonPrimary:ae,isButtonSizeLarge:le}=(0,d.Kg)(),{inGifPlayerExperiment:de,setGifPlayerItemId:se}=(0,S.t)(l),ue=(0,k.F3)((e=>e[ie])),ce=(0,s.nr)(),{justWatchedVideoId:he,justWatchedAuthorUniqueId:pe,justWatchedAuthorId:me}=(0,j.xr)(),ve=(0,C.gT)(),[ge]=(0,I.eW)(),fe=(0,u.JD)((e=>e.currentIndex)),be=(0,c.Sb)(),{isBrowserModeShowing:ye}=(0,n.useContext)(h.g),[xe,_e]=(0,n.useState)(0),[we,ke]=(0,n.useState)(20),[Ce,Ie]=(0,n.useState)(!1),[Te,De]=(0,n.useState)(!1),[Le,je]=(0,n.useState)(!1),Pe=(0,n.useRef)(!0),Se=(0,n.useRef)(_),Ye=(0,n.useRef)(null),Oe=(0,n.useRef)([]),Ee=(0,n.useCallback)((e=>t=>{Oe.current||(Oe.current=[]),Oe.current[e]=t}),[]),Me=(0,n.useCallback)((()=>{var e,t;const o=null==i?void 0:i.indexOf(null!=he?he:"");return-1===o?null:null!==(t=null===(e=null==Oe?void 0:Oe.current[o])||void 0===e?void 0:e.currentElementRef)&&void 0!==t?t:null}),[i,he,Oe,Te]),Fe=3===l||105===l||107===l||123===l||16===l||61===N,Be=(0,T.s)(),{isRTL:We}=(0,p.m)(),{isDark:Re}=(0,r.u)(),{showVideoMask:Ve}=(0,m.d)({item:null!=ue?ue:{},playMode:1}),Ae=(0,P.N)();(0,v.V)(i,Ae);const Ne=(0,k.F3)((e=>{const t=[];return i.forEach((i=>{if(!Ae)return;const o=e[i];(null==o?void 0:o.video.subtitleInfos)&&t.push(o)})),t}),D.bN);(0,g.t)(Ne,Ae);const qe=(0,n.useCallback)((()=>{null==M||M()}),[M]),Ue=(0,y.O)({onHitBottom:qe,threshold:F});(0,L.H4)(i,Ue,G,M);const $e=(0,n.useCallback)(((e,t=150)=>{var i;if(e){const o=null!==(i=e.offsetTop)&&void 0!==i?i:0;0!==o&&window.scrollTo(0,o+t)}}),[]);(0,f.B)({intersectionHandler:()=>{_e(0)},outerSectionHandler:()=>{const e=Me();if(!e||!e.current)return void _e(2);const{top:t}=e.current.getBoundingClientRect();_e(t<0?1:2)},element:Me(),threshold:[.8]}),(0,b.Ux)(1),(0,n.useEffect)((()=>{_!==Se.current&&(Pe.current=!0,Se.current=_)}),[_]),(0,n.useEffect)((()=>{if(!Ve&&Pe.current&&U&&i.length){if(Pe.current=!1,de)return void se(i[0]);ce.updateVideo({currentVideo:{id:i[0],index:0,mode:1},teaParams:{isThreeColumnAuto:!0},playProgress:0,playType:"automatic"})}}),[Ve,i,de,se,U]),(0,n.useEffect)((()=>{const e=-1!==i.indexOf(null!=he?he:"")&&0!==xe,t=-1===i.indexOf(null!=he?he:"")&&Z,o=1===l&&(e||t);var n;o&&!Ce&&(n={has_locate_item:Z,author_id:null!=me?me:"",group_id:null!=he?he:""},x.f.sendEvent("just_watched_button_show",n)),Ie(o)}),[l,i,Z,xe,he]),(0,n.useEffect)((()=>{const e=()=>{if(Ye.current){const e=Ye.current.getBoundingClientRect(),t=We?e.left:window.innerWidth-e.right;ke(t+20)}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,n.useEffect)((()=>{if(Le){const e=Me();e&&$e(e.current),je(!1)}}),[Le,Me,$e]),(0,n.useEffect)((()=>{let e;if("explore"===_&&ye&&0!==fe){const{itemListKey:t,index:i}=be.getSourceIndex(fe);return t===_&&(e=setTimeout((()=>{var t,o,n;e=void 0,window.scrollTo(0,(null!==(n=null===(o=null===(t=Oe.current)||void 0===t?void 0:t[i])||void 0===o?void 0:o.offsetTop)&&void 0!==n?n:144)-144)}),0)),()=>e&&clearTimeout(e)}}),[fe,ye,_,be]);const ze=(0,n.useCallback)((()=>{return e=this,t=void 0,o=function*(){var e,t;t={author_id:null!=me?me:"",group_id:null!=he?he:""},x.f.sendEvent("click_just_watched_button",t);const i=Me();if(i)$e(i.current);else if(pe===(null==ue?void 0:ue.author)){De(!0);try{yield ve.getItemList(Object.assign({secUid:null!==(e=null==ue?void 0:ue.authorSecId)&&void 0!==e?e:"",postItemListRequestType:3},he&&{locateItemID:he}))}catch(e){console.error("Error calling fetch function:",e)}finally{De(!1)}je(!0)}},new((i=void 0)||(i=Promise))((function(n,r){function a(e){try{d(o.next(e))}catch(e){r(e)}}function l(e){try{d(o.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,l)}d((o=o.apply(e,t||[])).next())}));var e,t,i,o}),[Me,$e,pe,me,null==ue?void 0:ue.author,null==ue?void 0:ue.authorSecId,he,ve,De]),He=(0,n.useCallback)((e=>{if(null==W?void 0:W.length){const t=W.filter((({position:t})=>t===e));if(t.length>0)return t.map((t=>t.renderNode(e)))}return null}),[W]),Ge=(0,n.useMemo)((()=>null!==He(0)),[W,He]),Ke=(0,n.useMemo)((()=>({itemList:i,hasTopCard:Ge,renderTitle:R,mode:e,pageType:l,borderRadius:B,itemListKey:_,hasDescUnderItem:Fe,teaParams:A,searchTopCardType:N,handleClick:$,handleVideoClick:z,searchType:H,mute:K,hasSound:Q,handleToggleMute:J,renderInner:He,renderItemChildren:V,getItemRef:Ee,justWatchedVideoId:he})),[i,Ge,R,e,l,B,_,Fe,A,N,$,z,H,K,Q,J,He,V,Ee,he]),Qe=i.map(((e,t)=>(0,o.Y)(Y.x,{index:t,data:Ke},e)));return(0,o.FD)(E.jl,{ref:Ue,isSearchTopCard:Boolean(N),children:[(0,o.FD)(O.$G,{"data-e2e":`${_}-item-list`,hasDescUnderItem:Fe,mode:e,notWrap:q,ref:Ye,useLargerGrid:1===l&&ne,useAutoFill:i.length<Math.ceil((null!==(te=null===(ee=null==Ye?void 0:Ye.current)||void 0===ee?void 0:ee.clientWidth)&&void 0!==te?te:0)/336),children:[He(0),Qe,re&&"user-post"===_&&0===ge&&Ce&&(0,o.Y)(E.fW,{containerRight:we,children:(0,o.Y)(a.I05,{variant:ae?"primary":"secondary",style:(0,E.Ct)(ae,Re),size:le?"large":"medium",shape:"capsule",trailingIcon:1===xe?(0,o.Y)(a.dTl,{}):(0,o.Y)(a.g4Y,{}),label:Be("pcWeb_justWatched"),onClick:ze,loading:Te})}),X]}),t&&(0,o.Y)(w.R,{center:!0}),!t&&!G&&(0,o.Y)(E.hb,{children:Be("search_nomoreresults_text")})]})})))},65530:(e,t,i)=>{i.d(t,{$G:()=>p,PF:()=>c,ph:()=>h});var o=i(2787),n=i(62186),r=i(40099),a=i(63363),l=i(72153),d=i(88091),s=i(66994),u=i(94684);const c=1700,h=(0,n.default)("div",{target:"ecyq5ls0"})((({mode:e,useLargerGrid:t,useAutoFill:i,isNewSearchLayout:o})=>"explore"===e||o?[{display:"grid",gridGap:"24px 16px",gridTemplateColumns:"repeat(auto-fill, minmax(304px, 1fr))"},(0,l.jJ)({max:1919,style:{gridTemplateColumns:"repeat(auto-fill, minmax(256px, 1fr))"}},{max:767,style:{gridTemplateColumns:"repeat(auto-fill, minmax(209px, 1fr))"}})]:[{display:"grid",width:"100%",gridGap:"24px 16px",gridTemplateColumns:"repeat(auto-fill, minmax(184px, 1fr))"},t&&[{gridTemplateColumns:`repeat(${i?"auto-fill":"auto-fit"}, minmax(180px, 1fr))`},(0,l.jJ)({min:d.f5.Medium,style:{gridTemplateColumns:`repeat(${i?"auto-fill":"auto-fit"}, minmax(200px, 1fr))`}}),(0,l.jJ)({min:d.f5.Large,style:{gridTemplateColumns:`repeat(${i?"auto-fill":"auto-fit"}, minmax(220px, 1fr))`}}),(0,l.jJ)({min:d.f5.XLarge,style:{gridTemplateColumns:`repeat(${i?"auto-fill":"auto-fit"}, minmax(240px, 1fr))`}}),(0,l.jJ)({max:d.f5.Small,style:{gridTemplateColumns:"repeat(3, 1fr)"}})]]),"label:DivVideoFeedV2;"),p=(0,r.memo)((0,r.forwardRef)(((e,t)=>{const{isDetailPage:i}=(0,s.s0)(),{isSearchPage:n}=(0,s.no)(),{isNewSearchLayout:l}=(0,a.CA)(),d=(0,r.useMemo)((()=>i||n&&l?h:u.$G),[i,l,n]);return(0,o.Y)(d,Object.assign(Object.assign({ref:t},e),{isNewSearchLayout:l}))})))},94684:(e,t,i)=>{i.d(t,{$G:()=>r,Ct:()=>s,fW:()=>d,hb:()=>l,jl:()=>a});var o=i(62186),n=i(72153);const r=(0,o.default)("div",{target:"eegew6e0"})((({hasDescUnderItem:e,notWrap:t})=>[{"::after":{content:'""',height:"0",display:"block",clear:"both"}},e?{display:"flex",flexWrap:"wrap"}:null,t?{flexWrap:"nowrap"}:null,(0,n.jJ)({max:767,style:{width:"100%"}})]),"label:DivVideoFeed;"),a=(0,o.default)("div",{target:"eegew6e2"})((({isSearchTopCard:e})=>({width:e?"calc(100% + 12px)":"100%"})),"label:DivThreeColumnContainer;"),l=(0,o.default)("div",{target:"eegew6e3"})((({theme:{colors:e}})=>({height:"48px",color:e.TextTertiaryAlt,fontSize:"18px",lineHeight:"22px",display:"flex",justifyContent:"center",alignItems:"center"})),"label:DivNoMoreResultsContainer;"),d=(0,o.default)("div",{target:"eegew6e4"})((({theme:{direction:e},containerRight:t})=>Object.assign({position:"fixed",minWidth:"60px",bottom:"40px",zIndex:1},(0,n.mp)({direction:e,end:`${t}px`}))),"label:DivJustWatchedButtonContainer;"),s=(e,t)=>({backgroundColor:e?void 0:t?"#252525":"#fff"})},11402:(e,t,i)=>{i.d(t,{x:()=>a});var o=i(2787),n=i(40099),r=i(99334);const a=(0,n.memo)((function(e){var{index:t}=e,i=e.data,{itemList:n,hasTopCard:a,renderTitle:l,justWatchedVideoId:d,teaParams:s={},renderInner:u,renderItemChildren:c,getItemRef:h}=i,p=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i}(i,["itemList","hasTopCard","renderTitle","justWatchedVideoId","teaParams","renderInner","renderItemChildren","getItemRef"]),{style:m}=e;const v=n[t],g=n.indexOf(null!=d?d:"");return s=Object.assign(Object.assign({},s),-1!==g&&{index_from_just_watched:g}),(0,o.FD)(o.FK,{children:[0===t&&a&&l,(0,o.Y)(r.g4,Object.assign(Object.assign({id:v,index:t,ref:h(t),teaParams:s},p),{style:m,children:null==c?void 0:c(v)}),v),null==u?void 0:u(t+1)]})}))},92839:(e,t,i)=>{i.d(t,{B:()=>D});var o=i(58632),n=i(64162),r=i(4126),a=i(93995),l=i(23999),d=i(63700),s=i(26324),u=i(8536),c=i(35572),h=i(20259),p=i(74690),m=i(80339),v=i(76435),g=i(31291),f=i(24451),b=i(57009),y=i(49799),x=i(79983),_=i(52333),w=i(55306),k=i(54888),C=i(7672),I=i(55099);let T=class{constructor(e){this.fetch=e}getQuestionDetail(e){return this.fetch.get("/api/question/detail/",{query:e,baseUrlType:2})}};T=(0,o.__decorate)([(0,C._)(),(0,o.__metadata)("design:paramtypes",[I.p])],T);let D=class extends n.E{constructor(e,t,i,o,n,r){super(),this.service=e,this.seoModule=t,this.itemList=i,this.item=o,this.user=n,this.bizContext=r,this.defaultState={statusCode:0,questionInfo:void 0,loading:!0}}setQuestionInfo(e,t){const{statusCode:i=0,questionInfo:o}=null!=t?t:{};e.statusCode=i,e.questionInfo=o}resetData(e){e.loading=!0,e.statusCode=0,e.questionInfo=void 0}setLoading(e,t){e.loading=t}resetQuestionData(e){return e.pipe((0,u.Z)((()=>(0,l.of)(this.getActions().dispose$(),this.getActions().resetData(),this.itemList.getActions().dispose$(),this.itemList.getActions().resetItemList({key:"question"})))))}getQuestionPageData(e){return e.pipe((0,c.p)((({questionId:e="",scene:t="",abTestVersion:i,user:o,language:n,appType:r})=>this.service.getQuestionDetail({questionId:e,language:n}).pipe((0,h.W)((()=>(0,l.of)({statusCode:-1}))),(0,u.Z)((a=>{const{statusCode:s}=a,u=[(0,l.of)(this.getActions().setQuestionInfo(a),this.getActions().setLoading(!1))];let c;return 0===s&&(c=this.itemList.getQuestionList$({questionID:e,abTestVersion:i,user:o,language:n}),u.push(c)),(0,d.h)(...u,this.setSEO(a,t,n,r,c))})),(0,p.Z)(this.getActions().setLoading(!0)),(0,m.q)(this.getActions().setLoading(!1),this.terminate()),(0,v.Q)(this.dispose$),(0,h.W)((e=>(console.error(e),(0,l.of)(this.noop()))))))))}setSEO(e,t,i,o,n){var r;if((null===(r=this.bizContext.state.bizContext)||void 0===r?void 0:r.isBot)&&n){const r=this.itemList.state$.pipe((0,g.s)(1),(0,f.E)(this.item.state$,this.user.state$),(0,u.Z)((([n,r,a])=>{var l,d;const s=null===(l=n.question)||void 0===l?void 0:l.list,u=(null!==(d=null==s?void 0:s.map((e=>r[e])))&&void 0!==d?d:[]).filter(Boolean),c=u.map((e=>{var t;return Object.assign(Object.assign({},e),{author:a.users[null!==(t=e.author)&&void 0!==t?t:""]})}));return this.seoModule.setQuestionSEOProps(e,{language:i},u,o,{scene:t},c)})));return n.pipe((0,b.$)(r))}return this.seoModule.setQuestionSEOProps(e,{language:i},[],o,{scene:t})}};(0,o.__decorate)([(0,r.uk)(),(0,o.__metadata)("design:type",s.c)],D.prototype,"dispose$",void 0),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"setQuestionInfo",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"resetData",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"setLoading",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[s.c]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"resetQuestionData",null),(0,o.__decorate)([(0,r.Mj)({payloadGetter:1}),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[s.c]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"getQuestionPageData",null),D=(0,o.__decorate)([(0,a.n)("QuestionModuleDesktop"),(0,o.__metadata)("design:paramtypes",[T,y.E,x.O,_.k,w.U,k.$])],D)},68347:(e,t,i)=>{i.d(t,{$t:()=>_,EI:()=>f,EZ:()=>g,H4:()=>C,WA:()=>w,aK:()=>k,p$:()=>x});var o=i(46682),n=i(40099),r=i(11060),a=i(49057),l=i(48615),d=i(71281),s=i(43271),u=i(2301),c=i(19442),h=i(82715),p=i(93608),m=i(16680),v=i(32125);const g=()=>{var e,t;const{user:i}=null!==(e=(0,a.W)((()=>["user"]),[]))&&void 0!==e?e:{},{isBot:o,searchVideoForLoggedin:d,searchLiveForLoggedin:s}=null!==(t=(0,l.U)((()=>["isBot","searchVideoForLoggedin","searchLiveForLoggedin"]),[]))&&void 0!==t?t:{},u=(0,m.b1)(),{search:c,pathname:p}=(0,r.zy)(),v=Boolean(i),g=(0,r.W6)();(0,n.useEffect)((()=>{if(!(o||v||p===h.OZ.searchUser||p===h.OZ.searchHome&&!d||p===h.OZ.searchVideo&&!d||p===h.OZ.searchLive&&!s)){u.setCloseCallback((()=>{let e=h.OZ.searchUser;d||(e=h.OZ.searchHome),g.push({pathname:e,search:c,state:{needLoad:!1,enterMethod:"click_icon",searchSource:"switch_tab"}})}));const{state:{enterFrom:e}}=g.location;u.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"explore_page"===e?"explore_all":"prompt",type:"search"}})}}),[])},f=()=>{var e;const{user:t}=null!==(e=(0,a.W)((()=>["user"]),[]))&&void 0!==e?e:{};return Boolean(t)};function b(e){return!!["no_results","show_with_button"].includes(e)}function y(e){return"show_with_button"===e}const x=e=>{const t=(null==e?void 0:e.data)?null==e?void 0:e.data.show_results_type:"",[i,o]=(0,n.useState)((()=>b(t))),[r,a]=(0,n.useState)((()=>y(t)));return(0,n.useEffect)((()=>{o((()=>b(t))),a((()=>y(t)))}),[t]),{hideSearchResult:i,skipError:e&&11===e.type||!1,onShowResult:function(){y(t)&&(o(!1),a(!1))},showResultButton:r}},_=()=>{var e,t;const i=(0,a.W)((()=>["abTestVersion"]),[]),o=null!==(e=(0,d.qt)(null==i?void 0:i.abTestVersion,"search_video"))&&void 0!==e?e:"v1",{user:r}=null!==(t=(0,a.W)((()=>["user"]),[]))&&void 0!==t?t:{},l=Boolean(r),s=(0,m.b1)();return(0,n.useCallback)((()=>{"v3"!==o&&"v4"!==o||l||s.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"click_top_bar",enter_from:p.f.commonParams.page_name,type:"loginsearchmore"}})}),[s,o,l])},w=e=>{const[{loading:t=!0,hasMore:i=!0}]=(0,o.S)(s.tq,{dependencies:[e],selector:t=>t[e]}),{handleSearch:r}=(0,u.nY)(e);return(0,n.useCallback)((()=>{!t&&i&&r.bind(null,!0,!1)()}),[r,t,i])},k=(e,t)=>{var i;const r=(0,a.W)((()=>["abTestVersion"]),[]),l=null!==(i=(0,d.qt)(null==r?void 0:r.abTestVersion,"search_video"))&&void 0!==i?i:"v1",u=f(),[{hasMore:h=!0,error:p}]=(0,o.S)(s.tq,{dependencies:[e],selector:t=>t[e]}),m=w(e),g=_(),{showingBrowserMode:b,currentIndex:y}=(0,c.JD)((e=>({showingBrowserMode:e.showingBrowserMode,currentIndex:e.currentIndex})),v.bN);(0,n.useEffect)((()=>{const e=("v3"===l||"v4"===l)&&!u;!h&&b&&e&&t.length-y==1?g():h&&b&&!e&&!p&&t.length-y<=3&&m()}),[y,b,l,t.length,u,p,g,m,h])},C=(e,t,i,o)=>{(0,n.useEffect)((()=>{var n,r,a,l,d,s;const u=null!==(r=null===(n=document.getElementById("app-header"))||void 0===n?void 0:n.clientHeight)&&void 0!==r?r:0,c=null!==(l=null===(a=document.getElementById("search-tabs"))||void 0===a?void 0:a.clientHeight)&&void 0!==l?l:0,h=window.innerHeight;e.length>0&&(null!==(s=null===(d=t.current)||void 0===d?void 0:d.clientHeight)&&void 0!==s?s:0)+u+c<=h&&i&&(null==o||o())}),[e.length,t,i,o])}},99260:(e,t,i)=>{i.d(t,{Nj:()=>x,R8:()=>w,Sw:()=>y,b3:()=>b,tg:()=>f,xr:()=>_});var o=i(40099),n=i(11060),r=i(60484),a=i(49057),l=i(51356),d=i(72688),s=i(71281),u=i(92032),c=i(91210),h=i(60072),p=i(8877),m=i(93341),v=i(32125),g=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function a(e){try{d(o.next(e))}catch(e){r(e)}}function l(e){try{d(o.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,l)}d((o=o.apply(e,t||[])).next())}))};function f(){const{language:e,abTestVersion:t,user:i,appType:d}=(0,r.L$)((0,a.W)((()=>["language","abTestVersion","user","appType"]),[])),{uniqueId:s}=(0,n.g)();return(0,o.useMemo)((()=>Object.assign({language:e,abTestVersion:t,user:i,appType:d},(0,l.b_)(s))),[s,e,t,i,d])}function b({uniqueId:e,secUid:t}){const{user:i}=(0,r.L$)((0,a.W)((()=>["user"]),[]));return!!i&&(Boolean(e&&e===i.uniqueId)||Boolean(t&&t===i.secUid))}function y({user:e,listKey:t,locateItemID:i,count:n,useCachedVideoList:r}){const a=(0,u.Ag)(),l=(0,c.o6)();return(0,o.useCallback)((()=>g(this,void 0,void 0,(function*(){(null==e?void 0:e.secUid)&&(r?yield l.getItemList({secUid:e.secUid,userUniqueId:e.uniqueId}):yield a.getItemList(t,Object.assign(Object.assign({secUid:e.secUid},i&&{locateItemID:i}),n&&{count:n})))}))),[a,l,r,t,null==e?void 0:e.uniqueId,null==e?void 0:e.secUid,i,n])}const x=()=>{const e=(0,p.R0)((e=>e.uniqueId)),{pathname:t,search:i}=(0,n.zy)();(0,o.useEffect)((()=>{const o=t.replace(/^\/@/,"");if(e&&!(0,d.$2s)(o)){const t=`${(0,d.fJR)({uniqueId:e})}${i}`;window.history.replaceState(window.history.state,"",t)}}),[e,t])},_=()=>{var e;const{justWatchedVideo:t=null}=(0,m.MY)(),i=null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"",o=(0,r.L$)((0,h.F3)((e=>e[i]),v.bN));if(!i)return{justWatchedVideoId:null,justWatchedAuthorUniqueId:null,justWatchedAuthorId:null};const{author:n=null,authorId:a=null}=(0,r.L$)(o);return{justWatchedVideoId:i,justWatchedAuthorUniqueId:n,justWatchedAuthorId:a}},w=()=>{var e;const{abTestVersion:t}=(0,r.L$)((0,a.W)((()=>["abTestVersion"]),[]));return{count:{v0:35,v1:28,v2:24,v3:20,v4:16,v5:12}[null!==(e=(0,s.qt)(t,"reduce_user_item_list"))&&void 0!==e?e:"v0"]}}},51356:(e,t,i)=>{i.d(t,{b_:()=>n});var o=i(94810);function n(e){const t=o.A.isRealUniqueId(e),i=o.A.isPureNumber(e,!1);return t?{uniqueId:e.toLowerCase(),secUid:""}:i?{uniqueId:"",secUid:"",userId:e}:{uniqueId:"",secUid:e}}},15046:(e,t,i)=>{i.d(t,{F:()=>r});var o=i(24643);const n=(0,i(62186).default)("div",{target:"e1txrytm0"})((({theme:{colors:e,fontFamilies:t},useSmallBadge:i})=>({display:"inline-flex",padding:"0.0625rem 0.3125rem",alignItems:"center",gap:"0.625rem",borderRadius:"4px",background:"#fe2c55",color:e.ConstTextInverse,textAlign:"center",fontSize:i?"0.65rem":"0.75rem",fontStyle:"normal",fontFamily:t.TikTokFont,fontWeight:500,lineHeight:i?"110%":"130%",letterSpacing:"0.01006rem"})),"label:DivBadge;"),r=({children:e,useSmallBadge:t})=>(0,o.jsx)(n,{"data-e2e":"video-card-badge",useSmallBadge:t,children:e})},25206:(e,t,i)=>{i.d(t,{$D:()=>a});var o=i(73580),n=i(40099),r=i(91021);function a(e){const t=(0,o.Nj)(r.JX);(0,n.useEffect)((()=>{t.setPreloadQueue(e)}),[e,t])}},55453:(e,t,i)=>{i.d(t,{x:()=>r});var o=i(40099),n=i(43485);function r(e){(0,o.useEffect)((()=>{let t=[];e&&(t=e.map((e=>e.id)));const i=[...new Set(t)];n._.updateIds(i)}),[e])}},31344:(e,t,i)=>{i.d(t,{f:()=>o});const o={compact:{ratio:196/260,borderRadius:0},"following-recommend":{ratio:.75,borderRadius:8},"search-video-list":{ratio:229/305,borderRadius:2},explore:{ratio:.75,borderRadius:8}}}}]);