"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5452],{24834:(e,t,i)=>{i.d(t,{cM:()=>s,s6:()=>c,JP:()=>p});var o=i(2787),a=i(80704),n=i(51030),l=i(60322),r=i(77985);const d=[0];function s(e){const{detailInfo:t,successStatusCodeList:i=d,Header:a,Error:n,List:l}=e;return i.includes(t.statusCode)?(0,o.FD)(o.FK,{children:[(0,o.Y)(a,{detailInfo:t}),(0,o.Y)(l,{detailInfo:t})]}):(0,o.Y)(n,{detailInfo:t})}function c(e){const{detailInfo:t,listInfo:i,Error:a,Empty:n,List:l,Skeleton:r,successStatusCodeList:s=d,listKey:c,hasLivePreview:p}=e,{list:h,loading:u,hasMore:m}=i;if(!h.length){if(u)return(0,o.Y)(r,{});if(!s.includes(i.statusCode))return(0,o.Y)(a,{detailInfo:t,listInfo:i,listKey:c});if(!m&&!p)return(0,o.Y)(n,{detailInfo:t,listInfo:i,listKey:c})}return(0,o.Y)(l,{listInfo:i,detailInfo:t,listKey:c})}function p(...e){return function(t){return function(e){const t=function(t){return(0,o.FD)(o.FK,{children:[(0,o.Y)(e,Object.assign({},t)),(0,o.Y)(n.SP,{},"static")]})};return t.displayName=`WithFixedBottom(${(0,l.x)(e)})`,t}((0,a.B)((0,r.E)(...e)(t)))}}},95364:(e,t,i)=>{i.d(t,{vx:()=>k,wV:()=>m,iT:()=>w,OA:()=>C,Y4:()=>b,er:()=>T,AE:()=>f,TQ:()=>x,T:()=>g,EU:()=>_,RX:()=>D,JX:()=>y,Ul:()=>v,iP:()=>I,S_:()=>P,sJ:()=>S});var o=i(62186),a=i(12527),n=i(29212),l=i(72153),r=i(24643),d=i(40099),s=i(84987);const c={id:"video-dark-c51fa7d8",use:"video-dark-c51fa7d8-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="video-dark-c51fa7d8"><path fill="white" fill-opacity=".34" d="M28.447 35.066H4.777A4.21 4.21 0 0 1 .57 30.86V8.776A4.21 4.21 0 0 1 4.776 4.57H28.45a4.21 4.21 0 0 1 4.206 4.206v5.782l5.367-4.817a.843.843 0 0 1 1.405.625V29.27a.843.843 0 0 1-1.405.626l-5.367-4.818v5.782a4.215 4.215 0 0 1-4.209 4.206" /><path fill="white" fill-rule="evenodd" stroke="white" stroke-width=".6" d="M15.965 20.106v5.25c0 .197.16.357.357.357h.929c.197 0 .357-.16.357-.358v-5.25h5.25c.197 0 .357-.16.357-.357v-.928a.357.357 0 0 0-.358-.357h-5.25v-5.25a.357.357 0 0 0-.356-.357h-.929a.357.357 0 0 0-.357.357v5.25h-5.25a.357.357 0 0 0-.358.357v.928c0 .198.16.357.358.357z" clip-rule="evenodd" /></symbol>'};function p(e){const t=(0,d.useContext)(s.X);return(0,d.useLayoutEffect)((()=>(t.add(c),()=>{t.remove("video-dark-c51fa7d8")})),[]),(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,r.jsx)("use",{xlinkHref:"#video-dark-c51fa7d8"},void 0)}),void 0)}const h={id:"video-2aa117f7",use:"video-2aa117f7-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="video-2aa117f7"><path fill="#161823" fill-opacity=".34" d="M28.447 35.067H4.777A4.21 4.21 0 0 1 .57 30.861V8.777a4.21 4.21 0 0 1 4.206-4.205H28.45a4.21 4.21 0 0 1 4.206 4.205v5.782l5.367-4.817a.843.843 0 0 1 1.405.625v18.905a.843.843 0 0 1-1.405.625l-5.367-4.817v5.781a4.215 4.215 0 0 1-4.209 4.206" /><path fill="white" fill-rule="evenodd" stroke="white" stroke-width=".6" d="M15.965 20.107v5.25c0 .197.16.357.357.357h.929c.197 0 .357-.16.357-.357v-5.25h5.25c.197 0 .357-.16.357-.357v-.929a.357.357 0 0 0-.358-.357h-5.25v-5.25a.357.357 0 0 0-.356-.357h-.929a.357.357 0 0 0-.357.357v5.25h-5.25a.357.357 0 0 0-.358.357v.929c0 .197.16.357.358.357z" clip-rule="evenodd" /></symbol>'};function u(e){const t=(0,d.useContext)(s.X);return(0,d.useLayoutEffect)((()=>(t.add(h),()=>{t.remove("video-2aa117f7")})),[]),(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,r.jsx)("use",{xlinkHref:"#video-2aa117f7"},void 0)}),void 0)}const m=(0,o.default)("div",{target:"e3q47hb0"})((({theme:{isDark:e,colors:t}})=>({width:"100%",display:"flex",flexDirection:"column",background:e?t.BGSecondary:t.BGPrimary,padding:"40px 24px 92px",boxSizing:"border-box",borderRadius:"8px",height:"calc(100vh - 145px)",position:"relative"})),"label:DivContentContainer;"),g=(0,o.default)("p",{target:"e3q47hb1"})((({theme:e})=>[(0,l.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",typography:"P2",color:"TextSecondary"}),{display:"flex",alignItems:"center",cursor:"pointer",marginBottom:"16px"}]),"label:PBackText;"),f=(0,o.default)("h3",{target:"e3q47hb2"})((({theme:e})=>[(0,l.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",typography:"H3",color:"TextPrimary"})]),"label:H3Title;"),v=(0,o.default)(a.A,{target:"e3q47hb3"})((({theme:{direction:e}})=>({width:"20px",height:"20px",marginInlineEnd:"4px",transform:`rotateZ(${"rtl"===e?"180deg":0})`})),"label:StyledBackIcon;"),y=(0,o.default)("p",{target:"e3q47hb4"})((({theme:e})=>[(0,l.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P2",color:"TextTertiaryAlt"}),{marginTop:"4px"}]),"label:PSubtitle;"),b=(0,o.default)("div",{target:"e3q47hb5"})({height:"32px",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"32px 0 12px"},"label:DivNameContainer;"),x=(0,o.default)("h6",{target:"e3q47hb6"})((({theme:e})=>[(0,l.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",typography:"H6",color:"TextPrimary"}),{fontSize:"24px",lineHeight:"28px"}]),"label:H6Title;"),w=(0,o.default)("div",{target:"e3q47hb7"})({display:"flex"},"label:DivCountContainer;"),_=(0,o.default)("p",{target:"e3q47hb8"})((({theme:e,isRed:t=!1})=>[(0,l.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P4",color:t?"Primary":"TextTertiaryAlt"}),{fontSize:"14px",lineHeight:"17px"}]),"label:PCount;"),k=(0,o.default)("div",{target:"e3q47hb9"})((({theme:e})=>[(0,l.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",typography:"P3",color:"Primary"}),{display:"flex",height:"24px",alignItems:"center",justifyContent:"flex-end",cursor:"pointer"}]),"label:DivAddVideoContainer;"),I=(0,o.default)(n.A,{target:"e3q47hb10"})({width:"20px",height:"20px",marginInlineEnd:"4px"},"label:StyledPlus;"),C=(0,o.default)("div",{target:"e3q47hb11"})((({theme:e})=>({width:"100%",height:"206px",borderRadius:"4px",background:e.colors.BGView,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",cursor:"pointer"})),"label:DivEmptyContainer;"),P=(0,o.default)(u,{target:"e3q47hb12"})({width:"40px",height:"40px",marginBottom:"12px"},"label:StyledVideoIcon;"),S=(0,o.default)(p,{target:"e3q47hb13"})({width:"40px",height:"40px",marginBottom:"12px"},"label:StyledVideoIconDark;"),D=(0,o.default)("p",{target:"e3q47hb14"})((({theme:e})=>[(0,l.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P2",color:"TextSecondary"})]),"label:PEmptyText;"),T=(0,o.default)("div",{target:"e3q47hb15"})({display:"flex",flexDirection:"column",width:"100%",height:"100%",overflowY:"auto"},"label:DivVideoListContainer;")},57566:(e,t,i)=>{i.d(t,{q:()=>p,Y:()=>c});var o=i(2787),a=i(40099),n=i(28048),l=i(60484),r=i(62186);const d=(0,r.default)("div",{target:"e150kk9w0"})({width:"100%"},"label:DivDraggableListContainer;"),s=(0,r.default)("div",{target:"e150kk9w1"})((({isDragging:e=!1,theme:t})=>({background:e?t.colors.BGView:"",width:"100%"})),"label:DivDraggableItemContainer;");function c(e,t,i){const o=Array.from(e),[a]=o.splice(t,1);return o.splice(i,0,a),o}const p=(0,a.memo)((({supportDrag:e=!0,list:t=[],onDragEnd:i,renderItem:a})=>e?(0,o.Y)(n.JY,{onDragEnd:i,children:(0,o.Y)(n.gL,{droppableId:"droppable",children:(e,i)=>(0,o.FD)(d,Object.assign(Object.assign({},e.droppableProps),{ref:e.innerRef,isDraggingOver:i.isDraggingOver,children:[t.map(((e,t)=>(0,o.Y)(n.sx,{draggableId:e,index:t,children:(i,n)=>{let{transform:r}=(0,l.L$)(i.draggableProps.style);n.isDragging&&r&&(r=r.replace(/\(.+,/,"(0,"));const d=Object.assign(Object.assign({},i.draggableProps.style),{transform:r});return(0,o.Y)(s,Object.assign(Object.assign(Object.assign({ref:i.innerRef},i.draggableProps),i.dragHandleProps),{style:d,isDragging:n.isDragging,children:a({index:t,id:e})}))}},e))),e.placeholder]}))})}):(0,o.Y)(d,{children:t.map(((e,t)=>(0,o.Y)(s,{children:a({index:t,id:e})},e)))})))},43583:(e,t,i)=>{i.d(t,{F:()=>k,y:()=>I});var o=i(2787),a=i(67518),n=i(46682),l=i(40099),r=i(59131),d=i(25616),s=i(90159),c=i(48455),p=i(75431),h=i(62186),u=i(54502),m=i(28367),g=i(72153);const f=(0,h.default)("div",{target:"e1e94w3e0"})({position:"relative",width:"100%"},"label:DivEditAreaContainer;"),v=(0,h.default)("input",{target:"e1e94w3e1"})((({theme:{colors:e,isDark:t}})=>({width:"100%",height:"38px",borderRadius:"4px",background:t?e.BGView:e.BGInput,caretColor:"#fe2c55",fontSize:"16px",color:e.TextPrimary,lineHeight:"24px",outline:"none",border:"none",padding:"7px 12px",boxSizing:"border-box",paddingInlineEnd:"38px","&:focus":{background:e.BGInput2,outline:"1.5px solid rgba(22, 24, 35, 0.2)"}})),"label:InputText;"),y=(v.withComponent("textarea"),(0,h.default)("p",{target:"e1e94w3e10"})({height:"18px",lineHeight:"18px",color:"#FF4C3A",fontSize:"15px",marginTop:"6px",display:"flex",alignItems:"center"},"label:PInputError;")),b=(0,h.default)("div",{target:"e1e94w3e11"})((({theme:{colors:e}})=>({width:"16px",height:"16px",marginInlineEnd:"4px",display:"flex",justifyContent:"center",alignItems:"center","*":{fill:e.Primary}})),"label:DivIconWrapper;"),x=(0,h.default)(u.A,{target:"e1e94w3e12"})((({theme:e})=>[(0,g.mp)({direction:e.direction,end:"12px"}),{position:"absolute",top:"11px"}]),"label:StyledTickBold;"),w=(0,p.i7)({from:{transform:"rotateZ(0)"},to:{transform:"rotateZ(360deg)"}}),_=(0,h.default)(m.A,{target:"e1e94w3e13"})((({theme:e})=>[(0,g.mp)({direction:e.direction,end:"12px"}),{position:"absolute",top:"7px",animation:`${w} 1s infinite`}]),"label:StyledProgressCircle;"),k=25,I=(0,l.memo)((({initialPlaylistName:e="",placeholder:t,style:i})=>{const p=(0,d.s)(),{colors:h}=(0,a.u)(),[{playlistName:u="",loading:m=!1,isValid:g,hasChecked:w},I]=(0,n.S)(c.m,{selector:e=>({playlistName:e.playlistName,loading:e.loading,isValid:e.isValid,hasChecked:e.hasChecked}),dependencies:[]}),C=w&&g,P=w&&!g,S=(0,l.useMemo)((()=>u.length>k?p("playlist_webapp_creation_namePlaylist_characterCount_limit"):P?p("yproject_playlist_name_toast",{name:u}):""),[P,u,p]),D=(0,l.useCallback)((()=>P||u.length>k?(0,o.FD)(y,{children:[(0,o.Y)(b,{children:(0,o.Y)(r.O,{size:16})}),S]}):m?(0,o.Y)(_,{fill:h.LineInput,width:24,height:24}):C?(0,o.Y)(x,{fill:"#0BE09B",width:16,height:16}):void 0),[P,C,h.LineInput,S,m,u.length]),T=(0,s.d7)(((e="")=>{0===e.trim().length||e.length>k||I.checkPlaylistName(e)}),[I],1e3),F=(0,l.useCallback)((e=>{const{value:t}=e.target;T(t),I.setStatusCode(0),I.setIsValid(!0),I.setHasChecked(!1),I.setPlaylistName(t)}),[T,I]);return(0,l.useEffect)((()=>(e&&I.setPlaylistName(e),I.reset)),[I,e]),(0,o.FD)(f,{style:i,"data-e2e":"edit-playlist-name-input",children:[(0,o.Y)(v,{style:{outline:P?"1.5px solid #FF4C3A":""},placeholder:null!=t?t:p("playlist_webapp_upload_nameplaylist_header"),value:u,onChange:F}),D()]})}))},97539:(e,t,i)=>{i.d(t,{$:()=>E});var o=i(2787),a=i(67518),n=i(46682),l=i(41271),r=i(40099),d=i(73635),s=i(47009),c=i(25616),p=i(89311),h=i(79983),u=i(60484),m=i(10745),g=i(11983),f=i(84827),v=i(97446),y=i(32125),b=i(11060),x=i(70461),w=i(62186);const _=(0,w.default)("div",{target:"e1cea6s60"})((({theme:e})=>({position:"fixed",zIndex:3001,background:e.colors.BGPrimary})),"label:DivContainer;"),k=(0,w.default)("div",{target:"e1cea6s61"})((({theme:{colors:e}})=>({position:"fixed",left:0,top:0,right:0,bottom:0,background:e.ConstBGInverse2})),"label:DivMask;"),I=(0,w.default)("div",{target:"e1cea6s62"})((({position:e="left",width:t="320px",theme:{isDark:i,colors:o}})=>[{position:"fixed",top:0,bottom:0,right:"right"===e?0:"unset",left:"right"===e?"unset":0,width:t,overflowY:"auto",WebkitOverflowScrolling:"touch",boxSizing:"border-box",lineHeight:"32px",transform:`translateX(${"right"===e?"100%":"-100%"})`,transition:"transform 300ms",background:i?o.BGSecondary:o.BGPrimary,"::-webkit-scrollbar":{display:"none"},"&.enter-done":{transform:"translateX(0)"}}]),"label:DivContent;"),C=(0,r.memo)((e=>{const{active:t,setActive:i,zIndex:a=3001,width:n,position:l="right",children:d}=e,[s,c]=(0,r.useState)(!1),p=(0,b.W6)(),h=(0,r.useCallback)((()=>{i(!1)}),[i]);return(0,r.useEffect)((()=>(c(!0),p.listen((()=>{i(!1)})))),[]),(0,o.FD)(_,{style:{zIndex:a},children:[(0,o.Y)(x.A,{unmountOnExit:!0,timeout:300,in:s&&t,children:(0,o.Y)(k,{onClick:h})}),(0,o.Y)(x.A,{unmountOnExit:!0,timeout:300,in:s&&t,children:(0,o.Y)(I,{width:n,position:l,children:d})})]})}));var P=i(33634),S=i(15031),D=i(53962),T=i(72153);const F=(0,w.default)("div",{target:"evsm5jd0"})((({theme:{isDark:e,colors:t}})=>({position:"sticky",top:0,left:0,width:"100%",display:"flex",flexDirection:"column",padding:"24px 16px",boxSizing:"border-box",background:e?t.BGSecondary:t.BGPrimary,zIndex:10})),"label:DivDrawerHeaderContainer;"),z=(0,w.default)("p",{target:"evsm5jd1"})((({theme:e})=>[(0,T.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"bold",typography:"H6",color:"TextPrimary"}),{fontSize:"24px",lineHeight:"28px"}]),"label:PDrawerTitle;"),Y=(0,w.default)("p",{target:"evsm5jd2"})((({theme:e})=>[(0,T.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P1",color:"TextTertiaryAlt"}),{marginTop:"4px",fontSize:"14px",lineHeight:"17px"}]),"label:PDrawerSubtitle;"),A=(0,w.default)("div",{target:"evsm5jd3"})((({theme:{direction:e}})=>[(0,T.mp)({direction:e,end:20}),{position:"absolute",top:"24px",width:"24px",height:"24px",cursor:"pointer"}]),"label:DivCloseContainer;"),j=(0,w.default)("div",{target:"evsm5jd4"})({width:"100%",display:"flex",flexDirection:"column",height:"100%",overflowY:"auto"},"label:DivContentContainer;"),L=(0,w.default)("div",{target:"evsm5jd5"})({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh",boxSizing:"border-box",padding:"0 59px",position:"relative"},"label:DivErrorContainer;"),B=(0,w.default)("p",{target:"evsm5jd6"})((({theme:e})=>[(0,T.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",typography:"P1",color:"TextPrimary"}),{marginTop:"24px",textAlign:"center"}]),"label:PErrorTitle;"),V=(0,w.default)("p",{target:"evsm5jd7"})((({theme:e})=>[(0,T.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P3",color:"TextSecondary"}),{marginTop:"8px",textAlign:"center"}]),"label:PErrorDesc;"),E=(0,r.memo)((({needRequestAfterClickItem:e=!1,playlistId:t="",drawerActive:i,setDrawerActive:b,itemListKey:x,selectedVideoListKey:w,onHitBottom:_})=>{const k=(0,c.s)(),{isRTL:I}=(0,p.m)(),{colors:T}=(0,a.u)(),E=I?"left":"right",[{list:O=[],loading:M=!1,hasMore:q=!0},H]=(0,n.S)(h.O,{selector:e=>{var t;return null!==(t=e[x])&&void 0!==t?t:{}},dependencies:[x]}),R=(0,n.w)(S.a),[W,G]=(0,v.A4)((e=>{var i;return null!==(i=e[t])&&void 0!==i?i:{}}),y.bN),{list:$=[]}=(0,u.L$)((0,l.P)(h.O,{selector:e=>e[w],dependencies:[w]})),N=(0,r.useCallback)((e=>()=>{const{videoCount:t=0}=(0,u.L$)(W);G.setPlaylistDetail(Object.assign(Object.assign({},W),{videoCount:t+e}))}),[G,W]),K=(0,r.useCallback)((i=>()=>{const o=[...$],a=$.findIndex((e=>e===i)),n=a>=0;if(n)o.splice(a,1);else{if($.length>=P.GF)return void g.F.open({content:k("playlist_webapp_toast_error_vidlimit",{number:P.GF}),duration:3,widthType:"half"});o.push(i)}e?R.modifyPlaylistItems({playlistId:t,addItemIds:n?void 0:[i],deleteItemsIds:n?[i]:void 0,key:"video_playlist",enter_method:n?"remove_playlist_video":"add_playlist_video",onSuccess:N(n?-1:1)}):H.setItemListById({key:"create_video_playlist",list:o})}),[H,e,N,t,R,$,k]),U=(0,r.useCallback)((()=>{b(!1)}),[b]),X=0===O.length&&!q&&!M,J=(0,r.useRef)(null);return(0,m.O9)({onHitBottom:_,elemRef:J}),(0,r.useEffect)((()=>{i&&0===O.length&&q&&(null==_||_())}),[i,q,O.length,M,_]),(0,o.FD)(C,{active:i,setActive:b,width:"476px",position:E,children:[X&&(0,o.FD)(L,{children:[(0,o.Y)(A,{onClick:U,children:(0,o.Y)(d.A,{width:24,height:24,fill:T.TextTertiary})}),(0,o.Y)(s.A,{width:72,height:72,fill:T.TextTertiary}),(0,o.Y)(B,{children:k("playlist_webapp_selectvid_error_header")}),(0,o.Y)(V,{children:k("playlist_webapp_selectvid_error_desc")})]}),!X&&(0,o.FD)(o.FK,{children:[(0,o.FD)(F,{children:[(0,o.Y)(z,{children:k("playlist_webapp_selectvid_header")}),(0,o.Y)(Y,{children:k("playlist_webapp_selectvid_desc")}),(0,o.Y)(A,{onClick:U,children:(0,o.Y)(d.A,{width:24,height:24,fill:T.TextTertiary})})]}),(0,o.FD)(j,{ref:J,children:[O.map(((e,t)=>(0,o.Y)(D.$E,{id:e,index:t,onClickVideoItem:K(e),selectedVideos:$,needShowMaskWhenAddedToOtherPlaylist:!0,needPostCheckbox:!0,supportPreview:!0},e))),M&&(0,o.Y)(f.R,{center:!0})]})]})]})}))},53962:(e,t,i)=>{i.d(t,{$E:()=>C,Rr:()=>S});var o=i(2787),a=i(41271),n=i(57432),l=i.n(n),r=i(40099),d=i(94204),s=i(25616),c=i(52333),p=i(60484),h=i(88920),u=i(93341),m=i(58305),g=i(39743),f=i(48180),v=i(31918),y=i(11983),b=i(11328),x=i(28369),w=i(70510);const _=(0,i(62186).default)("div",{target:"e117us4s0"})((({theme:e})=>({width:"36px",height:"28px",display:"flex",justifyContent:"center",alignItems:"center","*":{fill:e.colors.TextSecondary}})),"label:DivIconWrapper;");var k=i(77170);const I=(0,i(77976).w)(w.f_),C=(0,r.memo)((({id:e,index:t,target:i="_self",onClickVideoItem:n=l(),editState:b="none",selectedVideos:C=[],needPostCheckbox:P=!1,needPostDragIcon:S=!1,supportPreview:D=!1,needShowMaskWhenAddedToOtherPlaylist:T=!1,extraTeaParams:F={}})=>{const z=(0,s.s)(),Y=(0,a.P)(c.k,{selector:t=>t[e],dependencies:[e]}),{video:A,playlistId:j,desc:L="",authorId:B="",scheduleTime:V=0,secret:E,forFriend:O,logId:M,isAd:q}=(0,p.L$)(Y),{playCount:H,isReposted:R}=(0,k.D)(Y),{duration:W,zoomCover:G,cover:$="",playAddr:N="",bitrateInfo:K,bitrate:U,volumeInfo:X,VQScore:J=0}=(0,p.L$)(A),Z=(null==G?void 0:G[240])||(null==G?void 0:G[480])||$,Q=C.includes(e),ee=T&&Boolean(j)&&"0"!==j,te=(0,r.useMemo)((()=>({group_id:e,author_id:B,is_scheduled:Boolean(V),playlist_id:j,secret:E,forFriend:O,isReposted:R,log_id:M,isAd:q})),[e,B,V,j,E,O,R,M,q]),ie=(0,r.useMemo)((()=>Object.assign({playlist_id:j},F)),[F,j]),oe=(0,h.uT)(),ae=(0,u.nr)(),ne=(0,x.EL)(),le=(0,r.useRef)(null),re=(0,r.useRef)(null),de=(0,r.useCallback)((i=>{var o,a,n,l;ee||((0,m.Gu)(i),ae.updateVideo({currentVideo:{id:e,index:t,mode:1},playProgress:oe?null!==(a=null===(o=re.current)||void 0===o?void 0:o.currentTime)&&void 0!==a?a:0:null!==(l=null===(n=le.current)||void 0===n?void 0:n.currentTime)&&void 0!==l?l:0}))}),[ee,ae,e,t,oe]),se=(0,r.useCallback)((()=>{if(ee)return y.F.destroy(),void y.F.open({content:z("playlist_webapp_selectvid_toast_alreadyadded"),duration:3,widthType:"half"});null==n||n()}),[ee,n,z]),ce=(0,r.useMemo)((()=>({poster:Z,desc:L})),[Z,L]),pe=(0,r.useMemo)((()=>({params:te})),[te]),he=(0,r.useMemo)((()=>({vqscore:J?Number(J):0})),[J]);return(0,o.FD)(I,{onClick:se,hasBeenAddedToOtherPlaylist:ee,etImpression:{etName:"video_expose",etParams:{popup_type:"playlist",backend_source_event_tracking:"",rank:t,playlist_id:j},unobserveAfterIntersect:!0},children:[("none"===b||"initial"===b||"add_videos"===b)&&(0,o.Y)(w.kl,{children:t<9?`0${t+1}`:t+1}),"remove_videos"===b&&(0,o.Y)(w.kl,{children:Q?(0,o.Y)(w.zI,{}):(0,o.Y)(w.Mr,{})}),D?(0,o.Y)(w.id,{onMouseEnter:de,children:(0,o.Y)(w.zi,{children:oe?(0,o.Y)(f.o,{id:e,url:N,horizontal:!1,mode:1,ref:re,index:t,muted:!0,duration:W,bitrateInfo:K,disableDownload:!0,bitrate:Number(U),posterConfig:ce,teaConfig:pe,videoQualityConfig:he,fetchPriority:ne&&t<3?"high":"auto"}):(0,o.Y)(g.K,{desc:L,poster:Z,horizontal:!1,mode:1,ref:le,id:e,playUrl:N,index:t,itemMute:!0,duration:W,bitrateInfo:K,teaParams:te,disableDownload:!0,volumeInfo:X,bitrate:Number(U),fetchPriority:ne&&t<3?"high":"auto"})})}):(0,o.Y)(w.kK,{src:Z,fetchPriority:ne&&t<3?"high":"auto"}),(0,o.FD)(w.jb,{children:[(0,o.Y)(v.g,{onLinkClick:l(),ellispsisLine:2,ellipsisOnNarrow:!0,item:Y,target:i,e2eTag:"browse-video-desc",reportParams:ie}),(0,o.Y)(w.Mk,{children:z("playlist_webapp_profileview_playlists_numberviews",{num:H.toString(),number:(0,p.D1)(H)})})]}),P&&(0,o.Y)(w.AV,{children:Q||ee?(0,o.Y)(w.zI,{}):(0,o.Y)(w.Mr,{})}),S&&(0,o.Y)(_,{children:(0,o.Y)(d.D,{size:28})})]})})),P=(0,r.memo)((({index:e})=>(0,o.FD)(w.f_,{children:[(0,o.Y)(w.kl,{children:e<9?`0${e+1}`:e+1}),(0,o.Y)(b.sH,{style:{width:"80px",height:"106px",flexShrink:0}}),(0,o.FD)(w.jb,{children:[(0,o.Y)(b.eg,{style:{width:"50%",height:"20px"}}),(0,o.Y)(b.eg,{style:{width:"30%",height:"17px",marginTop:"6px"}})]})]}))),S=(0,r.memo)((({startIndex:e=0})=>(0,o.Y)(o.FK,{children:new Array(10).fill(0).map(((t,i)=>(0,o.Y)(P,{index:e+i},`${e+i}`)))})))},33634:(e,t,i)=>{i.d(t,{GF:()=>a,i9:()=>o});const o={width:"154px",height:"44px",fontSize:"15px",lineHeight:"18px",minHeight:"unset",marginInlineStart:"8px"},a=100;var n;!function(e){e.None="none",e.Initial="initial",e.RemoveVideos="remove_videos",e.AddVideos="add_videos"}(n||(n={}))},20103:(e,t,i)=>{i.d(t,{B3:()=>f,gx:()=>g,o0:()=>v});var o=i(2787),a=i(46682),n=i(41271),l=i(40099),r=i(11060),d=i(60484),s=i(49057),c=i(79983),p=i(12055),h=i(82715),u=i(37367),m=i(63849);function g(e){const{language:t="en",abTestVersion:i,user:o}=(0,d.L$)((0,s.W)((()=>["language","abTestVersion","user"]),[])),[n,r]=(0,a.S)(c.O,{selector:e=>{var t;return null!==(t=e.video_playlist)&&void 0!==t?t:p.q},dependencies:[]}),h=(0,m.V6)(),{loading:u,hasMore:g}=n;return(0,l.useCallback)((()=>{!u&&g&&(h.fetchPlaylistItemList({mixId:e,itemListKey:"video_playlist"}),r.getPlaylistVideoList({mixId:e,key:"video_playlist",abTestVersion:i,user:o,language:t}))}),[u,g,h,e,r,i,o,t])}const f=()=>{const{mixInfo:e}=(0,n.P)(u.N,{selector:e=>({mixInfo:e.mixInfo}),dependencies:[]}),{id:t="",name:i="",creator:o}=(0,d.L$)(e),{uniqueId:a=""}=(0,d.L$)(o),s=(0,r.W6)(),{pathname:c}=(0,r.zy)(),{id:p}=(0,r.g)();(0,l.useEffect)((()=>{if(!a||!t)return;const e=h.$T.videoPlaylist({id:t,uniqueId:a,content:i});if(i&&p===t&&e!==c){const t=`${e}${location.search}`;s.replace(t)}}),[t,c,s,i,p,a])},v=e=>(0,l.useMemo)((()=>{const t=e.length-e.trimStart().length;return t?(0,o.Y)(o.FK,{children:new Array(t).fill(0).map(((e,t)=>(0,o.Y)(l.Fragment,{children:" "},`${t}`)))}):null}),[e])},15031:(e,t,i)=>{i.d(t,{a:()=>_});var o=i(58632),a=i(64162),n=i(4126),l=i(93995),r=i(340),d=i(24451),s=i(35572),c=i(20259),p=i(23999),h=i(8536),u=i(26324),m=i(64356),g=i(79983),f=i(39952),v=i(11983),y=i(7672),b=i(4474),x=i(55099);let w=class{constructor(e){this.fetch=e}modifyPlaylistVideoItems(e){const{playlistId:t,addItemIds:i=[],deleteItemsIds:o=[],commitItemIds:a=[],enter_method:n}=e;let l={};switch(n){case"remove_playlist_video":l={playlistId:t,deleteItemsIds:o.join(",")};break;case"add_playlist_video":l={playlistId:t,addItemIds:i.join(",")};break;case"reorder_playlist_video":l={playlistId:t,commitItemIds:a.join(",")}}return this.fetch.post("/api/playlist/modify_items/",{baseUrlType:2,body:b.stringify(l)})}};w=(0,o.__decorate)([(0,y._)(),(0,o.__metadata)("design:paramtypes",[x.p])],w);let _=class extends a.E{constructor(e,t,i){super(),this.service=e,this.itemList=t,this.t=i,this.defaultState={loading:!1,statusCode:0}}setLoading(e,t){e.loading=t}setStatusCode(e,t){e.statusCode=t}modifyPlaylistItems(e){return e.pipe((0,d.E)(this.itemList.state$),(0,s.p)((([e,t])=>this.service.modifyPlaylistVideoItems(e).pipe((0,c.W)((()=>(0,p.of)({statusCode:-1}))),(0,h.Z)((({statusCode:i})=>{var o,a,n,l;const{key:r="",addItemIds:d=[],deleteItemsIds:s=[],commitItemIds:c=[],enter_method:h,playlistId:u,onSuccess:m,onError:g}=e,y=0===i?"1":"0";if(f.c.handleCompleteEditingPlaylist({playlist_id:u,enter_method:h,status:y}),"remove_playlist_video"===h&&f.c.handleRemovePlaylistVideo({playlist_id:u,enter_method:"edit_playlist",video_list:s.join(","),video_cnt:s.length,status:y}),206003===i)return v.F.open({content:this.t("playlist_webapp_toast_error_cheatPlaylistCannotAdd"),duration:3,widthType:"half"}),(0,p.of)(this.noop());if(0!==i)return v.F.open({content:this.t("playlist_webapp_toast_error_tryagain"),duration:3,widthType:"half"}),null==g||g(),(0,p.of)(this.noop());let b=[...null!==(a=null===(o=t[r])||void 0===o?void 0:o.list)&&void 0!==a?a:[]];const x=null===(l=null===(n=t[r])||void 0===n?void 0:n.hasMore)||void 0===l||l;return"reorder_playlist_video"===h?b.splice(0,c.length,...c):"remove_playlist_video"===h?(b=b.filter((e=>!s.includes(e))),v.F.open({content:this.t("playlist_webapp_profileview_toast_vidremoved",{num:s.length,number:s.length}),duration:3,widthType:"half"})):"add_playlist_video"===h&&b.unshift(...d),null==m||m(),(0,p.of)(this.getActions().setStatusCode(i),this.itemList.getActions().setItemListById({key:r,list:b,hasMore:x}))}))))))}};(0,o.__decorate)([(0,n.uk)(),(0,o.__metadata)("design:type",u.c)],_.prototype,"dispose$",void 0),(0,o.__decorate)([(0,n.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],_.prototype,"setLoading",null),(0,o.__decorate)([(0,n.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Number]),(0,o.__metadata)("design:returntype",void 0)],_.prototype,"setStatusCode",null),(0,o.__decorate)([(0,n.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.c]),(0,o.__metadata)("design:returntype",void 0)],_.prototype,"modifyPlaylistItems",null),_=(0,o.__decorate)([(0,l.n)("PlaylistVideoItemsModule"),(0,o.__param)(2,(0,r.y)(m.hp)),(0,o.__metadata)("design:paramtypes",[w,g.O,Function])],_)},70510:(e,t,i)=>{i.d(t,{dJ:()=>w,id:()=>S,kl:()=>k,hD:()=>b,Fz:()=>x,mn:()=>h,cv:()=>u,zi:()=>D,Mr:()=>P,jb:()=>F,f_:()=>_,er:()=>y,Rw:()=>m,kK:()=>T,V6:()=>f,Mk:()=>z,zI:()=>C,AV:()=>I,ew:()=>v,np:()=>g});var o=i(62186),a=i(85041),n=i(72153),l=i(59504),r=i(24643),d=i(40099),s=i(84987);const c={id:"checked-b88b8421",use:"checked-b88b8421-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="checked-b88b8421"><path fill="#FE2C55" fill-rule="evenodd" d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12" clip-rule="evenodd" /><path fill="white" d="m10.25 15.064 7.88-8.12a.5.5 0 0 1 .708-.01l.717.697a.5.5 0 0 1 .01.707l-8.597 8.859a1 1 0 0 1-1.436 0l-4.098-4.223a.5.5 0 0 1 .01-.707l.718-.697a.5.5 0 0 1 .707.011z" /></symbol>'};function p(e){const t=(0,d.useContext)(s.X);return(0,d.useLayoutEffect)((()=>(t.add(c),()=>{t.remove("checked-b88b8421")})),[]),(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,r.jsx)("use",{xlinkHref:"#checked-b88b8421"},void 0)}),void 0)}const h=(0,o.default)("div",{target:"e1dztoqb0"})((({theme:{isDark:e,colors:t}})=>({width:"100%",flexGrow:1,background:e?t.BGCreation3:t.BGView,padding:"20px 48px",boxSizing:"border-box","@media screen and (min-width: 1536px)":{paddingInlineStart:"calc(50vw - 240px - 480px)"}})),"label:DivPageContainer;"),u=(0,o.default)("div",{target:"e1dztoqb1"})({display:"flex",flexDirection:"column",width:"100%",flexGrow:0,flexShrink:1,maxWidth:"960px"},"label:DivPageInnerContainer;"),m=(0,o.default)("h1",{target:"e1dztoqb2"})((({theme:e})=>[(0,n.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",typography:"P1",color:"TextPrimary"}),{fontSize:"28px",lineHeight:"38px",wordBreak:"break-word"},(0,n.m4)(2)]),"label:H1ShareTitle;"),g=(0,o.default)(a.E,{target:"e1dztoqb3"})((({theme:e})=>[(0,n.zy)({theme:e,typography:"P2",fontFamily:"TikTokFont",fontWeight:"semiBold"}),{marginTop:"5px"}]),"label:StyledUserLink;"),f=(0,o.default)("p",{target:"e1dztoqb4"})((({theme:e})=>[(0,n.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P3",color:"TextSecondary"}),{fontSize:"16px",lineHeight:"20px"}]),"label:PVideoCount;"),v=(0,o.default)(l.Ct,{target:"e1dztoqb5"})({marginRight:"25px"},"label:StyledSkeletonContainer;"),y=(0,o.default)("div",{target:"e1dztoqb6"})((({theme:{isDark:e,colors:t},needPadding:i})=>({width:"100%",height:`calc(100vh - ${i?320:290}px)`,display:"flex",flexDirection:"column",padding:"12px 22px",boxSizing:"border-box",background:e?t.BGSecondary:t.BGPrimary,borderRadius:"8px",position:"relative",paddingBottom:i?"92px":"12px"})),"label:DivVideoListContainer;"),b=(0,o.default)("div",{target:"e1dztoqb7"})({display:"flex",flexDirection:"column",height:"100%",overflow:"auto"},"label:DivListContainer;"),x=(0,o.default)("div",{target:"e1dztoqb8"})({display:"flex",flexDirection:"column"},"label:DivListInnerContainer;"),w=(0,o.default)("div",{target:"e1dztoqb9"})((({theme:e})=>({height:"92px",width:"100%",boxSizing:"border-box",display:"flex",justifyContent:"flex-end",alignItems:"center",position:"absolute",bottom:0,left:0,paddingInlineEnd:"24px",":before":{display:"block",position:"absolute",left:0,top:0,content:'""',height:"0.5px",width:"100%",background:e.colors.LinePrimary}})),"label:DivBtnContainer;"),_=(0,o.default)("div",{target:"e1dztoqb10"})((({theme:e,hasBeenAddedToOtherPlaylist:t=!1})=>({position:"relative",width:"100%",display:"flex",alignItems:"center",padding:"12px 0",paddingInlineEnd:"24px",boxSizing:"border-box",borderRadius:"8px",cursor:t?"not-allowed":"pointer",opacity:t?.34:1,":hover":{background:e.colors.BGView}})),"label:DivVideoItemContainer;"),k=(0,o.default)("div",{target:"e1dztoqb11"})((({theme:e})=>[(0,n.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",typography:"P2",color:"TextSecondary"}),{minWidth:"36px",justifyContent:"center",marginInlineEnd:"12px",textAlign:"center",alignItems:"center"}]),"label:DivIndex;"),I=(0,o.default)(k,{target:"e1dztoqb12"})({margin:0},"label:StyledPostCheckboxContainer;"),C=(0,o.default)(p,{target:"e1dztoqb13"})({width:"24px",height:"24px"},"label:StyledChecked;"),P=(0,o.default)("div",{target:"e1dztoqb14"})((({theme:e})=>({width:"24px",height:"24px",borderRadius:"24px",border:`1.5px solid ${e.colors.LineSecondary}`,display:"inline-block",overflow:"visible"})),"label:DivUnChecked;"),S=(0,o.default)("div",{target:"e1dztoqb15"})({position:"relative",width:"80px",height:"106px",flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center",overflow:"visible",borderRadius:"2px"},"label:DivCoverContainer;"),D=(0,o.default)("div",{target:"e1dztoqb16"})({width:"100%",height:"100%",objectFit:"cover",transition:"all 0.3s ease",borderRadius:"2px",overflow:"hidden",":hover":{transform:"scale(1.4)"}},"label:DivPreviewContainer;"),T=(0,o.default)("img",{target:"e1dztoqb17"})((({fetchPriority:e="auto"})=>({width:"80px",height:"106px",objectFit:"cover",flexShrink:0,borderRadius:"2px",fetchPriority:e})),"label:ImgVideoCover;"),F=(0,o.default)("div",{target:"e1dztoqb18"})({display:"flex",flexDirection:"column",justifyContent:"center",marginInlineStart:"20px",flexGrow:1},"label:DivVideoDescContainer;"),z=(0,o.default)("span",{target:"e1dztoqb19"})((({theme:e})=>[(0,n.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",color:"TextTertiaryAlt"}),{fontSize:"14px",lineHeight:"17px",marginTop:"6px"}]),"label:SpanVideoViews;")},96141:(e,t,i)=>{i.d(t,{nO:()=>s,ur:()=>c,vn:()=>p});var o=i(42230),a=i(14374),n=i(31209),l=i(43723);const r=(0,a._)((0,l.p)("appPromotionAtom@tiktok/webapp-atoms",{isPwaInstallable:!1,isModalShow:!1,isExpand:!1}),{rehydrationKey:"webapp.appPromotion"});let d;const{useAtomService:s,useServiceDispatchers:c,useServiceState:p,getStaticApi:h}=(0,n.i)(r,((e,t)=>({storeDeferredPrompt(e){d=e},setIsPwaInstallable(e){t(r,(t=>Object.assign(Object.assign({},t),{isPwaInstallable:e})))},setIsModalShow(e){t(r,(t=>Object.assign(Object.assign({},t),{isModalShow:e})))},setIsExpand(e){t(r,(t=>Object.assign(Object.assign({},t),{isExpand:e})))},handleShowSnack(e){o.R.handleShowSnack(e)},handleClickDownload(){o.R.handleClickDownload()},handleInstallationClick(){return e=this,t=void 0,a=function*(){if(o.R.handleGetForPC(),!d)return;d.prompt();const e=yield d.userChoice;return"accepted"===e.outcome?o.R.handleInstallApp():console.warn("choice result outcome is not accepted"),"accepted"===e.outcome?this.setIsPwaInstallable(!1):void 0},new((i=void 0)||(i=Promise))((function(o,n){function l(e){try{d(a.next(e))}catch(e){n(e)}}function r(e){try{d(a.throw(e))}catch(e){n(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(l,r)}d((a=a.apply(e,t||[])).next())}));var e,t,i,a}})))},98819:(e,t,i)=>{i.d(t,{f:()=>o});const o={Min:500,Small:768,Medium:1024,Large:1280,XLarge:1440}},38812:(e,t,i)=>{i.d(t,{BL:()=>l,CW:()=>s,FS:()=>n,Y:()=>d,fb:()=>a,pI:()=>r});var o=i(93341);const a=(e,t,i)=>(0,o.MY)((o=>{var a;return(null===(a=o.currentVideo)||void 0===a?void 0:a.mode)===e&&o.currentVideo.id===t&&o.currentVideo.index===i})),n=e=>{const t=(0,o.nU)(e),i=(0,o.RT)();return t&&0===i},l=()=>{var e,t,i;return null!==(i=null===(t=null===(e=(0,o.LM)().getStaticPlayerState())||void 0===e?void 0:e.currentVideo)||void 0===t?void 0:t.index)&&void 0!==i?i:0},r=()=>{var e,t,i;return null!==(i=null===(t=null===(e=(0,o.LM)().getStaticPlayerState())||void 0===e?void 0:e.prevVideo)||void 0===t?void 0:t.index)&&void 0!==i?i:0},d=()=>{var e,t,i;return null!==(i=null===(t=null===(e=(0,o.LM)().getStaticPlayerState())||void 0===e?void 0:e.currentVideo)||void 0===t?void 0:t.id)&&void 0!==i?i:"0"},s=()=>{var e,t,i;return null!==(i=null===(t=null===(e=(0,o.LM)().getStaticPlayerState())||void 0===e?void 0:e.prevVideo)||void 0===t?void 0:t.id)&&void 0!==i?i:"0"}},43108:(e,t,i)=>{i.d(t,{c:()=>d});var o=i(24643),a=i(40099),n=i(47172),l=i(60322),r=i(33805);function d(e){return function(t){const i=i=>{const{selfFocusable:l=!1}=i,{pathname:d}=(0,n.useLocation)(),s=(0,a.useMemo)((()=>null!=e?e:(0,r.N2)(d)),[d]),c=(0,a.useMemo)((()=>"unknown"===s?void 0:`main-content-${s}`),[s]),p=(0,a.useMemo)((()=>l?0:void 0),[l]),h=(0,a.useMemo)((()=>Object.assign(Object.assign({},i),{tabIndex:p,containerID:c})),[i,p,c]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(t,Object.assign({},h))})};return i.displayName=`WithA11yFocusManagerHOC(${(0,l.x)(t)})`,i}}},12055:(e,t,i)=>{i.d(t,{q:()=>o});const o=Object.freeze({statusCode:0,loading:!0,list:[],browserList:[],hasMore:!0,cursor:"0",preloadList:[]})},42230:(e,t,i)=>{i.d(t,{R:()=>n});var o,a=i(93608);!function(e){e.ShowSnackbar="show_snackbar",e.ShowSnackbarAuto="show_snackbar_auto",e.ClickDownloadBar="click_download_bar",e.ClickGetForPC="click_get_for_pc",e.InstalWebApp="install_web_app",e.ClickGetApp="click_get_app_for_pc"}(o||(o={}));const n={handleShowSnack:e=>{const t=e?"show_snackbar_auto":"show_snackbar";a.f.event(t)},handleClickDownload:()=>{a.f.event("click_download_bar")},handleGetForPC:()=>{a.f.event("click_get_for_pc")},handleInstallApp:()=>{a.f.event("install_web_app")},handleClickGetApp:({enter_method:e})=>{a.f.event("click_get_app_for_pc",{enter_method:e})}}}}]);