"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6145],{15662:(e,t,a)=>{a.d(t,{b:()=>n,f:()=>o});var i=a(43723);const n=(0,i.p)("shareAtom@tiktok/webapp-atoms",{isOpen:!1}),o=(0,i.p)("shareUsersAtom@tiktok/webapp-atoms",{selectedUsers:new Set})},62512:(e,t,a)=>{a.d(t,{Vv:()=>s,_k:()=>l,wO:()=>r});var i=a(31209),n=a(93608),o=a(15662);const{useAtomService:r,useServiceState:l,useServiceDispatchers:s}=(0,i.i)(o.b,((e,t)=>({openMenu(e){var{activeMenu:a="share"}=e,i=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(a[i[n]]=e[i[n]])}return a}(e,["activeMenu"]);t(o.b,Object.assign(Object.assign({},i),{isOpen:!0,activeMenu:a})),t(o.f,{selectedUsers:new Set})},closeMenu(){t(o.b,(e=>Object.assign(Object.assign({},e),{isOpen:!1,activeMenu:void 0})))},openShare(){t(o.b,(e=>Object.assign(Object.assign({},e),{activeMenu:"share"})))},openEmbed(e){t(o.b,(t=>Object.assign(Object.assign({},t),{itemId:e,activeMenu:"embed"})))},openMessagePanel(e,a){t(o.b,(t=>Object.assign(Object.assign({},t),{itemId:e,isMessageFromShare:a,activeMenu:"message"})))},reportMessageInput(){const{hasReportedMessageInput:a,teaParams:i,activeMenu:r}=e(o.b);a||(n.f.sendEvent("share_write_message",Object.assign(Object.assign({},i),{enter_method:"message"===r?"search_dm":"quick:dm"})),t(o.b,(e=>Object.assign(Object.assign({},e),{hasReportedMessageInput:!0}))))},reportShowMoreShareOptions(){const{hasReportedShowMoreShareOptions:a,teaParams:i}=e(o.b);!a&&i&&(n.f.sendEvent("show_more_share_options",Object.assign(Object.assign({},i),{enter_method:"scroll"})),t(o.b,(e=>Object.assign(Object.assign({},e),{hasReportedShowMoreShareOptions:!0}))))}})))},90217:(e,t,a)=>{a.d(t,{B:()=>n});var i=a(40099);function n({intersectionHandler:e,outerSectionHandler:t,element:a,threshold:n,root:o,rootMargin:r="0px",unobserveAfterIntersect:l,skip:s}){const d=(0,i.useRef)();return(0,i.useEffect)((()=>{if(s)return;const i=a=>{var i;const n=a[0];n.isIntersecting&&e?(e(n),l&&(null===(i=d.current)||void 0===i||i.unobserve(n.target))):!n.isIntersecting&&t&&t(n)};try{const e={rootMargin:r,threshold:n};(null==o?void 0:o.current)&&(e.root=o.current),d.current=new IntersectionObserver(i,e),(null==a?void 0:a.current)&&d.current&&d.current.observe(a.current)}catch(e){console.error(e)}return()=>{var e;null===(e=d.current)||void 0===e||e.disconnect()}}),[a,e,t,n,l,s,r,o]),d}},42858:(e,t,a)=>{a.d(t,{Y:()=>bt});var i=a(24643),n=a(46682),o=a(41271),r=a(40099),l=a(68652),s=a(12527),d=a(54622),c=a(25616),u=a(95481),g=a(47926),p=a(89311),h=a(78305),x=a(67518),v=a(71615),m=a(26722),f=a(21512),b=a(84827),_=a(25342),j=a(49057),S=a(4712),y=a(33843),C=a(37568),k=a(62186);const w=(0,k.default)("div",{target:"ejurlyw0"})((({top:e})=>({textAlign:"center",margin:`${e}px auto 0px`})),"label:DivMid;"),D=(0,k.default)("button",{target:"ejurlyw1"})((({theme:e})=>({width:"240px",height:"44px",margin:"133px auto 0px",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px",textAlign:"center",cursor:"pointer",color:e.colors.TextPrimary,fontSize:"16px",lineHeight:"22px",padding:"11px 0px",background:e.colors.BGTertiary2,display:"block"})),"label:ButtonRetry;"),T=()=>{var e,t,a,d,u;const g=(0,c.s)(),{isRTL:k}=(0,p.m)(),{user:T}=null!==(e=(0,j.W)((()=>["user","region"]),[]))&&void 0!==e?e:{},O=(0,n.w)(h.y7),{colors:P}=(0,x.u)(),I=(0,o.P)(h.y7,{selector:e=>{const{lastStatus:t,requesting:a,loading:i,PageState:n,PageStateData:o,UserData:r,reportTarget:l,reasons:s}=e;return{lastStatus:t,requesting:a,loading:i,PageState:n,PageStateData:o,UserData:r,reportTarget:l,reasons:s}},dependencies:[]}),L=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),I.reportTarget&&O.getReasons({reportTarget:I.reportTarget,uid:null==T?void 0:T.uid})}),[O,I.reportTarget]),A=e=>e.reason_type_id,E=(0,r.useCallback)((e=>t=>{var a,i,n,o,r,l,s,d,c,u,g,p,x,v,m,b;t.preventDefault(),t.stopPropagation();let j=null===(i=null===(a=I.PageStateData)||void 0===a?void 0:a.reasons)||void 0===i?void 0:i.find((t=>A(t)===e));if(j&&O.setUserData({selectedReason:j,HistoryReason:[...null!==(n=I.UserData.HistoryReason)&&void 0!==n?n:[],j]}),!j)return;if(j.reason_type_id===f.ek.IPInfringementRightOwner){const e="https://www.tiktok.com/business/en/report?end_type=web";return void window.open(e,"_blank")}const y=(0,S.zW)(null===(o=I.reportTarget)||void 0===o?void 0:o.ad_info);C.J.handleAdReasonSelect({tag:(null===(r=I.reportTarget)||void 0===r?void 0:r.play_mode)&&_.EM[I.reportTarget.play_mode]||_.xY.OneColumn,category:_.XJ,refer:_.Hq.Button,value:String(null===(s=null===(l=I.reportTarget)||void 0===l?void 0:l.ad_info)||void 0===s?void 0:s.creative_id),log_extra:(null===(c=null===(d=I.reportTarget)||void 0===d?void 0:d.ad_info)||void 0===c?void 0:c.log_extra)||JSON.stringify({rit:(null===(u=I.reportTarget)||void 0===u?void 0:u.isVideoDetailBannerAds)?_.uY:_.OZ,req_id:null==y?void 0:y.req_id}),reason_id:`${(null===(g=I.UserData.selectedReason)||void 0===g?void 0:g.reason_type_id)||""}`,description:j.desc||"",is_ad_event:"1"});const k=null!==(p=j.sub_reason)&&void 0!==p?p:[],w=JSON.parse(null!==(x=j.option)&&void 0!==x?x:"{}"),{action:D}=w;if(k.length>0)O.handleNextReason({nextReason:null!==(v=j.sub_reason)&&void 0!==v?v:[],reason_id:j.reason_type_id});else switch((null==D?void 0:D.action_type)||"submit"){case"submit":case"route":break;default:const e=D.action_params.route_path||"Desc";O.handleNextForm(h.wl[e])}!j||Boolean(null===(m=j.sub_reason)||void 0===m?void 0:m.length)?O.handleNextReason({nextReason:null!==(b=j.sub_reason)&&void 0!==b?b:[],reason_id:j.reason_type_id}):O.handleNextForm((0,f.f2)(j.reason_type_id)?2:1)}),[I.PageStateData,O,I.UserData.HistoryReason,T,I.reportTarget]);return(0,i.jsx)(y.an,{children:I.loading?(0,i.jsx)(y.TU,{children:(0,i.jsx)(b.R,{})}):0===(null===(a=null===(t=I.PageStateData)||void 0===t?void 0:t.reasons)||void 0===a?void 0:a.length)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w,{top:57,children:(0,i.jsx)(v.A,{width:72,height:72})}),(0,i.jsx)(w,{top:20,style:{fontSize:"18px",lineHeight:"24px",color:P.TextPrimary},children:g("pm_mt_live_page_sth_wrong")}),(0,i.jsx)(w,{top:12,style:{fontSize:"16px",lineHeight:"22px",color:P.TextSecondary},children:g("pm_mt_live_page_try_again")}),(0,i.jsxs)(D,{onClick:L,children:[(0,i.jsx)(m.A,{width:14,height:14,style:{verticalAlign:"middle",marginRight:"8px"}}),g("report_inbox_retry_btn")]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.Rh,{children:g("Please select a scenario")}),null===(u=null===(d=I.PageStateData)||void 0===d?void 0:d.reasons)||void 0===u?void 0:u.map((e=>(0,i.jsxs)(y.KW,{onClick:E(A(e)),children:[(0,i.jsx)(y.Lo,{children:e.text}),k?(0,i.jsx)(s.A,{style:{color:P.TextTertiary},width:20,height:20}):(0,i.jsx)(l.A,{style:{color:P.TextTertiary},width:20,height:20})]},A(e))))]})})};var O=a(50700),P=a(73580),I=a(41077),L=a.n(I),A=a(73635),E=a(90046),z=a(68878),R=a(20157);const F=(0,k.default)("div",{target:"e1n238hh0"})({position:"fixed",left:0,top:0,right:0,bottom:0,zIndex:3001},"label:DivPreviewImageContainer;"),M=(0,k.default)("div",{target:"e1n238hh1"})((({theme:e})=>({position:"absolute",left:0,top:0,right:0,bottom:0,background:e.colors.SDPrimary})),"label:DivMaskContainer;"),W=(0,k.default)("div",{target:"e1n238hh2"})({position:"absolute",zIndex:1,left:0,top:0,right:0,bottom:0},"label:DivImageContainer;"),B=(0,k.default)("div",{target:"e1n238hh3"})({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"692px",height:"810px",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"contain"},"label:DivPreviewImage;"),U=(0,k.default)("div",{target:"e1n238hh4"})((({theme:e})=>({position:"absolute",top:"20px",right:"20px",width:"48px",height:"48px",borderRadius:"24px",backgroundColor:e.colors.ConstTextInverse5,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",":hover":{opacity:.7}})),"label:DivIconClose;"),H={position:"absolute",top:"50%",transform:"translateY(-50%)",width:"48px",height:"48px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:.5,":hover":{opacity:1}},$=(0,k.default)("div",{target:"e1n238hh5"})(Object.assign(Object.assign({},H),{left:"32px"}),"label:DivIconPrev;"),N=(0,k.default)("div",{target:"e1n238hh6"})(Object.assign(Object.assign({},H),{left:"auto",right:"32px"}),"label:DivIconNext;"),q=(0,r.memo)((function({imgList:e,defaultIndex:t,onClose:a}){const[n,o]=(0,r.useState)(t>e.length-1?e.length-1:t<0?0:t),{showModal:d,hideModal:c}=(0,R.g9)();(0,r.useEffect)((()=>(d(),()=>{c()})),[d,c]);const u=(0,r.useCallback)((()=>{null==a||a()}),[a]),g=(0,r.useCallback)((()=>o((e=>e-1))),[]),p=(0,r.useCallback)((()=>o((e=>e+1))),[]);return(0,i.jsxs)(F,{children:[(0,i.jsx)(M,{}),(0,i.jsxs)(W,{children:[(0,i.jsx)(B,{style:{backgroundImage:`url(${e[n]})`}}),(0,i.jsx)(U,{onClick:u,children:(0,i.jsx)(A.A,{height:24,width:24,fill:"#fff"})}),n>0&&(0,i.jsx)($,{onClick:g,children:(0,i.jsx)(s.A,{height:30,width:30,fill:"#fff"})}),n<e.length-1&&(0,i.jsx)(N,{onClick:p,children:(0,i.jsx)(l.A,{height:30,width:30,fill:"#fff"})})]})]})})),V=(0,k.default)("div",{target:"e1nzkl7u0"})((({theme:e})=>({fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,display:"flex",flexWrap:"wrap"})),"label:DivUploadImageContainer;"),Y=(0,k.default)("div",{target:"e1nzkl7u1"})((({theme:e,size:t})=>({boxSizing:"border-box",width:`${t}px`,height:`${t}px`,display:"flex",alignItems:"center",flexDirection:"column",background:e.colors.BGInput,borderRadius:"2px",overflow:"hidden",cursor:"pointer",paddingTop:(t-50)/2+"px"})),"label:DivImageUploadElement;"),J=(0,k.default)("div",{target:"e1nzkl7u2"})((({theme:e,size:t})=>({width:`${t}px`,height:`${t}px`,marginRight:"12px",position:"relative",borderRadius:"2px",overflow:"hidden",cursor:"pointer",":before":{content:'""',position:"absolute",width:"200%",height:"200%",borderRadius:"4px",border:`1px solid ${e.colors.LineSecondary}`,transform:"scale(.5)",left:"-50%",top:"-50%",boxSizing:"border-box"},img:{objectFit:"cover",zIndex:3,transform:"translateZ(10px)"}})),"label:DivImageItem;"),G=(0,k.default)("span",{target:"e1nzkl7u3"})({position:"absolute",display:"flex",boxSizing:"border-box",padding:"5px",top:0,right:0,width:"16px",height:"16px",background:"rgba(22, 24, 35, 0.75)",borderBottomLeftRadius:"2px",cursor:"pointer"},"label:SpanClose;"),K=(0,k.default)("span",{target:"e1nzkl7u4"})((({theme:e})=>({fontSize:"12px",lineHeight:"15px",color:e.colors.TextTertiary,marginTop:"4px"})),"label:SpanImageNumber;"),X=(0,k.default)("input",{target:"e1nzkl7u5"})({display:"none",width:0,height:0},"label:InputImage;"),Q=(0,k.default)("div",{target:"e1nzkl7u6"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50% , -50%)"},"label:DivMid;");let Z=0;const ee=Number(1048576),te=(e,t)=>e>=5242880?t?.1:.2:e>=1572864?t?.3:.5:e>=524288?t?.4:.6:t?.6:.8,ae=(0,r.memo)((function({max:e,onChange:t,size:a=72}){const n=(0,P.Nj)(z.D),[o,l]=(0,r.useState)([]),[s,d]=(0,r.useState)(0),[c,u]=(0,r.useState)(!1),g=(0,r.useRef)([]),{colors:p}=(0,x.u)(),h=(0,r.useCallback)((t=>{const a=[],i=t.target.files,n=e-o.length;if(i){const e=i.length>n?n:i.length;for(let t=0;t<e;t++)if(i[t].type.match("image")){const n=new FileReader;n.readAsDataURL(i[t]),n.onload=t=>{a.push({id:Z++,uri:t.target.result,uploaded:!1}),a.length===e&&l((e=>[...e,...a]))},g.current.push(i[t])}t.target.value=""}}),[e,o.length]),v=(0,r.useCallback)((e=>()=>{d(e),u(!0)}),[]),m=(0,r.useCallback)((e=>{const t=g.current[e];new(L())(t,{quality:te(t.size),convertSize:ee,success:a=>{g.current[e]=a,a.width=t.width,a.height=t.height,n.uploadImage(a).subscribe((t=>{const i=[...o];i[e]=Object.assign(Object.assign({},i[e]),{url:t.data.url_list[0],size:a.size,uploaded:!0}),l(i)}))}})}),[o,g,n]),f=e=>()=>{const t=o.slice();t.splice(e,1),l(t),g.current.splice(e,1)},_=(0,r.useCallback)((()=>{u(!1)}),[]);return(0,r.useEffect)((()=>{o.forEach(((e,t)=>{!1===o[t].uploaded&&m(t)})),t(o)}),[o,t,m]),(0,i.jsxs)("div",{children:[(0,i.jsxs)(V,{children:[o.map(((e,t)=>(0,i.jsxs)(J,{size:a,children:[(0,i.jsx)("img",{src:e.uri,width:a,height:a,style:e.uploaded?{}:{filter:"blur(1px)"},onClick:v(t)}),(0,i.jsx)(G,{className:"close",onClick:f(t),children:(0,i.jsx)(A.A,{width:7,height:7,fill:"#fff"})}),e.uploaded?null:(0,i.jsx)(Q,{children:(0,i.jsx)(b.R,{size:20})})]},e.id))),c&&(0,i.jsx)(q,{defaultIndex:s,imgList:o.map((e=>e.uri)),onClose:_}),e<=o.length?null:(0,i.jsx)("label",{htmlFor:"upload-image-file",children:(0,i.jsxs)(Y,{size:a,children:[(0,i.jsx)(E.A,{height:30,width:30,fill:p.TextTertiary}),(0,i.jsxs)(K,{className:"img-number",children:[o.length,"/",e]})]})})]}),(0,i.jsx)(X,{multiple:!0,className:"file-input",accept:"image/png,image/jpeg,image/jpg,image/bmp",type:"file",onChange:h,id:"upload-image-file"})]})}));var ie=a(72153);const ne=(0,k.default)("div",{target:"e1b69dc70"})({height:"413px",padding:"0px",overflowY:"auto",overflowX:"hidden",paddingBottom:"84px"},"label:DivMainContainer;"),oe=(0,k.default)("div",{target:"e1b69dc71"})({display:"flex",flexDirection:"column",alignItems:"stretch",padding:"0px"},"label:DivScrollContainer;"),re=(0,k.default)("div",{target:"e1b69dc72"})({display:"flex",flexDirection:"row",justifyContent:"center",boxSizing:"border-box",padding:"16px 24px 12px"},"label:DivSectionHeader;"),le=(0,k.default)("div",{target:"e1b69dc73"})((({theme:e})=>({display:"flex",flexDirection:"column",boxSizing:"border-box",padding:"16px 24px",backgroundColor:e.colors.BGView,marginBottom:"8px"})),"label:DivSectionLine;"),se=(0,k.default)("div",{target:"e1b69dc74"})((({theme:e})=>({fontSize:"16px",lineHeight:"22px",color:e.colors.TextSecondary})),"label:DivSectionLineTitle;"),de=(0,k.default)("div",{target:"e1b69dc75"})((({theme:e})=>({marginTop:"4px",fontSize:"12px",lineHeight:"16px",color:e.colors.TextQuaternary})),"label:DivSectionLineSubTitle;"),ce=(0,k.default)("span",{target:"e1b69dc76"})((({theme:e})=>[(0,ie.zy)({theme:e,color:"Link",fontWeight:"semiBold",cursor:"pointer"})]),"label:LinkSpan;"),ue=(0,k.default)("span",{target:"e1b69dc77"})((({theme:e})=>({flex:1,fontSize:"18px",lineHeight:"24px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.semiBold,color:e.colors.TextPrimary})),"label:SpanSectionTitle;"),ge=(0,k.default)("span",{target:"e1b69dc78"})((({theme:e})=>({fontSize:"16px",lineHeight:"22px",color:e.colors.TextSecondary})),"label:SpanWordCount;"),pe=(0,k.default)("textarea",{target:"e1b69dc79"})((({theme:e})=>Object.assign(Object.assign({},(e=>({borderStyle:"none",borderColor:"transparent",boxShadow:"none",outline:"none",margin:"0px 24px",borderRadius:"4px",fontSize:"16px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,color:e.colors.TextPrimary,":placeholder":{color:e.colors.TextTertiary}}))(e)),{resize:"none",height:"80px",backgroundColor:e.colors.BGPrimary})),"label:TextareaDescription;"),he=(0,k.default)("div",{target:"e1b69dc711"})({margin:"4px 24px"},"label:DivImageUploader;"),xe=(0,k.default)("div",{target:"e1b69dc712"})((({theme:e})=>({margin:"12px 24px 0 24px",fontFamily:e.fontFamilies.TikTokFont,fontSize:"14px",color:"rgba(0, 0, 0, 0.56)"})),"label:DivTiper;"),ve=(0,k.default)("div",{target:"e1b69dc713"})((({theme:e})=>({marginTop:"4px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,fontSize:"12px",color:e.colors.Primary})),"label:DivFileSizeWarning;"),me=(0,r.memo)((function({onClose:e}){var t,a;const l=(0,c.s)(),s=(0,n.w)(h.y7),d=(0,o.P)(h.y7,{selector:e=>{const{UserData:t,PreState:a,reportTarget:i}=e;return{UserData:t,PreState:a,reportTarget:i}},dependencies:[]}),[u,g]=(0,r.useState)(""),[p,x]=(0,r.useState)([]),[v,m]=(0,r.useState)(!1),[b,k]=(0,r.useState)(!1),{region:w="",user:D}=null!==(t=(0,j.W)((()=>["region","user"]),[]))&&void 0!==t?t:{},T=(0,r.useMemo)((()=>{var e,t,a;return null!==(a=null===(t=null===(e=d.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.reason_type_id)&&void 0!==a?a:0}),[]),P=(0,r.useMemo)((()=>{var e,t,a;return null!==(a=null===(t=null===(e=d.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.text)&&void 0!==a?a:""}),[]);(0,r.useEffect)((()=>{k(!0)}),[u,p,v]),(0,r.useEffect)((()=>{var e,t,a,i,n,o,r;const l=(0,S.zW)(null===(e=d.reportTarget)||void 0===e?void 0:e.ad_info);C.J.handleAdEditPageView({tag:(null===(t=d.reportTarget)||void 0===t?void 0:t.play_mode)&&_.EM[d.reportTarget.play_mode]||_.xY.OneColumn,category:_.XJ,log_extra:(null===(i=null===(a=d.reportTarget)||void 0===a?void 0:a.ad_info)||void 0===i?void 0:i.log_extra)||JSON.stringify({rit:(null===(n=d.reportTarget)||void 0===n?void 0:n.isVideoDetailBannerAds)?_.uY:_.OZ,req_id:null==l?void 0:l.req_id}),value:String(null===(r=null===(o=d.reportTarget)||void 0===o?void 0:o.ad_info)||void 0===r?void 0:r.creative_id),refer:_.Hq.Button,reason_id:`${T}`,description:P,is_ad_event:"1"})}),[]);const I=(0,r.useCallback)((e=>{m(!1);for(const t of e)t.size&&t.size>10485760&&m(!0);x(e)}),[]),L=(0,r.useCallback)((e=>{e.stopPropagation()}),[]),A=(0,r.useCallback)((e=>g(e.target.value)),[]),E=(0,r.useCallback)((()=>{e()}),[e]),z=(0,r.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),T&&b){const e={description:u,uri:p.map((e=>e.url)).join(",")};s.postReport({reason:T,text:P,extraData:e,region:w,uid:null==D?void 0:D.uid,closeModal:E})}}),[u,p,T,b,s]),R=(()=>{var e,t;return T===f.YB.AISynthetic?(0,i.jsxs)(de,{children:[l("ad_report_reason_L1Misinfo_L2aigc_0"),(0,i.jsxs)("ul",{style:{margin:0,marginTop:"5px",paddingLeft:"20px"},children:[(0,i.jsx)("li",{children:l("ad_report_reason_L1Misinfo_L2aigc_1")}),(0,i.jsx)("li",{children:l("ad_report_reason_L1Misinfo_L2aigc_2")}),(0,i.jsx)("li",{children:l("ad_report_reason_L1Misinfo_L2aigc_3")}),(0,i.jsx)("li",{children:l("ad_report_reason_L1Misinfo_L2aigc_4")}),(0,i.jsx)("li",{children:l("ad_report_reason_L1Misinfo_L2aigc_5")}),(0,i.jsx)("li",{children:l("ad_report_reason_L1Misinfo_L2aigc_6")})]})]}):(null===(e=d.UserData.selectedReason)||void 0===e?void 0:e.desc)?(0,i.jsxs)(de,{children:[`${d.UserData.selectedReason.desc}`,(null===(t=d.UserData.selectedReason)||void 0===t?void 0:t.link)&&(0,i.jsx)(ce,{onClick:()=>{var e;window.open((null===(e=d.UserData.selectedReason)||void 0===e?void 0:e.link)||"","_blank")},children:l("dsa_illegal_placeholder_learnmore")})]}):null})();return(0,i.jsxs)(ne,{children:[(0,i.jsxs)(oe,{children:[(0,i.jsxs)(le,{children:[(0,i.jsx)(se,{children:`${l("Web_report_reason_select")} ${null===(a=d.UserData.selectedReason)||void 0===a?void 0:a.text}`}),R]}),(0,i.jsxs)(re,{children:[(0,i.jsx)(ue,{children:l("Web_report_description")}),(0,i.jsxs)(ge,{children:[u.length,"/",5e3]})]}),(0,i.jsx)(pe,{rows:5,maxLength:5e3,placeholder:l("report_details_toast"),value:u,onChange:A,onKeyDown:L}),(0,i.jsxs)(he,{children:[(0,i.jsx)(ae,{max:4,onChange:I}),v&&(0,i.jsx)(ve,{children:l("attachment_upload_limit")})]}),(0,i.jsxs)(xe,{children:[(0,i.jsx)(O.A,{style:{marginRight:"4px"},width:12,height:12}),l("report_img_toast")]})]}),(0,i.jsx)(y.rW,{children:(0,i.jsx)(y.jl,{disabled:!b,onClick:z,children:l("Submit")})})]})}));var fe=a(7399);const be=(0,k.default)("div",{target:"e13phqsp0"})({height:"580px",padding:"0px",overflowY:"auto",overflowX:"hidden",paddingBottom:"84px"},"label:DivKopigContainer;"),_e=(0,k.default)(be,{target:"e13phqsp1"})({height:"708px"},"label:DivDSAContainer;"),je=(0,k.default)("div",{target:"e13phqsp2"})({display:"flex",marginTop:"24px",marginBottom:"32px",paddingLeft:"24px",paddingRight:"24px"},"label:DivLegalContainer;"),Se=(0,k.default)("div",{target:"e13phqsp3"})({marginBottom:"16px",paddingLeft:"24px",paddingRight:"24px"},"label:DivDescriptionContainer;"),ye=(0,k.default)("div",{target:"e13phqsp4"})((({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextPrimary,fontWeight:600,display:"flex"})),"label:DivTitle;"),Ce=(0,k.default)("div",{target:"e13phqsp5"})((({theme:e})=>({fontSize:"16px",lineHeight:"24px",color:e.colors.TextSecondary,fontWeight:400,marginInlineStart:"auto"})),"label:DivCounter;"),ke=(0,k.default)("div",{target:"e13phqsp6"})((({theme:e})=>({color:e.colors.Primary})),"label:AsteriskColor;"),we=(0,k.default)(Ce,{target:"e13phqsp7"})({display:"flex",marginInlineStart:"auto",alignItems:"center",cursor:"pointer"},"label:DivChooseCountry;"),De=(0,k.default)("textarea",{target:"e13phqsp8"})((({theme:e})=>Object.assign(Object.assign({},(e=>({borderStyle:"none",borderColor:"transparent",boxShadow:"none",outline:"none",margin:"0px 24px",borderRadius:"4px",fontSize:"16px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,color:e.colors.TextPrimary,":placeholder":{color:e.colors.TextTertiary}}))(e)),{resize:"none",height:"80px",backgroundColor:e.colors.BGPrimary})),"label:TextareaDescription;"),Te=(0,k.default)(De,{target:"e13phqsp9"})((({})=>({margin:"0px",width:"100%",height:"unset",marginTop:"10px",fontSize:"16px",lineHeight:"24px"})),"label:DivInputArea;"),Oe=(0,k.default)("div",{target:"e13phqsp10"})((({theme:e})=>({height:"0.5px",background:e.colors.LineSecondary,marginTop:"12.5px"})),"label:DivLine;"),Pe=(0,k.default)("div",{target:"e13phqsp11"})((({})=>({padding:"16px 24px",display:"flex",alignItems:"center"})),"label:DivCheckBoxContainer;"),Ie=(0,k.default)("div",{target:"e13phqsp12"})((({theme:e})=>({fontSize:"16px",lineHeight:"24px",fontWeight:"400px",marginInlineStart:"9px",color:e.colors.TextPrimary})),"label:DivCheckBoxDesc;"),Le=(0,k.default)("div",{target:"e13phqsp13"})((({theme:e})=>({display:"flex",alignContent:"center",marginTop:"9px",color:e.colors.Negative})),"label:DivWarningContainer;"),Ae=(0,k.default)("div",{target:"e13phqsp14"})({fontSize:"14px",fontWeight:"400px",marginInlineStart:"9px"},"label:DivWarning;"),Ee=(0,k.default)("div",{target:"e13phqsp18"})((({theme:e})=>({fontSize:"14px",fontWeight:"400",lineHeight:"22px",padding:"0px 24px",color:e.colors.TextQuaternary})),"label:DivWarnText;"),ze=(0,k.default)("span",{target:"e13phqsp19"})((({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextTertiary,marginLeft:"8px"})),"label:OptionalTag;"),Re=(0,k.default)("div",{target:"e13phqsp20"})((({theme:e})=>({fontSize:"14px",fontWeight:400,lineHeight:"130%",color:e.colors.TextTertiary,marginTop:"10px"})),"label:OptionalEmailTip;");var Fe=a(88091);function Me(e,t){const a=Object.keys(t),n=new RegExp(`(${a.join("|")})`,"g"),o=e.split(n);return(0,i.jsx)(i.Fragment,{children:o.map((e=>a.includes(e)?t[e]:e))})}const We=(0,k.default)("p",{target:"eclkyfe0"})((({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextPrimary,fontWeight:600,marginTop:"16px",marginBottom:"16px",paddingLeft:"24px",paddingRight:"24px"})),"label:TrustedFlaggerText;"),Be=(0,k.default)("a",{target:"eclkyfe1"})((({theme:e})=>({color:e.colors.AssistColorAzure,fontWeight:700,textDecoration:"none"})),"label:TrustedFlaggerLink;"),Ue=(0,k.default)("div",{target:"eclkyfe2"})((({theme:e})=>({color:e.colors.BGPrimary})),"label:ModalWrapper;"),He=(0,k.default)("span",{target:"eclkyfe3"})((({theme:e})=>({color:e.colors.TextPrimary,fontWeight:700})),"label:Title;"),$e=(0,k.default)("span",{target:"eclkyfe4"})((({theme:e})=>({color:e.colors.TextPrimary,fontSize:"14px",lienHeight:"18px"})),"label:Description;"),Ne=(0,k.default)("button",{target:"eclkyfe5"})((({theme:e})=>({padding:"8px 10px",fontSize:"16px",lineheight:"20px",cursor:"pointer",borderRadius:"4px",color:e.colors.TextPrimary,backgroundColor:e.colors.UIShapeNeutral4,minWidth:"160px"})),"label:LeftButton;"),qe=(0,k.default)("button",{target:"eclkyfe6"})((({theme:e})=>({padding:"8px 10px",fontSize:"16px",lineheight:"20px",cursor:"pointer",borderRadius:"4px",color:e.colors.ConstTextInverse,backgroundColor:e.colors.Primary,minWidth:"160px"})),"label:RightButton;"),Ve=(0,k.default)("div",{target:"eclkyfe7"})({display:"flex",padding:"0 24px 32px",alignItems:"center",justifyContent:"space-between",gap:"16px"},"label:ModalFooter;");var Ye=a(11983);const Je=({onSetIsTrustedFlagger:e})=>{const[t,a]=(0,r.useState)(!1),n=(0,c.s)(),o=()=>{a(!t)},{isTrustedFlagger:l,register:s,unbindTrustedFlagger:d}=(({handleDialog:e})=>{const[t,a]=(0,r.useState)(null),i=(0,P.Nj)(z.D),n=(0,c.s)(),o=()=>{i.getTustedFlaggerState().subscribe((e=>{var t;0===(null===(t=null==e?void 0:e.base)||void 0===t?void 0:t.status_code)?a(e.is_trusted_flagger):a(!1)}))};return(0,r.useEffect)((()=>{let e="";void 0!==document.hidden?e="visibilitychange":void 0!==document.msHidden?e="msvisibilitychange":void 0!==document.webkitHidden&&(e="webkitvisibilitychange");const t=()=>{document.hidden||document.msHidden||document.webkitHidden||o()};return o(),e&&document.addEventListener(e,t),()=>{e&&document.removeEventListener(e,t)}}),[]),{isTrustedFlagger:t,register:()=>{window.open("https://www.tiktok.com/dsa-trusted-flagger/login")},unbindTrustedFlagger:()=>{i.unbindTrustedFlagger().subscribe((t=>{var a;0===(null===(a=null==t?void 0:t.base)||void 0===a?void 0:a.status_code)?(o(),e()):Ye.F.open({content:n("Sorry, something wrong with the server, please try again."),duration:1.2,widthType:"half"})}))}}})({handleDialog:o});return(0,r.useEffect)((()=>{e(l)}),[l]),(0,i.jsxs)(i.Fragment,{children:[(()=>{switch(l){case!0:return(0,i.jsx)(We,{children:Me(n("dsa_illegal_report_trustedflagger_signout"),{"{s_tapHere}":(0,i.jsx)(Be,{onClick:o,children:n("dsa_illegal_report_trustedflaggerlink")})})});case!1:return(0,i.jsx)(We,{children:Me(n("dsa_illegal_report_trustedflagger"),{"%s":(0,i.jsx)(Be,{onClick:s,children:n("dsa_illegal_report_trustedflaggerlink")})})});default:return null}})(),(0,i.jsx)(Fe.Mw,{isOpen:t,onClose:o,size:"Small",children:(0,i.jsxs)(Ue,{children:[(0,i.jsx)(Fe.ND,{children:(0,i.jsx)(He,{children:n("dsa_illegal_report_trustedflagger_signout_popup")})}),(0,i.jsx)(Fe.Te,{children:(0,i.jsx)(Fe.Fm,{children:(0,i.jsx)($e,{children:n("dsa_illegal_report_trustedflagger_signout_popup_desc")})})}),(0,i.jsxs)(Ve,{children:[(0,i.jsx)(Ne,{onClick:d,children:n("dsa_illegal_report_trustedflagger_signout_popup_yes")}),(0,i.jsx)(qe,{onClick:o,children:n("dsa_illegal_report_trustedflagger_signout_popup_no")})]})]})})]})};var Ge=a(23359);function Ke(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}const Xe=(0,r.memo)((function({onClose:e}){var t,a,l;const[s,d]=(0,r.useState)(null),u=function(e){const t=(0,r.useRef)(e);return t.current=e,t}(s),g=(0,c.s)(),[p,x]=(0,r.useState)({relevantLaw:"",reportExplanation:"",signature:"",checked:!1,loggedOutEmail:""}),{region:v="",user:m}=null!==(t=(0,j.W)((()=>["region","user"]),[]))&&void 0!==t?t:{},f=(0,r.useMemo)((()=>Boolean(m)),[m]),b=(0,n.w)(h.y7),_=(0,o.P)(h.y7,{selector:e=>{const{UserData:t,PreState:a,choosenDSACountry:i,PageStateData:n,reportTarget:o,DSACountriesList:r}=e;return{UserData:t,PreState:a,choosenDSACountry:i,PageStateData:n,reportTarget:o,DSACountriesList:r}},dependencies:[]}),S=(0,r.useMemo)((()=>{var e,t;return(null===(t=null===(e=_.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.reason_type_id)>20}),[_.UserData]),[C,k]=(0,r.useState)({loggedOutInvalid:!1});(0,r.useEffect)((()=>{_.PageStateData&&"relevantLaw"in _.PageStateData&&x(Object.assign({},_.PageStateData))}),[_.PageStateData]);const w=(0,r.useMemo)((()=>{var e,t,a;return null!==(a=null===(t=null===(e=_.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.reason_type_id)&&void 0!==a?a:0}),[]),D=(0,r.useMemo)((()=>{var e,t,a;return null!==(a=null===(t=null===(e=_.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.text)&&void 0!==a?a:""}),[]),T=w>=17&&w<=20,O=(0,r.useMemo)((()=>""!==p.reportExplanation.trim()&&(!S||""!==p.signature.trim())&&p.checked&&void 0!==_.choosenDSACountry&&(f||!f&&T||!f&&!T&&""!==p.loggedOutEmail.trim()&&Ke(p.loggedOutEmail))),[p]),P=(0,r.useCallback)((()=>{e()}),[e]),I=(0,r.useCallback)((e=>{var t,a;if(e.preventDefault(),e.stopPropagation(),w&&O){const e={signature:p.signature,relevant_law:p.relevantLaw,description:p.reportExplanation,report_scene:"0",law_country_code:null!==(a=null===(t=_.choosenDSACountry)||void 0===t?void 0:t.code)&&void 0!==a?a:"",is_trusted_flagger:u.current,email:p.loggedOutEmail},i={isDsaMode:!0,reason:w,text:D,extraData:e,region:v,uid:null==m?void 0:m.uid,closeModal:P};b.postReport(i)}}),[w,b,p,O]),L=(0,r.useCallback)((()=>{b.setPageStateData(p),b.handleNextForm(3)}),[p]);(0,r.useEffect)((()=>()=>{b.setChoosenDSACountry(void 0)}),[]);const A=(0,r.useCallback)((()=>(0,i.jsx)(Ee,{children:g("dsa_illegal_report_penalty_reminder")})),[]);return(0,i.jsx)(_e,{children:(0,i.jsxs)(y.C8,{children:[(0,i.jsx)(y.XP,{children:`${g("Web_report_reason_select")} ${null===(a=_.UserData.selectedReason)||void 0===a?void 0:a.text}`}),!f&&(0,i.jsxs)(Se,{style:{marginTop:"16px"},children:[(0,i.jsxs)(ye,{children:[g("dsa_illegal_report_email"),T?(0,i.jsx)(ze,{children:g("dsa_illegal_cite_law_optional")}):(0,i.jsx)(ke,{children:"*"})]}),(0,i.jsx)(Te,{rows:1,placeholder:g("dsa_illegal_report_fill_email"),value:p.loggedOutEmail,onBlur:()=>{k({loggedOutInvalid:!Ke(p.loggedOutEmail)})},onChange:e=>{var t;x(Object.assign(Object.assign({},p),{loggedOutEmail:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),(0,i.jsx)(Oe,{}),T?(0,i.jsx)(Re,{children:g("cseReasons_reportPg_emailAddForm_body")}):null,C.loggedOutInvalid&&(0,i.jsxs)(Le,{children:[(0,i.jsx)(Ge.A,{}),(0,i.jsx)(Ae,{children:g("dsa_illegal_report_trustedflagger_fill_email")})]})]}),(0,i.jsxs)(je,{children:[(0,i.jsxs)(ye,{children:[g("dsa_illegal_detail_country"),(0,i.jsx)(ke,{children:"*"})]}),(0,i.jsxs)(we,{onClick:L,children:[null===(l=_.choosenDSACountry)||void 0===l?void 0:l.desc,(0,i.jsx)(y._k,{children:(0,i.jsx)(fe.A,{width:16,height:16})})]})]}),(0,i.jsxs)(Se,{children:[(0,i.jsxs)(ye,{children:[g("dsa_illegal_detail_law"),(0,i.jsx)(ze,{children:g("dsa_illegal_cite_law_optional")}),(0,i.jsxs)(Ce,{children:[p.relevantLaw.length,"/200"]})]}),(0,i.jsx)(Te,{rows:2,maxLength:200,placeholder:g("dsa_illegal_cite_law_desc"),value:p.relevantLaw,onChange:e=>{var t;x(Object.assign(Object.assign({},p),{relevantLaw:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),(0,i.jsx)(Oe,{})]}),(0,i.jsxs)(Se,{children:[(0,i.jsxs)(ye,{children:[g("dsa_illegal_detail_explanation"),(0,i.jsx)(ke,{children:"*"}),(0,i.jsxs)(Ce,{children:[p.reportExplanation.length,"/400"]})]}),(0,i.jsx)(Te,{rows:2,maxLength:400,placeholder:g("dsa_illegal_report_explanation_desc"),value:p.reportExplanation,onChange:e=>{var t;x(Object.assign(Object.assign({},p),{reportExplanation:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),(0,i.jsx)(Oe,{})]}),S&&(0,i.jsxs)(Se,{children:[(0,i.jsxs)(ye,{children:[g("dsa_illegal_appeal_signature"),(0,i.jsx)(ke,{children:"*"})]}),(0,i.jsx)(Te,{rows:1,placeholder:g("dsa_illegal_sign_legal_name"),value:p.signature,onChange:e=>{var t;x(Object.assign(Object.assign({},p),{signature:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),(0,i.jsx)(Oe,{})]}),(0,i.jsx)(Je,{onSetIsTrustedFlagger:e=>{d(e)}}),(0,i.jsxs)(Pe,{onClick:()=>{x(Object.assign(Object.assign({},p),{checked:!p.checked}))},children:[(0,i.jsx)(Fe.h$,{checked:p.checked,label:""}),(0,i.jsx)(Ie,{children:g("dsa_illegal_confirm_accuracy")})]}),A(),(0,i.jsx)(y.rW,{children:(0,i.jsx)(y.jl,{onClick:I,disabled:!O,children:g("Submit")})})]})})})),Qe=(0,k.default)("div",{target:"e1cnlexo0"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"703px",overflowY:"auto",overflowX:"hidden"})),"label:DivChooseCountryContainer;"),Ze=(0,k.default)("div",{target:"e1cnlexo1"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,position:"relative"})),"label:DivSubmitContainer;");var et=a(84987);const tt={id:"search-35c41e45",use:"search-35c41e45-usage",viewBox:"0 0 19 19",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 19" id="search-35c41e45"><path fill="#161823" fill-opacity=".34" fill-rule="evenodd" d="M8 14A6 6 0 1 1 8 2a6 6 0 0 1 0 12m0 2a8 8 0 1 1 6.32-3.094l4.362 4.362a.5.5 0 0 1 0 .707l-.707.707a.5.5 0 0 1-.707 0l-4.362-4.362A7.97 7.97 0 0 1 8 16" clip-rule="evenodd" /></symbol>'};function at(e){const t=(0,r.useContext)(et.X);return(0,r.useLayoutEffect)((()=>(t.add(tt),()=>{t.remove("search-35c41e45")})),[]),(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,i.jsx)("use",{xlinkHref:"#search-35c41e45"},void 0)}),void 0)}const it=(0,k.default)("div",{target:"e9911am0"})((({theme:e})=>({background:e.colors.BGInput,borderRadius:"92px",height:"40px",position:"relative",display:"flex",alignItems:"center"})),"label:DivSearchBoxContainer;"),nt=(0,k.default)("input",{target:"e9911am1"})((({theme:e})=>({marginInlineStart:"16px",fontWeight:"400px",fontSize:"16px",lineHeight:"24px",color:e.colors.TextTertiary,userSelect:"none",border:"none",background:"none",resize:"none",width:"100%",height:"100%",outline:"none"})),"label:DivSearchBoxInput;"),ot=(0,k.default)("div",{target:"e9911am2"})((({})=>[{marginInlineStart:"auto",marginInlineEnd:"52px",position:"relative",display:"flex",alignItems:"center"}]),"label:DivSearchContainer;"),rt=(0,k.default)("div",{target:"e9911am3"})((({theme:e})=>({height:"22px",width:"2px",background:e.colors.LineSecondary})),"label:DivVerticalLine;"),lt=(0,k.default)(at,{target:"e9911am4"})((({theme:{direction:e}})=>[{position:"absolute",left:"rtl"===e?"0px":"15px",right:"rtl"===e?"15px":"0px"}]),"label:DivSearchIconContainer;"),st=({placeholder:e,value:t,onChange:a,style:n={}})=>(0,i.jsxs)(it,{style:n,children:[(0,i.jsx)(nt,{placeholder:e,value:t,onChange:a}),(0,i.jsxs)(ot,{children:[(0,i.jsx)(rt,{}),(0,i.jsx)(lt,{})]})]}),dt=(0,k.default)("div",{target:"e15w45vc0"})((({theme:e})=>({padding:"16px 15px",display:"flex",alignItems:"center",color:e.colors.TextPrimary,lineHeight:"24px",fontSize:"16px",fontWeight:"400",cursor:"pointer"})),"label:DivItemContainer;"),ct=(0,k.default)("div",{target:"e15w45vc1"})({marginInlineStart:"auto"},"label:DivRadioWrapper;");var ut=a(54502);const gt=(0,k.default)("label",{target:"et49api0"})((({theme:e})=>({display:"flex",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,fontSize:"16px",color:e.colors.TextSecondary,cursor:"pointer"})),"label:LabelCheckbox;"),pt=(0,k.default)("div",{target:"et49api1"})((({size:e})=>({color:"#fff",position:"relative",height:`${e}px`,width:`${e}px`,lineHeight:`${e}px`,marginInlineEnd:"8px"})),"label:DivCheckboxSymbol;"),ht=(0,k.default)("input",{target:"et49api2"})((({selected:e,bordertype:t,theme:a,size:i})=>Object.assign(Object.assign({appearance:"none",width:`${i}px`,height:`${i}px`,border:`1.5px solid ${a.colors.LineSecondary}`,margin:"0 10px -2.5px 0"},e?{border:"none",backgroundColor:a.colors.Primary}:{}),"radio"===t?{borderRadius:"50%"}:{borderRadius:"2px"})),"label:InputCheckbox;"),xt=(0,k.default)("div",{target:"et49api3"})((({size:e})=>({pointerEvents:"none",position:"absolute",left:`calc(50% - (${e}px * 0.618) / 2 + 0.5px)`,top:`calc(50% - (${e}px * 0.455) / 2 + 0.04px)`,width:`calc(${e}px * 0.618)`,height:`calc(${e}px * 0.455)`,lineHeight:"0px"})),"label:DivCheckboxIcon;"),vt=(0,r.memo)((function({id:e,value:t,label:a,onChange:n,bordertype:o="radio",style:l={},size:s=22}){const d=(0,r.useCallback)((e=>{n&&n(e.target.checked)}),[n]);return(0,i.jsxs)(gt,{htmlFor:e,style:l,children:[(0,i.jsxs)(pt,{size:s,className:"checkbox-symbol"+(t?" selected":""),children:[(0,i.jsx)(ht,{bordertype:o,selected:t,id:e,checked:t,type:"checkbox",size:s,onChange:d}),t&&(0,i.jsx)(xt,{size:s,children:(0,i.jsx)(ut.A,{width:.618*s,height:.455*s})})]}),a]})})),mt=({list:e=[],style:t={},onSelect:a,selectedIndex:n=-1,isMobile:o=!1})=>(0,i.jsx)("div",{style:t,children:e.map(((e,t)=>(0,i.jsxs)(dt,{onClick:()=>{a&&a(t,e)},children:[e.text,(0,i.jsx)(ct,{children:o?(0,i.jsx)(vt,{label:"",value:n===t}):(0,i.jsx)(Fe.v3,{name:"",label:"",value:1,checked:n===t})})]},e.key)))}),ft=(0,r.memo)((function(){const e=(0,c.s)(),[t,a]=(0,r.useState)(""),[l,s]=(0,r.useState)(),[d,u]=(0,r.useState)(-1),g=(0,n.w)(h.y7),p=(0,o.P)(h.y7,{selector:e=>{const{UserData:t,PreState:a,DSACountriesList:i}=e;return{UserData:t,PreState:a,DSACountriesList:i}},dependencies:[]}),x=(0,r.useCallback)((e=>{null==e||e.preventDefault(),void 0!==l&&(g.setChoosenDSACountry(l),g.handlePrevStep())}),[l]),v=(0,r.useCallback)((e=>e.map((e=>({key:e.code,text:e.desc}))).sort(((e,t)=>e.key.localeCompare(t.key)))),[]),m=(0,r.useMemo)((()=>""===t.trim()?v(p.DSACountriesList):v(p.DSACountriesList).filter((e=>e.text.toLowerCase().startsWith(t.toLowerCase())))),[t,p.DSACountriesList]);return(0,i.jsxs)(Qe,{children:[(0,i.jsx)(st,{value:t,onChange:e=>{a(e.target.value),u(-1),s(void 0)},placeholder:e("dsa_illegal_select_region"),style:{margin:"24px 24px 16px 24px"}}),(0,i.jsx)(mt,{selectedIndex:d,list:m,style:{height:"522px",overflowY:"auto",padding:"0px 24px 0px 24px"},onSelect:e=>{u(e),s({code:m[e].key,desc:m[e].text})}}),(0,i.jsx)(Ze,{children:(0,i.jsx)(y.jl,{onClick:x,children:e("Confirm")})})]})})),bt=(0,r.memo)((function({onClose:e,visible:t=!1,asComponent:a=!1,setPage:x,onBack:v,useBack:m,onSubmit:f}){const b=(0,c.s)(),{isRTL:_}=(0,p.m)(),j=(0,n.w)(h.y7),S=(0,o.P)(h.y7,{selector:e=>{const{PageState:t,PreState:a,reportTarget:i,reasons:n,UserData:o}=e;return{PageState:t,PreState:a,reportTarget:i,reasons:n,UserData:o}},dependencies:[]}),C=(0,r.useCallback)((()=>{e()}),[e,S.reportTarget]),k=(0,r.useCallback)((()=>{j.resetState()}),[j]),w=(0,r.useCallback)((()=>{j.handlePrevStep(),null==v||v()}),[j]);(0,r.useEffect)((()=>{f&&j.setSubmitCallback(f)}),[f]),(0,r.useEffect)((()=>{x&&j.setPageState(x)}),[x]);const D=(0,r.useMemo)((()=>3===S.PageState?b("dsa_illegal_select_country_optional"):b("Report")),[S.PageState]),O=S.PreState.length>0||m,P=()=>0===S.PageState?(0,i.jsx)(T,{}):1===S.PageState?(0,i.jsx)(me,{onClose:C}):2===S.PageState?(0,i.jsx)(Xe,{onClose:C}):3===S.PageState?(0,i.jsx)(ft,{}):void 0,I="undefined"!=typeof document&&document.fullscreenElement;return(0,r.useEffect)((()=>{I&&!t&&j.resetState()}),[j,I,t]),a?(0,i.jsx)(i.Fragment,{children:[0,1].includes(S.PageState)?(0,i.jsxs)(y.JS,{"data-e2e":"report-form",children:[(0,i.jsxs)(y.JN,{isBackable:O,children:[O&&(0,i.jsx)(y.D_,{onClick:w,children:_?(0,i.jsx)(l.A,{width:20,height:20}):(0,i.jsx)(s.A,{width:20,height:20})}),(0,i.jsx)(y.Fh,{"data-e2e":"report-title",children:D}),(0,i.jsx)(y.Ko,{"data-e2e":"report-card-cancel",onClick:C,children:(0,i.jsx)(d.A,{width:14,height:14})})]}),P()]}):(0,i.jsx)(y.bq,{"data-e2e":"report-form",children:P()})}):"undefined"!=typeof document&&document.fullscreenElement?(0,i.jsx)(u.aF,{parentRef:document.fullscreenElement,visible:t,onClose:C,maskCloseable:!1,keyboardCloseable:!1,children:[0,1,2,3].includes(S.PageState)?(0,i.jsxs)(y.JS,{"data-e2e":"report-form",children:[(0,i.jsxs)(y.JN,{isBackable:O,children:[O&&(0,i.jsx)(y.D_,{onClick:w,children:_?(0,i.jsx)(l.A,{width:20,height:20}):(0,i.jsx)(s.A,{width:20,height:20})}),(0,i.jsx)(y.Fh,{"data-e2e":"report-title",children:D}),(0,i.jsx)(y.Ko,{"data-e2e":"report-card-cancel",onClick:C,children:(0,i.jsx)(d.A,{width:14,height:14})})]}),P()]}):(0,i.jsx)(y.bq,{"data-e2e":"report-form",children:P()})}):(0,i.jsx)(g.i,{compact:!0,isOpen:t,onClose:C,onCloseComplete:k,closeOnBackdropClick:!1,closeOnEsc:!1,children:[0,1,2,3].includes(S.PageState)?(0,i.jsxs)(y.JS,{"data-e2e":"report-form",children:[(0,i.jsxs)(y.JN,{isBackable:O,children:[O&&(0,i.jsx)(y.D_,{onClick:w,children:_?(0,i.jsx)(l.A,{width:20,height:20}):(0,i.jsx)(s.A,{width:20,height:20})}),(0,i.jsx)(y.Fh,{"data-e2e":"report-title",children:D}),(0,i.jsx)(y.Ko,{"data-e2e":"report-card-cancel",onClick:C,children:(0,i.jsx)(d.A,{width:14,height:14})})]}),P()]}):(0,i.jsx)(y.bq,{"data-e2e":"report-form",children:P()})})}))},80704:(e,t,a)=>{a.d(t,{B:()=>g});var i=a(24643),n=a(46682),o=a(40099),r=a(60322),l=a(20157),s=a(29793),d=a(78305),c=a(42858);var u=a(37361);function g(e){const t=function(t){const a=function({onClose:e}={}){const{hideModal:t}=(0,l.g9)(),[a,r]=(0,n.S)(s.hf,{selector:({showing:e})=>e,dependencies:[]}),d=(0,o.useCallback)((()=>{null==e||e(),t(),r.hideReport()}),[r,t,e]);return(0,i.jsx)(u.p,{onClose:d,visible:a})}(),r=function({onClose:e}={}){const{hideModal:t}=(0,l.g9)(),[a,r]=(0,n.S)(d.y7,{selector:({showing:e})=>e,dependencies:[]}),s=(0,o.useCallback)((()=>{null==e||e(),t(),r.hideReport()}),[r,t,e]);return(0,i.jsx)(c.Y,{onClose:s,visible:a})}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e,Object.assign({},t)),a,r]})};return t.displayName=`WithReport(${(0,r.x)(e)})`,t}},6752:(e,t,a)=>{a.d(t,{aL:()=>b,_k:()=>C,Ee:()=>_,ip:()=>y,Ob:()=>j,g1:()=>S});var i=a(58305),n=a(71111),o=a(31209);const r={pageName:null,itemID:"",sentBatchCount:0},l=(0,n.atom)(r);l.debugLabel="fypFeederAtom";const{useAtomService:s,useServiceDispatchers:d,useServiceState:c,getStaticApi:u}=(0,o.i)(l,((e,t)=>({setCache(a){const{itemID:i}=e(l);i||t(l,(e=>Object.assign(Object.assign({},e),a)))},clearCache(){"ALWAYS_ALLOWED"!==e(l).pageName&&t(l,(e=>Object.assign(Object.assign({},r),{sentBatchCount:e.sentBatchCount})))},incrementSentBatchCount(){t(l,(e=>Object.assign(Object.assign({},e),{sentBatchCount:e.sentBatchCount+1})))}})));var g=a(40099),p=a(88920),h=a(49057);const x="webapp_fyp_feeder_landing";let v=!0;const m=e=>{var t;const{sendCreatorItemId:a}=(0,p.CQ)(),{user:i}=null!==(t=(0,h.W)((()=>["user"]),[]))&&void 0!==t?t:{};return a&&"others_homepage"===e&&v&&!i},f=e=>{const{isFYP:t}=(0,p.FT)();return t&&("video_detail"===e||"graphic_detail"===e)&&v},b=()=>v,_=e=>{const t=d(),a=m(e),n=f(e);(0,g.useEffect)((()=>()=>{a||n||t.clearCache()}),[t,a,n]),(0,g.useEffect)((()=>{(0,i.Hd)(x)&&(v=!1),(0,i.J2)(x,"1")}),[e])},j=(e,t)=>{const a=d(),i=m(e),n=f(e);(0,g.useEffect)((()=>{t&&(i||n)&&a.setCache({pageName:e,itemID:t})}),[t,e,i,n,a])},S=()=>{const e=d();return(0,g.useCallback)((t=>{e.setCache({pageName:"ALWAYS_ALLOWED",itemID:t,sentBatchCount:0})}),[e])},y=()=>{const{isFYP:e}=(0,p.FT)(),{sendCreatorItemId:t,batchCount:a}=(0,p.CQ)(),{itemID:i,pageName:n,sentBatchCount:o}=c(),r=e&&("video_detail"===n||"graphic_detail"===n||"ALWAYS_ALLOWED"===n);let l=0;r?l=1:t&&"others_homepage"===n&&(l=a);const s=i&&o<l?i:"";return{fypFeederItemId:s,setFirstItemId:r?s:""}},C=e=>{const t=d();(0,g.useEffect)((()=>{e&&e>0&&t.incrementSentBatchCount()}),[e,t])}},35014:(e,t,a)=>{a.d(t,{J:()=>p,K:()=>g});var i=a(40099),n=a(49057),o=a(48615),r=a(60484),l=a(33805);const s=["homepage_hot","explore_page","graphic_detail","video_detail","search_video","search_user","general_search"],d=["homepage_hot"];function c(){const{user:e,region:t}=(0,r.L$)((0,n.W)((()=>["user","region"]),[])),{forceLoginSpecialRegions:a}=(0,r.L$)((0,o.U)((()=>["forceLoginSpecialRegions"]),[]));return(0,i.useMemo)((()=>Boolean(!e&&(null==a?void 0:a.includes(t)))),[a,t,e])}function u(){window&&(window.location.href=`/login?redirect_url=${(0,l.Q2)()}`)}function g(e){const t=c(),{isMobile:a=!1}=(0,r.L$)((0,o.U)((()=>["isMobile"]),[])),n=a?d:s,l=!!e&&(null==n?void 0:n.includes(e));(0,i.useEffect)((()=>{t&&l&&u()}),[e,t,l])}function p(){const e=c();return(0,i.useCallback)((()=>!!e&&(u(),!0)),[e])}},87864:(e,t,a)=>{a.d(t,{Eo:()=>u,TU:()=>g,V7:()=>p,_U:()=>h});var i=a(40099),n=a(47449),o=a(90341),r=a(58305),l=a(88920),s=a(71777);const d="video-countdown-show";var c;!function(e){e.SHOW="0",e.NO_SHOW="1"}(c||(c={}));const u=()=>{(0,r.AP)(d,"1")},g=()=>{const[e,t]=(0,i.useState)(!document.hidden),a=()=>{t(!document.hidden)};return(0,i.useEffect)((()=>(document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a)})),[]),e},p=({currentIndex:e,itemListKey:t,nextItem:a})=>{const{showEndCard:u}=(0,n.GE)((e=>e)),g=(({itemListKey:e,nextItem:t})=>{const{isInGridToFypExperiment:a,gridToFypVVCount:u}=(0,l.vY)(),g=(0,o.eu)(),p=(0,s.mE)((e=>e.isMiniPlayerShowing)),{disableEndCard:h,vvCount:x}=(0,n.GE)((e=>e));return(0,i.useMemo)((()=>Boolean(a&&!h&&u<=x&&!g&&!p&&!((0,r._S)(d)&&(0,r._S)(d)===c.NO_SHOW)&&t&&e&&["explore","search_top","search_video"].includes(e))),[h,u,g,a,p,e,t,x])})({itemListKey:t,nextItem:a}),p=(0,n.$c)();(0,i.useEffect)((()=>{p.increaseVVCount()}),[e,p]),(0,i.useEffect)((()=>()=>{u&&p.disableEndCard()}),[p,u]);const h=(0,i.useRef)(-1);(0,i.useEffect)((()=>{h.current!==e&&(u&&p.disableEndCard(),h.current=e)}),[e,p,u]);const x=(0,i.useCallback)((()=>{g&&p.setShowEndCard()}),[g,p]);return{showEndCard:u,handleVideoEndShowEndCard:x}},h=e=>{const t=(0,n.$c)();(0,i.useEffect)((()=>{t.resetVVCount()}),[t,e])}},47449:(e,t,a)=>{a.d(t,{$c:()=>l,GE:()=>s});var i=a(71111),n=a(31209);const o=(0,i.atom)({vvCount:0,showEndCard:!1,disableEndCard:!1}),{useAtomService:r,useServiceDispatchers:l,useServiceState:s,getStaticApi:d}=(0,n.i)(o,((e,t)=>({increaseVVCount(){t(o,(t=>Object.assign(Object.assign({},t),{vvCount:e(o).vvCount+1})))},resetVVCount(){t(o,(e=>Object.assign(Object.assign({},e),{vvCount:0})))},setShowEndCard(){t(o,(e=>Object.assign(Object.assign({},e),{showEndCard:!0})))},disableEndCard(){t(o,(e=>Object.assign(Object.assign({},e),{showEndCard:!1,disableEndCard:!0})))}})))},39589:(e,t,a)=>{a.d(t,{K:()=>i});const i=(0,a(38259).$)("SeoABTestContext@tiktok/fe-shared")(null)},25941:(e,t,a)=>{a.d(t,{P:()=>u,p:()=>c});var i=a(94039),n=a(22884),o=a(32125),r=a(42257),l=a(93341),s=a(40099),d=a(88920);const c=()=>{const e=(0,i.FV)(),t=(0,l.GF)(),{isPulsing:a,videoId:d}=(0,i.AJ)((e=>e),o.bN),{platformId:c,user:u}=(0,n.Gr)((e=>e),o.bN);return(0,s.useEffect)((()=>{t&&d&&t!==d&&e.turnOffSharePulsing()}),[t,d,e]),{isSharedPulsing:a&&t===d,lastSharedMethod:c in r.Ag?c:null,lastMessagedUser:c===r.Ag.message&&u.id&&u.avatarThumb?u:null}},u=()=>{const{isInExperiment:e}=(0,d.NV)(),t=(0,n.f7)();(0,s.useEffect)((()=>{e&&t.initLastSharedAtom()}),[e,t])}},94039:(e,t,a)=>{a.d(t,{FV:()=>s,AJ:()=>d});var i=a(93608);const n=e=>{i.f.sendEvent("share_flip_show",e)};var o=a(71111),r=a(31209);const l=(0,o.atom)({isPulsing:!1,videoId:"",vvCount:0});l.debugLabel="sharePulsingAtom";const{useServiceDispatchers:s,useServiceState:d}=(0,r.i)(l,((e,t)=>({turnOnSharePulsing:a=>{const{videoId:o,authorId:r}=a;e(l).isPulsing||n({group_id:o,author_id:r,page_name:i.f.commonParams.page_name}),t(l,(e=>Object.assign(Object.assign({},e),{isPulsing:!0,videoId:o})))},turnOffSharePulsing:()=>{t(l,(e=>Object.assign(Object.assign({},e),{isPulsing:!1,videoId:"",vvCount:0})))},maybeTurnOnSharePulsing:a=>{const{videoId:o,authorId:r}=a;if(o!==e(l).videoId)t(l,(e=>Object.assign(Object.assign({},e),{isPulsing:!1,videoId:o,vvCount:1})));else{const a=e(l).vvCount+1,s=e(l).isPulsing;a>=2&&!s&&n({group_id:o,author_id:r,page_name:i.f.commonParams.page_name}),t(l,(e=>Object.assign(Object.assign({},e),{isPulsing:a>=2||s,videoId:o,vvCount:a})))}},maybeTurnOffSharePulsing:a=>{a!==e(l).videoId&&t(l,(e=>Object.assign(Object.assign({},e),{isPulsing:!1,videoId:"",vvCount:0})))}})))},64738:(e,t,a)=>{a.d(t,{useAtom:()=>n,useAtomValue:()=>o,useSetAtom:()=>r});var i=a(71111);const n=i.useAtom,o=i.useAtomValue,r=i.useSetAtom}}]);