"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5853],{87652:(e,t,o)=>{o.d(t,{$4:()=>w,Mu:()=>y,o$:()=>x});var i=o(43723),n=o(31209),r=o(5412),a=o(97071),s=o(8046),l=o(60072),d=o(22220),c=o(53764),u=o(41548),p=o(11983),m=o(18499),h=o(64747),g=o(69589),f=o(40046);const v={nickname:"",replyId:void 0,replyToReplyId:void 0,position:-1},b=(0,i.p)("commentInputAtom@tiktok/webapp-atoms",{reply:Object.assign({},v),replyToOtherComment:Object.assign({},v),mentionUserList:[],isInputEmpty:!0,isReplyInputEmpty:!0,isInputFocus:!1,needClearInput:!1,needResetKeyword:!1,replyCid:""}),{useAtomService:y,useServiceDispatchers:w,useServiceState:x}=(0,n.i)(b,((e,t)=>({setReplyCid(e){t(b,(t=>Object.assign(Object.assign({},t),{replyCid:e})))},setReply(e){t(b,(t=>Object.assign(Object.assign({},t),{reply:null===e?Object.assign({},v):e})))},setReplyOptimize(e){t(b,(t=>Object.assign(Object.assign({},t),{replyToOtherComment:e})))},setMentionUserList(e){t(b,(t=>Object.assign(Object.assign({},t),{mentionUserList:null===e?[]:e})))},setIsReplyInputEmpty(e){t(b,(t=>Object.assign(Object.assign({},t),{isReplyInputEmpty:e})))},setIsInputEmpty(e){t(b,(t=>Object.assign(Object.assign({},t),{isInputEmpty:e})))},setIsInputFocus(e){t(b,(t=>Object.assign(Object.assign({},t),{isInputFocus:e})))},setNeedClearInput(e){t(b,(t=>Object.assign(Object.assign({},t),{needClearInput:e})))},setNeedResetKeyword(e){t(b,(t=>Object.assign(Object.assign({},t),{needResetKeyword:e})))},publishComment(t){return o=this,i=void 0,v=function*(){const o=(0,u.T)(),i=e(b),n=e(l.Pu),{awemeId:v,inputText:y,textExtra:w,teaParams:x,isReplyComment:_,shouldOptimizeReply:C,isCommentRedesign:k}=t,{reply:S,replyToOtherComment:I}=i,L=_?I:S,{replyId:O,replyToReplyId:j,nickname:P,position:B}=L,T=n[v],M={aweme_id:v,text:y,reply_id:O,reply_to_reply_id:j,text_extra:JSON.stringify(w)},R=Boolean(P)&&!C||_;try{const{status_code:e,comment:t}=yield(0,d.lG)(M);if(0===e){const e=R?"0"===j?"reply":"reply_to_reply":"original",i=o(P?"comment_reply_success":"comment_post_success");p.F.destroy(),p.F.open({content:i,duration:3,getContainer:c.M,getContainerPosition:"fixed"}),r.ao.handlePostComment(Object.assign(Object.assign({},x),{comment_category:e,comment_id:t.cid}));const n=null==T?void 0:T.ad_info;if(n){const e=(0,a.n5)({ad_info:n,play_mode:x.play_mode});s.pg.handleComment(e)}}else 22===e?(p.F.destroy(),p.F.open({content:o("comment_banned_toast"),duration:3,getContainer:c.M,getContainerPosition:"fixed"})):e?(p.F.destroy(),p.F.open({content:o("comment_post_failed"),duration:3,getContainer:c.M,getContainerPosition:"fixed"})):(p.F.destroy(),p.F.open({content:o("comment_nointernet_toast"),duration:3,getContainer:c.M,getContainerPosition:"fixed"}));if(0===e){const e=(0,h.OL)(),o=(0,l.ud)(),i=["comment","reply",t.reply_id],n=["comment",t.aweme_id];(0,m.unstable_batchedUpdates)((()=>{_&&C?(k&&((0,g.performManualOptimisticUpdate)(i,(0,f.qZ)({reply:t,parentCid:null!=O?O:""})),(0,g.performManualOptimisticUpdate)(n,(0,f.uv)({awemeId:v,parentCid:null!=O?O:""}))),this.setReplyCid(""),e.handleReplySuccess({comment:t,position:B})):R?(k&&((0,g.performManualOptimisticUpdate)(i,(0,f.qZ)({reply:t,parentCid:null!=O?O:""})),(0,g.performManualOptimisticUpdate)(n,(0,f.uv)({awemeId:v,parentCid:null!=O?O:""}))),this.setNeedClearInput(!0),e.handleReplySuccess({comment:t,position:B})):(this.setNeedClearInput(!0),k&&(0,g.performManualOptimisticUpdate)(n,(0,f.nK)({comment:t})),e.handlePostSuccess(t)),o.addMlModelTrainData({id:v,action:"post_comment"})}))}}catch(e){}},new((n=void 0)||(n=Promise))((function(e,t){function r(e){try{s(v.next(e))}catch(e){t(e)}}function a(e){try{s(v.throw(e))}catch(e){t(e)}}function s(t){var o;t.done?e(t.value):(o=t.value,o instanceof n?o:new n((function(e){e(o)}))).then(r,a)}s((v=v.apply(o,i||[])).next())}));var o,i,n,v}})))},22220:(e,t,o)=>{o.d(t,{dj:()=>c,fM:()=>l,i_:()=>d,lG:()=>u});var i=o(56070),n=o(26325),r=function(e,t,o,i){return new(o||(o=Promise))((function(n,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};const a=30,s=25;function l(){return r(this,void 0,void 0,(function*(){return i.h.get("/api/at/default/list/",{query:{cursor:0,count:s},baseUrlType:2})}))}function d(e){return r(this,void 0,void 0,(function*(){return i.h.get("/api/mention/recent/contact/list/v1/",{query:{mentionType:3,secUid:e},baseUrlType:2})}))}function c(e,t){return r(this,void 0,void 0,(function*(){return i.h.get("/api/comment/search/sug/user/",{query:{keyword:e,count:a,mention_type:3,uid_filter_list:t},baseUrlType:2})}))}function u(e){return r(this,void 0,void 0,(function*(){return i.h.post("/api/comment/publish/",{query:e,baseUrlType:8,headers:{[n.nk]:i.h.csrfToken}})}))}},36764:(e,t,o)=>{o.d(t,{Gb:()=>l,lY:()=>d});var i=o(43723),n=o(31209),r=o(89049),a=o(30085);const s=(0,i.p)("exploreActiveCategoryTypeAtom@tiktok/webapp-atoms",0),{useServiceState:l,useServiceDispatchers:d}=((0,i.p)("exploreBrowserListAtom@tiktok/webapp-atoms",(e=>{const t=e(a.Uy)[e(s)];return t?e(t):r.hA}),(()=>{})),(0,n.i)(s,((e,t)=>({prepareBrowserMode(e){t(s,e)}}))))},30085:(e,t,o)=>{o.d(t,{Uy:()=>f,V2:()=>y});var i=o(14974),n=o.n(i),r=o(57431),a=o(43723),s=o(31209),l=o(14374),d=o(93608),c=o(89049),u=o(68783),p=o(51660),m=o(27666),h=o(72370),g=o(31241);const f=(0,a.p)("exploreCategorizedAtomsAtom@tiktok/webapp-atoms",{}),v=(0,a.p)("exploreCategorizedListAtom@tiktok/webapp-atoms",(e=>n()(e(f),(t=>t?e(t):c.hA))),(()=>{}));function b(e){d.f.sendEvent("row_load_more",{page_name:"explore_page",enter_method:"scroll",is_success:e?1:0,is_follow:"0"})}const{useAtomService:y,useServiceDispatchers:w,useServiceState:x}=(0,s.i)(v,((e,t)=>({getExploreList(o){return i=this,n=void 0,d=function*(){const{categoryType:i}=o,{language:n,abTestVersion:s}=(0,r.x)();let d=e(f)[i];d||(d=(0,l._)((0,a.p)(`catAtom_${i}@tiktok/webapp-atoms`,c.hA),{rehydrationKey:`desktop.explorePage.exploreList.${i}`}),t(f,(e=>Object.assign(Object.assign({},e),{[i]:d}))));try{t(d,(e=>Object.assign(Object.assign({},e),{loading:!0})));const o=yield(0,m.e)({language:(0,p.uk)(n),aid:c.xE,count:h.H,categoryType:i,clientABVersions:null==s?void 0:s.versionName,isNonPersonalized:(0,g.X)()});o.itemList=function(e,t){if(!t)return t;const o=e(f),i=[];for(const t of Object.values(o))t&&i.push(...e(t).list);const n=new Set(i);return t.filter((e=>!n.has(e.id)))}(e,o.itemList),b(0===o.statusCode),(0,u.Tj)(e,t,d,"explore",o)}catch(e){b(!1),(0,u.e_)(t,d)}},new((s=void 0)||(s=Promise))((function(e,t){function o(e){try{a(d.next(e))}catch(e){t(e)}}function r(e){try{a(d.throw(e))}catch(e){t(e)}}function a(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(e){e(i)}))).then(o,r)}a((d=d.apply(i,n||[])).next())}));var i,n,s,d},resetExploreList(o){const i=e(f)[o.categoryType];i&&t(i,c.hA)}})))},72898:(e,t,o)=>{o.d(t,{I:()=>n});var i=o(62186);const n=(()=>{const e={apply:function(e,t,o){return e(o[0],Object.assign(Object.assign({},o[1]),{shouldForwardProp:e=>{var t,i,n;return"theme"!==e&&!e.toString().startsWith("$")&&(null===(n=null===(i=null===(t=o[1])||void 0===t?void 0:t.shouldForwardProp)||void 0===i?void 0:i.call(t,e))||void 0===n||n)}}))}};return new Proxy(i.default,e)})()},55913:(e,t,o)=>{o.d(t,{j:()=>m});var i=o(24643),n=o(40099),r=o(78808),a=o(77433),s=o(30671),l=o(6754),d=o(77542),c=o(10879),u=o(62186);(0,u.default)(a.E)`
  border-radius: 50%;
  overflow: hidden;
`,(0,u.default)(r.p)`
  border-radius: 50%;
  overflow: hidden;
`;const p=u.default.span`
  display: inline-flex;
  align-items: center;
  border-radius: 50%;
  overflow: hidden;
`,m=(0,n.memo)((function(e){const{isColor:t,isStrong:o,showTick:n,size:u}=e;return t?n?(0,i.jsx)(p,{children:(0,i.jsx)(r.p,{size:u})}):(0,i.jsx)(p,{children:(0,i.jsx)(a.E,{size:u})}):o?n?(0,i.jsx)(s.S,{size:u}):(0,i.jsx)(l.r,{size:u}):n?(0,i.jsx)(d.n,{size:u}):(0,i.jsx)(c.I,{size:u})}))},93811:(e,t,o)=>{o.d(t,{Em:()=>s,WA:()=>a,f8:()=>n,mo:()=>r});var i=o(87652);const n=()=>(0,i.o$)((e=>e.needClearInput)),r=()=>(0,i.o$)((e=>e.replyCid)),a=()=>(0,i.o$)((e=>e.isInputFocus)),s=e=>{const{isCommentInputEmpty:t,isReplyInputEmpty:o}=(0,i.o$)((({isInputEmpty:e,isReplyInputEmpty:t})=>({isCommentInputEmpty:e,isReplyInputEmpty:t})));return(e||t)&&o}},43626:(e,t,o)=>{o.d(t,{g:()=>f,m:()=>v});var i=o(58632),n=o(46682),r=o(57432),a=o.n(r),s=o(40099),l=o(32125),d=o(65852),c=o(68783),u=o(60484),p=o(35014),m=o(52333),h=o(79881),g=o(19442);const f=(0,s.createContext)({isLiveBrowserShowing:!1,isBrowserModeShowing:!1,showBrowserMode:a(),closeBrowserMode:a()});function v(){const[e,t]=(0,s.useState)(!1),[o,r]=(0,s.useState)({}),[a,f]=(0,s.useState)(),[{showingBrowserMode:v,itemListKey:b,currentIndex:y,enterWindowTimeSec:w},x]=(0,g.BI)((e=>({showingBrowserMode:e.showingBrowserMode,itemListKey:e.itemListKey,currentIndex:e.currentIndex,enterWindowTimeSec:e.enterWindowTimeSec})),l.bN),_=(0,s.useRef)(0),C=(0,s.useRef)(0),k=(0,s.useRef)(0),S=(0,s.useRef)(0),I=(0,s.useRef)(0),L=(0,s.useRef)(null),O=(0,s.useRef)(null),{authorId:j,groupId:P}=(0,h.hL)({currentIndex:y}),{currentId:B=""}=(0,u.L$)((0,h.Og)({currentIndex:y})),[T]=(0,n.S)(m.k,{selector:e=>e[B],dependencies:[B]}),M=(0,s.useMemo)((()=>({author_id:j,group_id:P})),[j,P]),R=(0,s.useCallback)((()=>{const e=Math.floor((Number(new Date)-C.current)/1e3),t=Object.assign(Object.assign(Object.assign(Object.assign({},d.L.getScreenRatio()),{duration:e}),M),{play_mode:"browser_mode"});d.L.handleExitBrowser(t)}),[M]),E=()=>{null!==O.current&&window.removeEventListener("resize",O.current)};(0,s.useEffect)((()=>{let t;const o=()=>{if(!e)return;const{height_max:t,width_max:o,width:i,height:n,height_ratio:r,width_ratio:a}=d.L.getScreenRatio(),s=Number(new Date),l=Object.assign({height_ratio_after:r,width_ratio_after:a,height_ratio:S.current/t,width_ratio:I.current/o,height_after:n,width_after:i,height:S.current,width:I.current,height_max:t,width_max:o,duration:(s-k.current)/1e3},M);k.current=s,S.current=n,I.current=i,d.L.handleAdjustBrowserSize(l)};if(E(),e){const e=()=>{clearTimeout(t),t=setTimeout(o,500)};window.addEventListener("resize",e),O.current=e}if(0===_.current){const e=Number(new Date);_.current=e,C.current=e,k.current=e}return()=>{E()}}),[e,M]);const A=(0,s.useMemo)((()=>({capture:!0})),[]),D=(0,s.useCallback)((()=>{null!==L.current&&window.removeEventListener("beforeunload",L.current,A)}),[A]);(0,s.useEffect)((()=>{const t=()=>{const t=Math.floor((Number(new Date)-w)/1e3),o=Object.assign(Object.assign(Object.assign({},d.L.getScreenRatio()),{duration:t}),e?M:{});d.L.handleCloseWindow(o),e&&R()};return D(),L.current=t,window.addEventListener("beforeunload",t,A),()=>{D()}}),[D,w,e,A,R,M]);const U=(0,p.J)(),F=(0,s.useCallback)((e=>{if(U())return;const{teaParams:o,reportTeaParams:n,enterFrom:a}=e,s=(0,i.__rest)(e,["teaParams","reportTeaParams","enterFrom"]);document.activeElement instanceof HTMLElement&&document.activeElement.blur(),x.showBrowserMode(s),t(!0),r(null!=o?o:{}),f(a);const l=d.L.getScreenRatio(),c=Object.assign(Object.assign(Object.assign({},null!=n?n:o),l),{play_mode:"browser_mode"}),{width:u,height:p}=l;S.current=p,I.current=u;const m=Number(new Date);C.current=m,k.current=m,d.L.handleEnterBrowserOpt(c)}),[x,U]),V=(0,s.useCallback)((e=>{t(!1),x.closeBrowserMode(e),R()}),[x,R]),N=(0,s.useMemo)((()=>{const e=new Set(["foryou","following"]);return Boolean(v)&&(0,c.Jl)(T)&&e.has(b)}),[v,b,T]);return{itemListKey:b,currentIndex:y,showBrowserMode:F,isLiveBrowserShowing:N,closeBrowserMode:V,isBrowserModeShowing:v,disableUpdate:!e,teaParams:o,enterFrom:a}}},79881:(e,t,o)=>{o.d(t,{DX:()=>ge,Dk:()=>ue,FQ:()=>ne,GL:()=>se,JE:()=>te,Ky:()=>de,Og:()=>ce,Oz:()=>ie,V0:()=>oe,WQ:()=>re,Wj:()=>ae,dD:()=>Q,hL:()=>pe,ih:()=>he,jd:()=>fe,rw:()=>me});var i,n=o(24643),r=o(46682),a=o(41271),s=o(99789),l=o.n(s),d=o(2387),c=o.n(d),u=o(4474),p=o(40099),m=o(47172),h=o(32125),g=o(98796),f=o(65491),v=o(8227),b=o(82715),y=o(69617),w=o(2584),x=o(65852),_=o(5412),C=o(509),k=o(87652),S=o(16680),I=o(64747),L=o(16085),O=o(36764),j=o(92597),P=o(39415),B=o(72688),T=o(25616),M=o(29793),R=o(78305),E=o(67169),A=o(88920),D=o(10745),U=o(60484),F=o(62047),V=o(89311),N=o(49057),z=o(89107),K=o(60445),W=o(40935),$=o(93811),q=o(19442),G=o(71777),H=o(79983),J=o(52333),Z=o(41632),Y=o(17566),X=o(44926);function Q({itemListKey:e,item:t,author:o,needUrlDelegate:i,onCloseBrowserMode:n,disableUpdate:a=!1}){const{pathname:s,search:d}=(0,m.useLocation)(),c=(0,m.useHistory)(),h=(0,Y._u)(),g=(0,p.useRef)(!1),[{searchValue:f,previousSearchValue:b},{setPreviousSearchValue:y,setSearchValue:w,setInputFocus:x}]=(0,r.S)(z.C,{dependencies:[],selector:e=>({searchValue:e.searchValue,previousSearchValue:e.previousSearchValue})});(0,p.useEffect)((()=>{y(f),w("");const e=()=>{w(b),x(!1),n({fromPopState:!0})};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}),[]),(0,p.useEffect)((()=>{if(!t||!e||!i||a)return;Boolean((0,m.matchPath)(location.pathname,{path:v.vI.liveRoom}))&&(g.current=!0);const{scheduleTime:n,author:r=""}=t,s=l()((0,u.parse)(d),"sender_device","sender_web_id","item_id"),c=n?(0,B.fJR)({uniqueId:r,secUid:null==o?void 0:o.secUid}):(0,u.stringifyUrl)({url:h(t),query:s},{skipNull:!0});g.current&&null!==window.history.state&&/^(?!.*@.*\/video).*$/.test(location.pathname)&&/^(?!.*@.*\/photo).*$/.test(location.pathname)?window.history.replaceState(null,"",location.pathname):g.current?window.history.replaceState(window.history.state,"video-detail",c):(window.history.pushState(window.history.state,"video-detail",c),g.current=!0)}),[null==o?void 0:o.secUid,c,t,s,e,i,d,a])}!function(e){e[e.Null=0]="Null",e[e.Close=1]="Close",e[e.Prev=2]="Prev",e[e.Next=3]="Next",e[e.Redirect=4]="Redirect"}(i||(i={}));const ee=e=>{null==e||e.preventDefault(),null==e||e.stopPropagation()};function te({onCloseBrowserMode:e,onNextVideo:t,onPrevVideo:o,pause:i,setPause:n,embedVisibleRef:s,group_id:l,handleLikeClick:d,author_id:c,itemListKey:u,onJumpSamePage:h,shouldPause:g,photoVideoRef:f,isPhotoMode:v,photoTeaParams:C,setIsShowPhoto:I,itemMute:L=!1}){const{isRTL:O}=(0,V.m)(),[j,P]=(0,p.useState)(!1),[B,T]=(0,p.useState)(0),D=(0,$.Em)(),{setNeedClearInput:U}=(0,k.$4)(),N=(0,r.w)(K.aL),[{previousSearchValue:W,searchValue:H},{setSearchValue:J}]=(0,r.S)(z.C,{dependencies:[],selector:e=>({previousSearchValue:e.previousSearchValue,searchValue:e.searchValue})}),{mute:Z,setMute:Y}=(0,E.ah)({playMode:2,itemMute:L}),[X,Q]=(0,q.BI)((({isCreatorBrowserMode:e})=>e)),te=(0,A.uT)(),oe=(0,p.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),Y(!Z,"keydown",C)}),[Y,Z,C,l,c]),ie=(0,a.P)(M.hf,{selector:({showing:e})=>e,dependencies:[]}),ne=(0,a.P)(R.y7,{selector:({showing:e})=>e,dependencies:[]}),re=(0,S.mZ)((e=>e.isOpen)),ae=(0,p.useRef)(null),se=(0,p.useRef)(null),le=(0,p.useCallback)((e=>{var t,o,r,a,s,l,d,c,u,p,m,h,g,b,y,w,x,_,C,k;v?i?(null===(r=null===(o=null===(t=f.current)||void 0===t?void 0:t.swiper)||void 0===o?void 0:o.play)||void 0===r||r.call(o),null===(l=null===(s=null===(a=f.current)||void 0===a?void 0:a.audio)||void 0===s?void 0:s.play)||void 0===l||l.call(s)):(null===(u=null===(c=null===(d=f.current)||void 0===d?void 0:d.swiper)||void 0===c?void 0:c.pause)||void 0===u||u.call(c,e),null===(h=null===(m=null===(p=f.current)||void 0===p?void 0:p.audio)||void 0===m?void 0:m.pause)||void 0===h||h.call(m)):i?te?null===(b=null===(g=se.current)||void 0===g?void 0:g.play)||void 0===b||b.call(g,!0):null===(w=null===(y=ae.current)||void 0===y?void 0:y.play)||void 0===w||w.call(y,!0):te?null===(_=null===(x=se.current)||void 0===x?void 0:x.pause)||void 0===_||_.call(x):null===(k=null===(C=ae.current)||void 0===C?void 0:C.pause)||void 0===k||k.call(C),n(!i)}),[v,n,i,f,l,c,te]),{pathname:de}=(0,m.useLocation)(),ce=(0,m.useHistory)(),ue=(0,p.useCallback)(((t,o)=>{var i,n;ee(t),J(W),D?e({fromPopState:o,playProgress:te?null===(i=se.current)||void 0===i?void 0:i.currentTime:null===(n=ae.current)||void 0===n?void 0:n.currentTime,shouldPause:g}):(T(1),P(!0))}),[D,g,e,W,J,te]),pe=(0,p.useCallback)((e=>{ee(e),Q.handleExitCreatorMode()}),[Q]),me=(0,p.useRef)(-1),he=(0,p.useCallback)(((e,t="click")=>{var o,i,n,r,a,s,d;const u=e>0?"forward":"backward";window.clearTimeout(me.current),N.setSeekType(u),me.current=window.setTimeout((()=>{N.setSeekType("none")}),2e3),te?null===(i=null===(o=se.current)||void 0===o?void 0:o.seekTime)||void 0===i||i.call(o,(null!==(r=null===(n=ae.current)||void 0===n?void 0:n.currentTime)&&void 0!==r?r:0)+e):null===(s=null===(a=ae.current)||void 0===a?void 0:a.seekTime)||void 0===s||s.call(a,(null===(d=ae.current)||void 0===d?void 0:d.currentTime)+e),y.V.handleVideoControlChange({play_mode:"browser_mode",author_id:null!=c?c:"",group_id:l,enter_method:t,click_section:"click"===t?"pc_web_keyboard_btn":void 0,change_params:e>0?"video_forward":"video_backward"})}),[c,l]),ge=(0,p.useRef)(""),fe=(0,p.useCallback)(((e,t,o)=>{if(t.includes(de)&&de!==b.OZ.home)return ue(e),void h();D||(ee(e),T(4),P(!0),ge.current=t),o&&w.O.handleGeneralClick(o,{scene:"video_feed"})}),[ue,D,de,h]),ve=(0,p.useCallback)((()=>{v&&(I(!1),setTimeout((()=>{I(!0)}),0))}),[v,I]),{isInExperiment:be}=(0,A.NV)(),ye=(0,p.useCallback)(((e,o="click")=>{if(e&&ee(e),H&&J(""),D){t(),n(!1);const e=Object.assign({enter_method:o,play_mode:"browser_mode",group_id:l,author_id:null!=c?c:"",skipped_group_num:0,skipped_group_ids:""},C);x.L.handleVideoChange(e,"next"),"foryou"===u&&x.L.handleHotVideoChange(e,"next"),ve()}else T(3),P(!0)}),[D,t,n,l,c,C,u,ve,H,J,be]),we=(0,p.useCallback)(((e,t="click")=>{if(e&&ee(e),H&&J(""),D){o(),n(!1);const e=Object.assign({enter_method:t,play_mode:"browser_mode",group_id:l,author_id:null!=c?c:"",skipped_group_num:0,skipped_group_ids:""},C);x.L.handleVideoChange(e,"prev"),"foryou"===u&&x.L.handleHotVideoChange(e,"prev"),ve()}else T(2),P(!0)}),[o,n,l,c,C,u,ve,H,J,be]),xe=(0,p.useCallback)((e=>{e&&ee(e),H&&J(""),D?(n(!1),ve()):(T(3),P(!0))}),[D,n,ve,H,J]),{isMiniPlayerShowing:_e}=(0,G.mE)((e=>({isMiniPlayerShowing:e.isMiniPlayerShowing}))),Ce=(0,p.useCallback)((e=>{if(27!==e.keyCode&&["input","textarea"].includes(e.target.tagName.toLocaleLowerCase())||"true"===e.target.getAttribute("contenteditable")||re)return;const t=new Map([[27,()=>{_e||(X?(pe(e),n(!1)):ie||ne||s.current||ue(e))}],[40,()=>{ye(e,"keydown")}],[32,()=>{le("keyboard")}],[39,()=>{he(O?F.a:F.S,"keydown")}],[37,()=>{he(O?F.S:F.a,"keydown")}],[38,()=>{we(e,"keydown")}],[76,()=>{d("keydown")}],[77,()=>{oe(e)}]]),{keyCode:o}=e;t.has(o)&&(e.preventDefault(),t.get(o)())}),[s,ue,d,ye,we,oe,re,ie,ne,le,pe,X,he,O,n,_e]),ke=(0,p.useCallback)((()=>{var i;switch(B){case 1:e({playProgress:null===(i=ae.current)||void 0===i?void 0:i.currentTime,shouldPause:g});break;case 2:o(),n(!1);break;case 3:t(),n(!1);break;case 4:ge.current&&ce.push(ge.current)}P(!1),U(!0),_.ao.handleLeaveComment({group_id:l})}),[B,l,ce,g,e,t,o,U,n]),Se=(0,p.useCallback)((()=>{T(0),P(!1),_.ao.handleKeepComment({group_id:l})}),[l]);return(0,p.useEffect)((()=>(document.addEventListener("keydown",Ce),()=>{document.removeEventListener("keydown",Ce)})),[Ce]),{handleLinkClick:fe,handleClose:ue,handleCloseCreatorMode:pe,handleNext:ye,handlePrev:we,preventDefault:ee,togglePlay:le,videoPlayerRef:ae,multimediaDesktopBizPlayerRef:se,usePlaybackRefactor:te,showLeaveModal:j,noEditingContent:D,handleConfirmLeave:ke,handleCancelLeave:Se,handleSeek:he,handleClickCreatorVid:xe}}function oe({id:e,authorId:t,playMode:o,needDispose:i=!0,handleCommentScrollDown:n,handleCommentHitTop:r}){const a=(0,I.BY)(),s=(0,p.useRef)(null),l=(0,p.useCallback)((()=>{_.ao.handleCommentLoadMore({play_mode:o,group_id:e,author_id:t}),a.fetchComment({aweme_id:e})}),[a,e]);return(0,p.useEffect)((()=>()=>{i&&a.setCommentItem({itemId:e,item:I.lN})}),[a,e,i]),(0,D.O9)({elemRef:s,onHitBottom:l,bottomThreshold:200,throttle:200}),(0,D.yE)({elemRef:s,onHitTop:r,onScrollDown:n}),s}function ie({showLeaveModal:e,group_id:t}){const[{loading:o}]=(0,I.kH)((e=>{var o;return null!==(o=e[t])&&void 0!==o?o:{loading:!1}}),h.bN);(0,p.useEffect)((()=>{e&&_.ao.handleClose({group_id:t,is_comments_loaded:o?_.uO.Loading:_.uO.Loaded})}),[t,e]),(0,p.useEffect)((()=>()=>{_.ao.handleClose({group_id:t,is_comments_loaded:o?_.uO.Loading:_.uO.Loaded})}),[t,o])}const ne=({currentIndex:e,handlePrev:t,hasNext:o,handleNext:i,itemListKey:r,isUiOptimise:a=!1})=>{const s=(0,T.s)(),l=(0,p.useCallback)(c()((e=>{r&&e.srcElement.classList.value.includes("BasicVideo")&&(e.deltaY>=1?i(e,"scroll"):e.deltaY<=-1&&t(e,"scroll"))}),100),[i,t]);(0,p.useEffect)((()=>(window.addEventListener("wheel",l),()=>{window.removeEventListener("wheel",l)})));const d={isUiOptimise:a};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z.d4,Object.assign({disabled:0===e,isPrev:!0,onClick:t,"data-e2e":"arrow-left",role:"button","aria-label":s("pc_web_previous_btn")},d,{children:(0,n.jsx)(f.A,{width:26,height:26,fill:"#fff"})})),(0,n.jsx)(Z.d4,Object.assign({disabled:!o,isPrev:!1,onClick:i,"data-e2e":"arrow-right",role:"button","aria-label":s("pc_web_next_btn")},d,{children:(0,n.jsx)(f.A,{width:26,height:26,fill:"#fff"})}))]})},re=e=>{var t,o;let i=!0;const n=(0,W.yS)(null==e?void 0:e.author),{user:r={}}=null!==(t=(0,N.W)((()=>["user"]),[]))&&void 0!==t?t:{},[a,s]=(0,p.useState)(!1),l=(0,p.useCallback)((e=>{e.stopPropagation(),C.d.handleClickAnalyticsButton(),s(!0)}),[]),d=(0,p.useCallback)((()=>{s(!1)}),[]);r||(i=!1);const{secUid:c,analyticsOn:u}=null!=r?r:{};return c===(null!==(o=null==n?void 0:n.secUid)&&void 0!==o?o:"")&&u||(i=!1),{showAnalyticsButton:i,showAnalyticsModal:a,handleOpenAnalyticsModal:l,handleCloseAnalyticsModal:d}};function ae(e,t){const{listLength:o,statusCode:i}=le({itemListKey:e,stateSelector:e=>{var t;return{listLength:null!==(t=null==e?void 0:e.list.length)&&void 0!==t?t:0,statusCode:null==e?void 0:e.statusCode}}}),{isBrowserModeOpen:n,browserModeIndex:r}=(0,q.JD)((e=>({isBrowserModeOpen:e.showingBrowserMode,browserModeIndex:e.currentIndex})),h.bN),{isImmersivePlayerOpen:a,index:s}=(0,L.Z9)((e=>({isImmersivePlayerOpen:e.isOpen,index:e.index}))),l=(0,p.useMemo)((()=>a?s:r),[r,s,a]);(0,p.useEffect)((()=>{(n||a)&&0===i&&(!o||o-l<=3)&&t()}),[l,t,n,a,o,i])}function se({itemListKey:e,exploreCategoryType:t,config:o,handler:i}){const n=(0,q.JD)((e=>e.currentIndex)),r=(0,O.Gb)(),[{activeItemListKey:a,listLength:s,keyToLoadMore:l},d]=(0,X.Zl)((e=>{var t;return{activeItemListKey:e.activeItemListKey,listLength:e.browserList.length,keyToLoadMore:null!==(t=e.keyToLoadMore)&&void 0!==t?t:""}}),h.bN),{statusCode:c,loading:u}=le({itemListKey:l,stateSelector:e=>{var t,o;return{statusCode:null!==(t=null==e?void 0:e.statusCode)&&void 0!==t?t:0,loading:null!==(o=null==e?void 0:e.loading)&&void 0!==o&&o}}});(0,p.useEffect)((()=>{d.registerBrowserListConfig({itemListKey:e,config:o})}),[e,o,d]),(0,p.useEffect)((()=>{"explore"===e&&void 0!==t&&t!==r||u||a!==e||s&&!(s-n<=3)||(0===c?!1===i(l)&&d.freezeSourceWithKey(l):e!==l&&d.freezeSourceWithKey(l))}),[u,n,a,e,s,c,d,l])}function le({itemListKey:e,stateSelector:t,dependencies:o}){const i=(0,j.D)(e),n=(0,g.X)(i||X.Eq,{selector:t,equalityFn:h.bN}),r=(0,a.P)(H.O,{selector:o=>{var i;const n=null!==(i=o[e])&&void 0!==i?i:null;return t(n)},dependencies:null!=o?o:[e]});return i?n:r}const de=({itemListKey:e,currentIndex:t})=>le({itemListKey:(0,q.JD)((e=>e.isCreatorBrowserMode))?"creator_tab":null!=e?e:"",stateSelector:e=>{var o,i;return e?{currentId:e.browserList[t],prefetchId1:null!==(o=e.browserList[t+1])&&void 0!==o?o:"",prefetchId2:null!==(i=e.browserList[t+2])&&void 0!==i?i:"",listLength:e.browserList.length}:null},dependencies:[e,t]}),ce=({currentIndex:e})=>{const t=(0,q.JD)((e=>e.isCreatorBrowserMode));return(0,X.d8)((o=>{var i,n;if(!o||!o.browserList)return null;const r=t?o.creatorBrowserList:o.browserList;return{currentId:r[e],prefetchId1:null!==(i=r[e+1])&&void 0!==i?i:"",prefetchId2:null!==(n=r[e+2])&&void 0!==n?n:"",listLength:r.length}}),h.bN)},ue=()=>{const e=(0,q.JD)((e=>e.isCreatorBrowserMode));return(0,X.d8)((t=>t&&t.browserList?e?t.creatorBrowserList:t.browserList:[]),h.bN)},pe=({currentIndex:e})=>{var t;const{currentId:o=""}=(0,U.L$)(ce({currentIndex:e})),[i]=(0,r.S)(J.k,{selector:e=>e[o],dependencies:[o]}),n=null!==(t=null==i?void 0:i.id)&&void 0!==t?t:"";return{authorId:null==i?void 0:i.authorId,groupId:n}};function me(e,t,o){const[{loading:i,hasMoreLatest:n,hasMorePrevious:r},a]=(0,P.sK)((e=>{var t,o,i;return{loading:null!==(t=e.loading)&&void 0!==t&&t,hasMoreLatest:null!==(o=e.hasMoreLatest)&&void 0!==o&&o,hasMorePrevious:null!==(i=e.hasMorePrevious)&&void 0!==i&&i}}),h.bN),{abTestVersion:s,language:l}=(0,U.L$)((0,N.W)((()=>["user","language","abTestVersion"]),[]));return(0,p.useCallback)((()=>{(!o||!i&&n)&&(o||!i&&r)&&a.getCreatorTabList({key:"creator_tab",secUid:e,createTime:t,fetchType:o?2:1})}),[i,r,n,o,e,t,a,s,l])}const he=()=>{const e=(0,T.s)(),t=e("pc_web_login"),o=e("pc_web_login_to_comment"),i=o.indexOf("%s");return{prefixText:o.slice(0,i),loginText:t,endText:o.slice(i).replace("%s","")}},ge=e=>e?new Map([["foryou","one-column-item"],["following","one-column-item"]]).get(e):e,fe=({itemListKey:e,currentIndex:t})=>{const{currentId:o=""}=(0,U.L$)(de({itemListKey:e,currentIndex:t})),[i]=(0,r.S)(J.k,{selector:e=>e[o],dependencies:[o]});return{liveRoomInfo:null==i?void 0:i.liveRoomInfo,requestId:null==i?void 0:i.logId}}},41632:(e,t,o)=>{o.d(t,{$2:()=>p,CY:()=>u,F3:()=>w,II:()=>D,Ii:()=>B,Jr:()=>y,Mu:()=>b,O8:()=>c,QN:()=>x,RK:()=>M,Rq:()=>j,TP:()=>A,_P:()=>d,cA:()=>U,cR:()=>m,d4:()=>_,es:()=>k,fJ:()=>S,iH:()=>h,jc:()=>R,kn:()=>L,lG:()=>C,oK:()=>O,rh:()=>g,sh:()=>E,xS:()=>P,zm:()=>T});var i=o(62186),n=o(97118),r=o(19434),a=o(72153),s=o(36776),l=o(32545);const d=(0,i.default)("div",{target:"e11s2kul0"})((({theme:{colors:e}})=>({position:"fixed",left:0,top:0,right:0,bottom:0,background:e.BGPrimary,zIndex:3e3,display:"flex",flexDirection:"row"})),"label:DivBrowserModeContainer;"),c={left:"-80px",right:"-80px",width:"auto"},u={maxWidth:"419px"},p={maxWidth:"419px"},m=(0,i.default)(l.x,{target:"e11s2kul2"})((({withBlurBG:e=!1,withLinearGradientBG:t=!1})=>({position:"absolute",width:"10%",height:"10%",filter:e?"blur(2px)":"none",left:"50%",top:"50%",transform:"scale(11)",opacity:t?"0":"0.3"})),"label:StyledVideoBlurBackground;"),h=(0,i.default)("div",{target:"e11s2kul3"})((({isUiOptimise:e})=>({position:e?"absolute":"relative",left:e?0:"",width:"100%",height:"100%",cursor:"pointer",":hover":{[`${s.ht}`]:{opacity:1}},":focus-within":{[`${s.ht}`]:{opacity:1}}})),"label:DivVideoWrapper;"),g=(0,i.default)(r.A,{target:"e11s2kul4"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},"label:StyledPlayIcon;");g.defaultProps=Object.assign(Object.assign({},g.defaultProps),{"data-e2e":"browse-video-play"});const f="1px solid blue",v=(0,i.default)("button",{target:"e11s2kul5"})((({theme:{colors:e}})=>({position:"absolute",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",background:e.ConstLineInverse,borderRadius:"50%",cursor:"pointer",border:"none",outline:"none",fontsize:0,"&:focus-visible":{outline:`2px solid ${e.Negative}`}})),(({theme:e,isUiOptimise:t})=>(0,a.oO)({theme:e,isUiOptimise:t})),"label:ButtonBasicButtonContainer;"),b=(0,i.default)(v,{target:"e11s2kul6"})((({theme:e,isUiOptimise:t,needOffset:o=!1})=>({width:"40px",height:"40px",top:"20px",transition:"opacity .3s",zIndex:100,backgroundColor:t?"":e.colors.ConstBGContainer,transform:`translateY(${o?16:0}px)`,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,a.mp)({direction:e,start:"20px"})),"label:StyledCloseIconContainer;");b.defaultProps=Object.assign(Object.assign({},b.defaultProps),{"data-e2e":"browse-close"});const y=(0,i.default)(v,{target:"e11s2kul7"})((({theme:e,needOffset:t=!1})=>({top:"20px",zIndex:100,backgroundColor:e.colors.ConstBGInverse4,height:"40px",padding:"0 10px",minWidth:"40px",borderRadius:"80px",transform:`translateY(${t?16:0}px)`,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,a.mp)({direction:e,start:"20px"})),"label:StyledExitCreatorModeIconContainer;"),w=(0,i.default)("div",{target:"e11s2kul8"})({display:"flex",flexDirection:"row",alignItems:"center"},"label:DivExitCreatorModeTextContainer;"),x=(0,i.default)("div",{target:"e11s2kul9"})((({theme:e})=>[(0,a.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont",fontSize:16}),{color:"#fff",height:"24px",textAlign:"center",fontSize:"16px",display:"flex",alignItems:"center",lineHeight:"24px"},(0,a.mp)({direction:e.direction,paddingStart:"5px"})]),"label:DivExitCreatorModeText;"),_=(0,i.default)(v,{target:"e11s2kul10"})((({isPrev:e,theme:{colors:t},isUiOptimise:o})=>({width:"40px",height:"40px",transform:e?"rotate(-90deg)":"rotate(90deg)",top:e?"calc(50% - 48px)":"calc(50% + 8px)",marginTop:"-24px",":disabled":{display:"none"},background:o?"":t.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,a.mp)({direction:e,end:"20px"})),"label:StyledVideoSwitch;"),C=(0,i.default)("div",{target:"e11s2kul16"})((({theme:e,isUiOptimise:t=!1})=>[(0,a.zy)({theme:e,typography:"P3",fontWeight:"semiBold",color:"ConstTextInverse4",fontFamily:"TikTokDisplayFont"}),{padding:"10px 16px",backgroundColor:e.colors.ConstBGContainer,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100px",position:"absolute",top:"20px",cursor:"pointer",zIndex:100,color:e.colors.ConstTextInverse,WebkitAppRegion:"no-drag",":hover":{opacity:.7},":active":{opacity:.5},"&:focus-visible":{outline:f}},(0,a.oO)({theme:e,isUiOptimise:t}),(0,a.mp)({direction:e.direction,end:"20px"})]),"label:DivReportText;");C.defaultProps=Object.assign(Object.assign({},C.defaultProps),{"data-e2e":"browse-report"});const k=(0,i.default)("div",{target:"e11s2kul17"})((({theme:e,isUiOptimise:t=!1})=>[(0,a.zy)({theme:e,typography:"P3",fontWeight:"semiBold",color:"ConstTextInverse4",fontFamily:"TikTokDisplayFont"}),{width:"40px",height:"40px",backgroundColor:e.colors.ConstBGContainer,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100px",position:"absolute",top:"20px",cursor:"pointer",zIndex:100,color:e.colors.ConstTextInverse,WebkitAppRegion:"no-drag","&:focus-visible":{outline:f}},(0,a.oO)({theme:e,isUiOptimise:t}),(0,a.mp)({direction:e.direction,end:"20px"})]),"label:DivIconWrapper;");k.defaultProps=Object.assign(Object.assign({},k.defaultProps),{"data-e2e":"browse-ellipsis"});const S=(0,i.default)(n.A,{target:"e11s2kul18"})((({theme:{direction:e}})=>(0,a.mp)({direction:e,marginEnd:"5px"})),{verticalAlign:"middle"},"label:StyledIconFlag;"),I=(0,i.default)("button",{target:"e11s2kul19"})(a.WA,(({theme:e,widerBottom:t=!1})=>({position:"absolute",bottom:t?"60px":"20px",transition:"opacity 0.3s",cursor:"pointer",fontsize:0,lineHeight:0,borderRadius:"100px",backgroundColor:e.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,a.mp)({direction:e,end:"20px"})),"label:ButtonVoiceControl;");I.defaultProps=Object.assign(Object.assign({},I.defaultProps),{"data-e2e":"browse-sound"});const L=(0,i.default)("button",{target:"e11s2kul20"})(a.WA,(({theme:e})=>({display:"flex",transition:"opacity 0.3s",cursor:"pointer",fontsize:0,lineHeight:0,borderRadius:"100px",backgroundColor:e.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5},"&:focus-visible":{outline:f}})),(({theme:e,isUiOptimise:t})=>(0,a.oO)({theme:e,isUiOptimise:t})),"label:ButtonVoiceControlNew;");L.defaultProps=Object.assign(Object.assign({},L.defaultProps),{"data-e2e":"browse-sound"});const O=(0,i.default)("div",{target:"e11s2kul21"})((({widerBottom:e=!1})=>({position:"absolute",zIndex:1,bottom:e?"60px":"20px"})),(({theme:{direction:e}})=>(0,a.mp)({direction:e,end:"20px"})),"label:DivVoiceControlContainer;"),j=(0,i.default)("div",{target:"e11s2kul22"})((({widerBottom:e=!1})=>({position:"absolute",bottom:e?"60px":"20px"})),(({theme:{direction:e},showMiniPlayer:t})=>(0,a.mp)({direction:e,end:t?"116px":"68px"})),"label:DivCaptionContainer;"),P=(0,i.default)("div",{target:"e11s2kul23"})((({widerBottom:e=!1})=>({position:"absolute",bottom:e?"60px":"20px"})),(({theme:{direction:e}})=>(0,a.mp)({direction:e,end:"68px"})),"label:DivMiniPlayerContainer;"),B=(0,i.default)("div",{target:"e11s2kul24"})((({theme:{colors:e},isUiOptimise:t=!1,withLinearGradientBlueBG:o=!1,withLinearGradientBlackBG:i=!1})=>({flex:t?"1 0 600px":"1 1 896px",maxWidth:t?"100%":"",background:i?"linear-gradient(180deg, #2b2b2b 0%, #000000 40%)":o?"linear-gradient(180deg, #101820 0%, #1c2b35 100%)":e.ConstBGInverse,position:"relative",overflow:"hidden",padding:"0 80px"})),"label:DivVideoContainer;"),T=(0,i.default)("div",{target:"e11s2kul25"})({position:"absolute",bottom:0,left:0,right:0},"label:DivWarnInfoPosition;"),M=(0,i.default)("div",{target:"e11s2kul27"})((({display:e})=>({display:e||"flex",justifyContent:"center",alignItems:"center",position:"absolute",bottom:"84px",left:"50%",transform:"translateX(-50%)",textDecoration:"none"})),"label:FooterBtnWrapper;"),R=(0,i.default)("a",{target:"e11s2kul28"})((({theme:{colors:e,direction:t}})=>[{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:500,fontSize:"18px",padding:"11.5px 24px",borderRadius:"52px",color:e.ConstTextInverse,background:e.ToastDefault,cursor:"pointer",textDecoration:"none",":hover":{opacity:.7,color:e.ConstTextInverse,textDecoration:"none"},":active":{opacity:.5,color:e.ConstTextInverse,textDecoration:"none"},":visited":{opacity:1,color:e.ConstTextInverse,textDecoration:"none"}},(0,a.mp)({direction:t,marginEnd:"8px"})]),"label:AAnalyticsWrapper;"),E=(0,i.default)("div",{target:"e11s2kul29"})((({useNarrowSearchBar:e=!1})=>({position:"absolute",zIndex:1,width:"100%",display:"flex",justifyContent:"center",left:0,right:0,margin:"auto",alignItems:"center",height:"85px",WebkitAppRegion:"no-drag","@media(max-width: 1600px)":{width:e?"50%":"100%"},"@media(max-width: 1300px)":{display:e?"none":"flex"}})),"label:DivSearchBarContainer;"),A=(0,i.default)("div",{target:"e11s2kul30"})((({useNarrowSearchBar:e=!1})=>({position:"absolute",height:"85px",width:"100%",background:"linear-gradient(180deg, rgba(0, 0, 0, 0.3) 0, rgba(0, 0, 0, 0) 100%)","@media(max-width: 1600px)":{width:e?"200%":"100%"}})),"label:DivSearchBarBackground;"),D=(0,i.default)("div",{target:"e11s2kul31"})({position:"absolute",insetInlineStart:"10px",bottom:"10px",zIndex:"1"},"label:DivVideoClosedCaptionContainer;"),U=(0,i.default)("div",{target:"e11s2kul32"})((({widerBottom:e,theme:{direction:t}})=>[{position:"absolute",bottom:e?"112px":"72px"},(0,a.mp)({direction:t,start:"20px"})]),"label:DivRepostPulsingContainer;")},36776:(e,t,o)=>{o.d(t,{AK:()=>s,Vi:()=>l,Zx:()=>h,gt:()=>r,ht:()=>p,l5:()=>a,n9:()=>d,p5:()=>m});var i=o(62186),n=o(72153);const r=(0,i.default)("div",{target:"e1rpry1m0"})({width:"100%",height:"24px",flex:"1 1 auto",position:"relative"},"label:DivSeekBarContainer;"),a=(0,i.default)("div",{target:"e1rpry1m1"})({flex:"0 0 88px",maxWidth:"88px",marginInlineStart:"8px",fontSize:"14px",lineHeight:"24px",color:"#ffffff",textAlign:"end",whiteSpace:"nowrap",fontFeatureSettings:'"tnum"',fontVariantNumeric:"tabular-nums",fontFamily:"Tahoma, PingFangSC, sans-serif"},"label:DivSeekBarTimeContainer;"),s=(0,i.default)("div",{target:"e1rpry1m2"})((({theme:{colors:e}})=>({height:"4px",width:"100%",backgroundColor:e.ConstTextInverse5,position:"absolute",left:"0",top:"50%",transform:"translateY(-50%)",cursor:"pointer","&:focus-visible":{outline:`2px solid ${e.Negative}`}})),"label:DivSeekBarProgress;"),l=(0,i.default)("div",{target:"e1rpry1m3"})((({theme:{direction:e,colors:t}})=>({height:"4px",width:"100%",backgroundColor:t.ConstTextInverse,position:"absolute",top:"50%",transform:"translateY(-50%)",cursor:"pointer",transformOrigin:"rtl"===e?"right":"left"})),"label:DivSeekBar;"),d=(0,i.default)("div",{target:"e1rpry1m4"})((({theme:{direction:e}})=>(0,n.mp)({direction:e})),(({theme:{direction:e}})=>({display:"none",width:"16px",height:"16px",backgroundColor:"#ffffff",borderRadius:"16px",position:"absolute",top:"50%",transform:`translate(${"rtl"===e?"50%":"-50%"}, -50%)`,cursor:"pointer",zIndex:1})),"label:DivSeekBarCircle;"),c="calc(100% - 160px)",u="translateX(-50%)",p=(0,i.default)("div",{target:"e1rpry1m5"})((({show:e,extraBottomSpace:t,isDisplayForAnyWidth:o,isNarrow:i=!1,useFullWideInNarrow:n=!1})=>({width:i?"calc(100% - 250px)":c,height:"24px",paddingInline:"16px",position:"absolute",opacity:e?"1":"0",transition:"opacity .3s",bottom:t?"68px":"28px",cursor:"initial",display:"flex",alignItems:"center",left:"50%",transform:u,maxWidth:"56.25vh",[`:hover ${s}`]:{height:"6px"},[`:hover ${l}`]:{height:"6px"},[`:hover ${d}`]:{display:"block"},"@media (max-width: 900px)":{display:o?"":"none"},"@media (max-width: 1430px)":n?{maxWidth:"unset",width:c,marginInlineStart:"4px",left:"unset",transform:"none"}:{},zIndex:1})),"label:DivVideoControlContainer;"),m=(0,i.default)("div",{target:"e1rpry1m6"})({width:c,height:"28px",position:"absolute",bottom:0,left:"50%",transform:u,cursor:"initial",maxWidth:"56.25vh"},"label:DivVideoControlBottom;"),h=(0,i.default)("div",{target:"e1rpry1m7"})((({widerBottom:e})=>({width:c,height:"10px",position:"absolute",bottom:e?"92px":"52px",left:"50%",transform:u,cursor:"initial",maxWidth:"56.25vh"})),"label:DivVideoControlTop;")},44494:(e,t,o)=>{o.d(t,{Z8:()=>S,jE:()=>L,mT:()=>I,L_:()=>B,io:()=>j});var i=o(57432),n=o.n(i),r=o(4474),a=o(60182),s=o(94353),l=o(10594),d=o(60652),c=o(70363),u=o(53577),p=o(95748),m=o(3732),h=o(40815),g=o(1983),f=o(84879),v=o(78116),b=o(2230),y=o(42257),w=o(53764),x=o(24643);let _=0;var C=o(55913);const k=(0,o(40099).memo)((function(e){var t;return(0,x.jsx)(C.j,{isColor:!0,showTick:null!==(t=e.isReposted)&&void 0!==t&&t,isStrong:!1,size:e.width})})),S=Object.assign(Object.assign({},y.Ag),{viber:"viber",kakaotalk:"kakaotalk",messenger:"messenger"}),I={facebook:"{Share to} Facebook",pinterest:"{Share to} Pinterest",twitter:"{Share to} X",copy:"{copy_link}",embed:"{embed}",whatsapp:"{Share to} WhatsApp",reddit:"{Share to} Reddit",vk:"{Share to} VK",sms:"{Share to} Sms",telegram:"{Share to} Telegram",line:"{Share to} Line",linkedin:"{Share to} LinkedIn",email:"{Share to} Email",message:"{support_webapp_sharing_option_button}",repost:"{pcWeb_repost_btn}"},L={facebook:a.A,pinterest:s.A,twitter:b.b,copy:l.A,embed:d.A,whatsapp:c.A,reddit:u.A,vk:p.A,telegram:m.A,line:h.A,linkedin:g.A,email:f.A,message:v.A,sms:function({width:e="1em",height:t="1em",style:o={}}){return _++,(0,x.jsxs)("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:o,children:[(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0002 47.001C36.7028 47.001 47.0002 36.7035 47.0002 24.001C47.0002 11.2984 36.7028 1.00098 24.0002 1.00098C11.2977 1.00098 1.00024 11.2984 1.00024 24.001C1.00024 36.7035 11.2977 47.001 24.0002 47.001Z",fill:`url(#sms_icon_paint0_linear_${_})`}),(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.6501 23.569C36.6501 29.3645 30.9865 34.0628 24.0001 34.0628C23.1537 34.0628 22.3267 33.9938 21.5269 33.8623C20.826 33.7948 20.4086 33.8602 19.689 34.0827C19.4224 34.1652 19.1109 34.3318 18.7539 34.5226C17.9542 34.9503 16.9262 35.5 15.6626 35.5C15.6388 35.5 15.7188 35.4207 15.8558 35.285C16.3095 34.8358 17.3876 33.7682 17.3876 32.9125V32.5167C13.7656 30.6708 11.3501 27.3539 11.3501 23.569C11.3501 17.7735 17.0137 13.0753 24.0001 13.0753C30.9865 13.0753 36.6501 17.7735 36.6501 23.569Z",fill:"white"}),(0,x.jsx)("defs",{children:(0,x.jsxs)("linearGradient",{id:`sms_icon_paint0_linear_${_}`,x1:"73.7964",y1:"64.0399",x2:"58.9088",y2:"-4.65515",gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#43E6A2"}),(0,x.jsx)("stop",{offset:"1",stopColor:"#18D037"})]})})]})},repost:k},O="copy";function j({platform:e,url:t,targetDOM:o}){switch(e){case"facebook":return(0,r.stringifyUrl)({url:"https://www.facebook.com/sharer/sharer.php",query:{u:t,display:"popup",sdk:"joey"}});case"twitter":return(0,r.stringifyUrl)({url:"https://twitter.com/intent/tweet",query:{refer_source:t,text:t}});case"pinterest":return(0,r.stringifyUrl)({url:"https://pinterest.com/pin/create/button/",query:{url:t,media:"https://lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/mtact/static/images/share_img.png",desc:t}});case"whatsapp":return(0,r.stringifyUrl)({url:"https://wa.me/",query:{text:t}});case"reddit":return(0,r.stringifyUrl)({url:"https://www.reddit.com/submit",query:{url:t}});case"vk":return(0,r.stringifyUrl)({url:"https://vk.com/share.php",query:{url:t}});case"copy":return function(){var e;if(navigator.clipboard)return navigator.clipboard.writeText(t);{const i=document.createElement("input");let n=!1;i.style.fontSize="16px",o?o.appendChild(i):(null!==(e=document[null===w.e||void 0===w.e?void 0:w.e.fullscreenElement])&&void 0!==e?e:document.body).appendChild(i),i.value=t||"",i.select(),i.setSelectionRange(0,t.length),document.execCommand&&(n=document.execCommand(O)),i.remove()}};case"telegram":return(0,r.stringifyUrl)({url:"https://t.me/share/url",query:{url:t,text:t}});case"line":return(0,r.stringifyUrl)({url:"https://lineit.line.me/share/ui",query:{url:t,text:t}});case"linkedin":return(0,r.stringifyUrl)({url:"https://www.linkedin.com/sharing/share-offsite",query:{url:t}});case"email":return(0,r.stringifyUrl)({url:"mailto:",query:{subject:t,body:t}});case"embed":case"message":case"repost":return n();default:return"#"}}const P={pc:{US:["copy","sms","facebook","reddit","pinterest","twitter","whatsapp","embed"],RU:["copy","whatsapp","vk","facebook","twitter","embed"],UA:["copy","whatsapp","vk","facebook","twitter","embed"],JP:["copy","twitter","facebook","whatsapp","embed"],default:["copy","whatsapp","facebook","twitter","embed"]},mobile:{US:["copy","facebook","reddit","pinterest","twitter","whatsapp","embed"],RU:["copy","whatsapp","vk","sms","facebook","twitter","embed"],UA:["copy","whatsapp","vk","sms","facebook","twitter","embed"],JP:["copy","twitter","facebook","sms","whatsapp","embed"],default:["copy","whatsapp","sms","facebook","twitter","embed"]}};function B({region:e,isMobile:t=!1,enableRepost:o=!1}){const i=t?"mobile":"pc",n=P[i][e]||P[i].default;return o?["repost",...n]:n}},86776:(e,t,o)=>{o.d(t,{XF:()=>p,kw:()=>m});var i,n=o(46682),r=o(40099),a=o(47172),s=o(95868),l=o(49057),d=o(43626),c=o(18183),u=o(88920);function p(){var e;const{region:t=""}=null!==(e=(0,l.W)((()=>["region"]),[]))&&void 0!==e?e:{},o=(0,n.w)(c.M);return(0,r.useCallback)((()=>{o.initShareSettings({isMobile:!1,region:t})}),[t,o])}function m(){const{isBrowserModeShowing:e}=(0,r.useContext)(d.g),{pathname:t}=(0,a.useLocation)(),{shouldOptimizeCta:o}=(0,u.kb)();return(0,r.useMemo)((()=>{const i=((0,s.cj)(t)||(0,s.Ke)(t)||(0,s.Iy)(t)||(0,s.nq)(t)||(0,s.Ds)(t)||(0,s.LC)(t)||(0,s.vb)(t))&&!e,n=(0,s.tO)(t)||(0,s.P_)(t)||(0,s.gq)(t)||(0,s.Fj)(t);let r="none";return e?r=o?"short":"expand":(i||n)&&(r="short"),{additionShareOptions:!0,expanded:r}}),[t,e,o])}!function(e){e.None="none",e.Simple="short",e.Expanded="expand"}(i||(i={}))},18183:(e,t,o)=>{o.d(t,{M:()=>x});var i=o(58632),n=o(64162),r=o(4126),a=o(93995),s=o(23999),l=o(26324),d=o(35572),c=o(62564),u=o(74690),p=o(24451),m=o(20259),h=o(55099),g=o(16469),f=o(44494),v=o(42257),b=o(7672),y=o(8536);let w=class{get Kakao$(){return window.Kakao?(0,s.of)(null):new l.c((e=>{o.e(6020).then(o.t.bind(o,6020,23)).then((()=>{window.Kakao.init("4954e33ea2a4395e59ecbc20761bd889"),e.next(),e.complete()})).catch((t=>{console.error(t),e.next(),e.complete()}))}))}share(e){return this.Kakao$.pipe((0,y.Z)((()=>new l.c((t=>{window.Kakao.Share.sendScrap({requestUrl:e,callback:()=>{t.next(),t.complete()}})})))),(0,m.W)((()=>(0,s.of)(null))))}};w=(0,i.__decorate)([(0,b._)()],w);let x=class extends n.E{constructor(e,t){super(),this.fetch=e,this.kakaoSdk=t,this.defaultState={platforms:null,platformsForAdditionOnly:null,isFlip:!1,loading:!1}}setPlatforms(e,t){e.platforms=t}setLoading(e,t){e.loading=t}setIsFlip(e,t){e.isFlip===t||t&&!function(){var e;const t=g._w.getItem("flip_timestamp"),o=(null!==(e=g._w.getItem("flip_count"))&&void 0!==e?e:0)+1,i=(new Date).setHours(0,0,0,0);return!(t&&t===i&&o>7||(g._w.setItem("flip_timestamp",i),g._w.setItem("flip_count",o),0))}()||(e.isFlip=t)}handleKakaoShare(e){return e.pipe((0,d.p)((({requestUrl:e})=>this.kakaoSdk.share(e).pipe((0,c.T)((()=>this.getActions().setLoading(!1))),(0,u.Z)(this.getActions().setLoading(!0))))))}initShareSettings(e){return e.pipe((0,p.E)(this.state$),(0,d.p)((([e,{platforms:t}])=>t?(0,s.of)(this.getActions().setPlatforms(t)):this.fetch.get("/api/share/settings/",{query:{device_platform:e.isMobile?"webapp_mobile":"webapp_pc",mode:1}}).pipe((0,c.T)((({status_code:t,share_platforms:o})=>{if(0===t&&(null==o?void 0:o.length)){const t=o.map((({platform_id:e})=>e)).filter((t=>{return o=t,e.isMobile?o in f.Z8:o in v.Ag;var o}));return this.getActions().setPlatforms(t)}return this.getActions().setPlatforms((0,f.L_)(e))})),(0,u.Z)(this.getActions().setPlatforms([])),(0,m.W)((()=>(0,s.of)(this.getActions().setPlatforms((0,f.L_)(e)))))))))}};(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Array]),(0,i.__metadata)("design:returntype",void 0)],x.prototype,"setPlatforms",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",void 0)],x.prototype,"setLoading",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",void 0)],x.prototype,"setIsFlip",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[l.c]),(0,i.__metadata)("design:returntype",l.c)],x.prototype,"handleKakaoShare",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[l.c]),(0,i.__metadata)("design:returntype",l.c)],x.prototype,"initShareSettings",null),x=(0,i.__decorate)([(0,a.n)("TTShare"),(0,i.__metadata)("design:paramtypes",[h.p,w])],x)}}]);