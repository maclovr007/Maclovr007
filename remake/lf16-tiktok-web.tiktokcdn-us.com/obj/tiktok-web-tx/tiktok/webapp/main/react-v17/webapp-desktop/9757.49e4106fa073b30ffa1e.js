"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9757],{26290:(e,t,n)=>{n.d(t,{F:()=>c});var i=n(24643),a=n(62186),s=n(58542),r=n(893),o=n(89721);const l=(0,a.default)(s.Fm,{shouldForwardProp:e=>"lineHeight"!==e&&"fontSize"!==e,target:"e1vx58lt0"})((e=>[(0,r.c)(e)]),"label:StyledTUXText;"),d=e=>t=>{var{style:n,color:a}=t,s=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}(t,["style","color"]);const{tag:r,fontSize:d,lineHeightMultiplier:c,letterSpacingMultiplier:_,font:g}=o.F[e];return(0,i.jsx)(l,Object.assign({as:r,fontSize:d,lineHeight:d*c,letterSpacing:d*_,font:g,style:Object.assign(Object.assign({},n),{fontSize:d}),color:a},s))},c=s.Fm;c.H0=d("H0"),c.H1=d("H1"),c.H2=d("H2"),c.H3=d("H3"),c.H4=d("H4"),c.P1=d("P1"),c.P2=d("P2"),c.P3=d("P3"),c.P4=d("P4"),c.Longform=d("Longform")},89721:(e,t,n)=>{n.d(t,{F:()=>i});const i={H0:{tag:"h1",fontSize:32,lineHeightMultiplier:1.2,letterSpacingMultiplier:0,font:"TikTok Display"},H1:{tag:"h1",fontSize:24,lineHeightMultiplier:1.25,letterSpacingMultiplier:.01,font:"TikTok Display"},H2:{tag:"h2",fontSize:20,lineHeightMultiplier:1.25,letterSpacingMultiplier:.015,font:"TikTok Display"},H3:{tag:"h3",fontSize:17,lineHeightMultiplier:1.3,letterSpacingMultiplier:0,font:"TikTok Sans"},H4:{tag:"h4",fontSize:15,lineHeightMultiplier:1.3,letterSpacingMultiplier:.004,font:"TikTok Sans"},P1:{tag:"p",fontSize:14,lineHeightMultiplier:1.3,letterSpacingMultiplier:.0067,font:"TikTok Sans"},P2:{tag:"p",fontSize:13,lineHeightMultiplier:1.3,letterSpacingMultiplier:.0097,font:"TikTok Sans"},P3:{tag:"p",fontSize:12,lineHeightMultiplier:1.3,letterSpacingMultiplier:.0134,font:"TikTok Sans"},P4:{tag:"p",fontSize:11,lineHeightMultiplier:1.3,letterSpacingMultiplier:.0177,font:"TikTok Sans"},Longform:{tag:"p",fontSize:16,lineHeightMultiplier:1.5,letterSpacingMultiplier:.0019,font:"TikTok Sans"}}},893:(e,t,n)=>{n.d(t,{K:()=>s,c:()=>a});var i=n(89721);const a=({fontSize:e,lineHeight:t,letterSpacing:n})=>({fontSize:e/16+"rem !important",lineHeight:t/16+"rem",letterSpacing:n}),s=e=>{const{fontSize:t,lineHeightMultiplier:n,letterSpacingMultiplier:s}=i.F[e];return a({fontSize:t,lineHeight:t*n,letterSpacing:t*s})}},10745:(e,t,n)=>{n.d(t,{O9:()=>s,hG:()=>r,yE:()=>o});var i=n(40099),a=n(90159);function s({elemRef:e,onHitBottom:t,bottomThreshold:n=10,throttle:s=100,isFirstRender:r}){const o=(0,a._g)((()=>{if(!e.current||r)return;const{offsetHeight:i,scrollTop:a,scrollHeight:s}=e.current;i+a+n>=s&&(null==t||t())}),[n,e,t,r],s);(0,i.useEffect)((()=>{const{current:t}=e;return null==t||t.addEventListener("scroll",o),()=>{null==t||t.removeEventListener("scroll",o)}}),[e,e.current,o])}function r({elemRef:e,boundingElemRef:t,onHitBottom:n,bottomThreshold:s=10,throttle:r=100}){const o=(0,a._g)((()=>{if(!e.current)return;const{bottom:i}=e.current.getBoundingClientRect(),a=(null==t?void 0:t.current)?t.current.getBoundingClientRect().bottom:window.innerHeight;i-s<=a&&(null==n||n())}),[t,s,e,n],r);(0,i.useEffect)((()=>{var e;const n=null!==(e=null==t?void 0:t.current)&&void 0!==e?e:window;return n.addEventListener("scroll",o),()=>{n.removeEventListener("scroll",o)}}),[t,o])}function o({elemRef:e,onHitTop:t,scrollTopRef:n,throttle:s=100,isFirstRender:r,onScrollDown:o}){const l=(0,a._g)((()=>{if(!e.current||r)return;const{scrollTop:i,scrollHeight:a}=e.current,s=i<=0;if(n){const r=i<=n.current;n.current=i,s&&r&&(null==t||t(),e.current.scrollTop=e.current.scrollHeight-a)}else s&&(null==t||t());i>0&&(null==o||o())}),[e,t,r],s);(0,i.useEffect)((()=>{const{current:t}=e;return null==t||t.addEventListener("scroll",l),null==t||t.addEventListener("wheel",l),()=>{null==t||t.removeEventListener("scroll",l),null==t||t.removeEventListener("wheel",l)}}),[e,e.current,l])}},85349:(e,t,n)=>{n.d(t,{t:()=>u});var i=n(24643),a=n(94999),s=n(40099),r=n(71615),o=n(70873),l=n(64356),d=n(11654),c=n(33805),_=n(32744);const g=(0,n(62186).default)("div",{target:"e1dc6dvj0"})({height:"100vh",display:"flex",flexDirection:"column"},"label:DivErrorBoundaryContainer;");class u extends s.Component{constructor(){super(...arguments),this.state={isNetOffline:!1,hasError:!1},this._slardar=a.l.getInstance(d.V$),this.handleOnlineStatusChange=()=>{this.setState({isNetOffline:!navigator.onLine})}}get iconElem(){const{hasError:e}=this.state;return e?(0,i.jsx)(r.A,{width:90,height:90,fill:"rgba(128, 130, 133, 1)"}):(0,i.jsx)(o.A,{width:90,height:90,fill:"rgba(128, 130, 133, 1)"})}get text(){const{hasError:e}=this.state;return e?{title:"server_error_title",desc:"server_error_sub",button:"try_again_btn"}:{title:"network_error_title",desc:"network_error_sub",button:"try_again_btn"}}componentDidMount(){window.addEventListener("online",this.handleOnlineStatusChange),window.addEventListener("offline",this.handleOnlineStatusChange)}componentWillUnmount(){window.removeEventListener("online",this.handleOnlineStatusChange),window.removeEventListener("offline",this.handleOnlineStatusChange)}handleRetry(){window.location.reload()}componentDidCatch(e,t){const{onCatchError:n,componentName:i}=this.props,a=window.location.pathname,s=(0,c.oN)(a);n&&n();try{this._slardar.captureMessage(`Component render Error: ${e.message}`,"fatal",{page:s,component:null!=i?i:""})}catch(e){console.error("Error occurs when reporting error:",e)}this.setState({hasError:!0})}render(){const{isNetOffline:e,hasError:t}=this.state,{children:n,isMobile:a,customTitle:s,customDesc:r,customButtonText:o,onClickRetry:l,useButton:d=!1,containerStyle:c}=this.props,{t:u}=this.context;if(e||t){const{title:e,desc:t,button:n}=this.text;return a?(0,i.jsx)(g,{children:(0,i.jsx)(_.W,{brightness:0,isFullScreen:!0,iconElem:this.iconElem,title:null!=s?s:u(e),desc:null!=r?r:u(t),buttonText:d?null!=o?o:u(n):void 0,onButtonClick:null!=l?l:this.handleRetry})}):(0,i.jsx)(_.W,{isFullScreen:!0,onButtonClick:null!=l?l:this.handleRetry,iconElem:this.iconElem,title:null!=s?s:u(e),desc:null!=r?r:u(t),buttonText:d?null!=o?o:u(n):void 0,style:c})}return n}}u.contextType=l.Ss},89107:(e,t,n)=>{n.d(t,{C:()=>j});var i=n(58632),a=n(64162),s=n(4126),r=n(93995),o=n(23999),l=n(26324),d=n(95719),c=n(62564),_=n(78288),g=n(31014),u=n(24451),p=n(72916),h=n(8536),m=n(74690),v=n(80339),y=n(93608),S=n(65365),f=n(46705),b=n(55322),w=n(50970),M=n(54888),L=n(43271),C=n(45489),O=n(7672),T=n(55099);let E=class{constructor(e){this.fetch=e}getSugList(e){const t=Object.assign(Object.assign({},e),{aid:1988});return this.fetch.get("/api/search/user/preview/",{query:t,baseUrlType:2})}getGeneralSugList(e){const t=Object.assign(Object.assign({},e),{aid:1988});return this.fetch.get("/api/search/general/preview/",{query:t,baseUrlType:2})}getMobileGeneralSugList(e){const t=Object.assign(Object.assign({},e),{aid:1988});return this.fetch.get("/api/search/general/sug/",{query:t,baseUrlType:2})}};E=(0,i.__decorate)([(0,O._)(),(0,i.__metadata)("design:paramtypes",[T.p])],E);let j=class extends a.E{constructor(e,t,n,i,a,s){super(),this.service=e,this.home=t,this.biz=n,this.videoPlayerJotai=i,this.search=a,this.personalization=s,this.defaultState={sugList:[],mobileSugList:[],loading:!1,activeIndex:-1,searchValue:"",previousSearchValue:"",inputFocus:!1,newSugSessionTimeStamp:void 0,queryId:void 0,videoPageType:""}}setVideoPageType(e,t){e.videoPageType=t}setSearchValue(e,t){e.searchValue=t}setPreviousSearchValue(e,t){e.previousSearchValue=t}setInputFocus(e,t){e.inputFocus=t}handleInputFocusChange(e){return e.pipe((0,d.M)((e=>{e&&S.$G.handleSearchEntry({enter_method:"enter"})})),(0,c.T)(this.getActions().setInputFocus))}setNewSugSessionTimeStamp(e,t){e.newSugSessionTimeStamp=t}setList(e,t){e.sugList=t}setMobileList(e,t){e.mobileSugList=t}setLoading(e,t){e.loading=t}setActiveIndex(e,t){e.activeIndex=t}setActiveUp(e){e.activeIndex=Math.max(0,e.activeIndex-1)}setActiveDown(e){const{sugList:t,activeIndex:n}=e;e.activeIndex=Math.min(t.length,n+1)}setQueryId(e,t){e.queryId=t}getSugList(e){return e.pipe((0,_.w)("keyword"),(0,g.B)(500),(0,u.E)(this.state$,this.home.state$,this.biz.state$,this.videoPlayerJotai.state$,this.search.state$,this.personalization.state$),(0,c.T)((([e,t,{appContext:n},{bizContext:i},{currentVideo:a},{searchGlobalParams:s},{isSearchPersonalized:r}])=>({payload:e,inputFocus:t.inputFocus,isLogin:Boolean(null==n?void 0:n.user),searchVideoForLoggedin:null==i?void 0:i.searchVideoForLoggedin,currentVideo:a,rootEnterFrom:null==s?void 0:s.rootEnterFrom,nonPersonalized:r?void 0:1}))),(0,p.n)((({payload:e,inputFocus:t,isLogin:n,searchVideoForLoggedin:i,currentVideo:a,rootEnterFrom:s,nonPersonalized:r})=>e.keyword?(n||!i?this.service.getGeneralSugList({keyword:e.keyword,app_language:e.app_language,is_non_personalized_search:r}):this.service.getSugList(Object.assign(Object.assign({},e),{is_non_personalized_search:r}))).pipe((0,c.T)((e=>{const{status_code:t,sug_list:n=[],log_pb:i}=e;let a=[];return 0===t&&n.length&&(a=n.map((e=>{var t;return Object.assign(Object.assign({},e),{impr_id:null!==(t=null==i?void 0:i.impr_id)&&void 0!==t?t:""})}))),Object.assign(Object.assign({},e),{sug_list:a})})),(0,d.M)((({sug_list:n,words_query_record:i,log_pb:r})=>{var o,l;if(t){const t="browser_mode"===this.state.videoPageType,d={impr_id:null!==(o=null==r?void 0:r.impr_id)&&void 0!==o?o:"",enter_from:s,raw_query:e.keyword,search_position:t?"video_detail":y.f.commonParams.page_name,video_page_type:this.state.videoPageType,enter_group_id:null!==(l=null==a?void 0:a.id)&&void 0!==l?l:""};S.$G.handleSugGroupImpression(Object.assign({words_source:"sug",words_num:String(n.length)},d)),n.forEach(((e,t)=>{var n;S.$G.handleSugImpression(Object.assign({words_source:"sug",words_position:t,words_content:e.content,sug_type:e.extra_info.sug_user_id?"enrich_sug":"normal_sug",query_id:null!==(n=null==i?void 0:i.query_id)&&void 0!==n?n:"",group_id:e.word_record.group_id},d))}))}})),(0,h.Z)((e=>{var t;return(0,o.of)(this.getActions().setList(e.sug_list),this.getActions().setQueryId(null===(t=null==e?void 0:e.words_query_record)||void 0===t?void 0:t.query_id))})),(0,m.Z)(this.getActions().setLoading(!0),this.getActions().setActiveIndex(-1)),(0,v.q)(this.getActions().setLoading(!1))):(0,o.of)(this.getActions().setList([])))))}getMobileSugList(e){return e.pipe((0,g.B)(500),(0,u.E)(this.state$,this.personalization.state$),(0,p.n)((([{keyword:e,app_language:t},{newSugSessionTimeStamp:n},{isSearchPersonalized:i}])=>e?this.service.getMobileGeneralSugList({keyword:e,app_language:t,is_non_personalized_search:i?void 0:1}).pipe((0,c.T)((e=>{const{status_code:t,sug_list:n=[],log_pb:i}=e;let a=[];return 0===t&&n.length&&(a=n.map((e=>{var t;return Object.assign(Object.assign({},e),{impr_id:null!==(t=null==i?void 0:i.impr_id)&&void 0!==t?t:""})}))),Object.assign(Object.assign({},e),{sug_list:a})})),(0,d.M)((({sug_list:t,words_query_record:i,log_pb:a,extra:s})=>{S.$G.handleSugGroupImpression({words_source:"sug",words_num:String(t.length),raw_query:e,search_position:y.f.commonParams.previous_page}),t.forEach(((t,r)=>{var o,l;S.$G.handleSugImpression({impr_id:null!==(o=null==a?void 0:a.impr_id)&&void 0!==o?o:"",words_source:"sug",words_position:r,words_content:t.content,raw_query:e,sug_type:t.extra_info.sug_user_id?"enrich_sug":"normal_sug",query_id:null!==(l=null==i?void 0:i.query_id)&&void 0!==l?l:"",group_id:t.word_record.group_id,search_position:y.f.commonParams.previous_page,new_sug_session_id:String(null!=n?n:null==s?void 0:s.now)})}))})),(0,h.Z)((e=>{var t;return(0,o.of)(this.getActions().setMobileList(e.sug_list),this.getActions().setNewSugSessionTimeStamp(String(null!=n?n:null===(t=e.extra)||void 0===t?void 0:t.now)))})),(0,b.n)({})):(0,o.of)(this.getActions().setMobileList([]),this.getActions().setNewSugSessionTimeStamp(void 0)))))}};(0,i.__decorate)([(0,s.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,String]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"setVideoPageType",null),(0,i.__decorate)([(0,s.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,String]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"setSearchValue",null),(0,i.__decorate)([(0,s.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,String]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"setPreviousSearchValue",null),(0,i.__decorate)([(0,s.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"setInputFocus",null),(0,i.__decorate)([(0,s.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[l.c]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"handleInputFocusChange",null),(0,i.__decorate)([(0,s.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"setNewSugSessionTimeStamp",null),(0,i.__decorate)([(0,s.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Array]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"setList",null),(0,i.__decorate)([(0,s.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Array]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"setMobileList",null),(0,i.__decorate)([(0,s.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"setLoading",null),(0,i.__decorate)([(0,s.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Number]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"setActiveIndex",null),(0,i.__decorate)([(0,s.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"setActiveUp",null),(0,i.__decorate)([(0,s.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"setActiveDown",null),(0,i.__decorate)([(0,s.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"setQueryId",null),(0,i.__decorate)([(0,s.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[l.c]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"getSugList",null),(0,i.__decorate)([(0,s.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[l.c]),(0,i.__metadata)("design:returntype",void 0)],j.prototype,"getMobileSugList",null),j=(0,i.__decorate)([(0,r.n)("Sug"),(0,i.__metadata)("design:paramtypes",[E,w.L,M.$,f.Q,L.tq,C.fu])],j)},509:(e,t,n)=>{n.d(t,{d:()=>a});var i=n(93608);const a={handleClickAnalyticsButton:()=>{i.f.sendEvent("click_insight",{enter_method:"dropdown_button"})},handleClickAnalyticsVideoCover:e=>{i.f.sendEvent("video_play",{enter_from:"insight_page",widget_name:"video_detail",sub_widget:"null",enter_method:"video_card"}),i.f.sendEvent("click_insight",{enter_method:"invideo_button"}),i.f.sendEvent("enter_insight_detail",{widget_name:"video_detail",sub_widget:null,enter_method:"invideo_button",group_id:e})},handleProfileHoveShow:(e=!1)=>{i.f.sendEvent("livesdk_web_profile_hover_show",{is_ls_show:e?1:0})}}},25754:(e,t,n)=>{n.d(t,{w:()=>s});var i,a=n(93608);!function(e){e.EnterChatList="enter_chat_list",e.LeaveChatList="leave_chat_list",e.LeaveChat="leave_chat",e.DeleteChat="delete_chat",e.AcceptStrangerChat="accept_stranger_chat",e.ReportStrangerChat="report_stranger_chat",e.DeleteStrangerChat="delete_stranger_chat",e.SendMessage="send_message",e.FailSendMessage="fail_send_message",e.LikeMessage="like_message",e.DeleteMessage="delete_message",e.ReportMessage="report_message",e.ChatSettingClick="chat_setting_click",e.ChatMuteClick="chat_mute_click",e.ChatTopClick="chat_top_click",e.EnterStrangerChatList="enter_stranger_chat_list",e.ChangeMessagePermission="change_message_permission",e.ChangeBrandMessageStatus="change_brand_message_status",e.EnterChat="enter_chat",e.ShareHeadShow="share_head_show",e.ShareVideoToChat="share_video_to_chat",e.SearchContact="search_contact",e.ShareVideo="share_video",e.MediaMessageShow="media_message_show",e.MediaMessageShowFail="media_message_show_fail",e.WebAppDmLcp="webapp_dm_lcp"}(i||(i={}));const s={handleEnterChatList:(e,t)=>{a.f.event("enter_chat_list",{num:e,enterMethod:t})},handleSendMessage:e=>{a.f.event("send_message",e)},handleFailSendMessage:e=>{a.f.event("fail_send_message",e)},handleShareHeadShow:e=>{a.f.event("share_head_show",e)},handleShareVideoToChat:e=>{a.f.event("share_video_to_chat",e)},handleSearchContact:()=>{a.f.event("search_contact",{action_type:"share"})},handleLeaveChatList:()=>{a.f.event("leave_chat_list")},handleEnterStrangerChatList:()=>{a.f.event("enter_stranger_chat_list")},handleChatSettingClick:e=>{a.f.event("chat_setting_click",{conversation_id:e,chat_type:"private"})},handleChatMuteClick:({to_status:e,conversation_id:t})=>{a.f.event("chat_mute_click",{to_status:e,conversation_id:t,chat_type:"private"})},handleChatTopClick:({to_status:e,conversation_id:t})=>{a.f.event("chat_top_click",{to_status:e,conversation_id:t,chat_type:"private"})},handleDeleteChat:({is_stranger:e,conversation_id:t})=>{a.f.event("delete_chat",{is_stranger:e?1:0,conversation_id:t,chat_type:"private"})},handleEnterChat:({relation_tag:e,is_stranger:t,conversation_id:n,chat_type:i})=>{a.f.event("enter_chat",{relation_tag:e,is_stranger:t?1:0,conversation_id:n,chat_type:i})},handleAcceptStrangerChat:()=>{a.f.event("accept_stranger_chat")},handleDeleteMessage:e=>{a.f.event("delete_message",Object.assign({},e))},handleReportMessage:e=>{a.f.event("report_message",Object.assign({},e))},handleLikeMessage:({conversation_id:e,to_user_id:t,chat_type:n,emoji_name:i,react_message_type:s})=>{a.f.event("like_message",{conversation_id:e,to_user_id:t,chat_type:n,emoji_name:i,react_message_type:s})},handleChangeMessagePermission:e=>{a.f.event("change_message_permission",{to_status:e})},handleChangeBrandMessageStatus:e=>{a.f.event("change_brand_message_status",{to_status:e})},handleLeaveChat:({relation_tag:e,is_stranger:t,conversation_id:n})=>{a.f.event("leave_chat",{relation_tag:e,is_stranger:t?1:0,conversation_id:n})},handleMediaMessageShow:e=>{a.f.event("media_message_show",e)},handleMediaMessageShowFail:e=>{a.f.event("media_message_show_fail",e)},handleReportMessagePageLcp:e=>{a.f.event("webapp_dm_lcp",{lcp:Math.floor(e.lcp),is_business_account:e.is_business_account?1:0})}}}}]);