"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8788],{16162:(t,e,a)=>{a.d(e,{$D:()=>g,FW:()=>u,G0:()=>x,IR:()=>m,Ko:()=>v,O$:()=>h,SO:()=>r,_q:()=>_,a$:()=>c,pc:()=>f,q:()=>y,s5:()=>p,sk:()=>l});var i=a(62186),s=a(53397),n=a(72153),d=a(11328),o=(a(97397),a(70281));const r=(0,i.default)("div",{target:"e6y15910"})({display:"flex",padding:"36px 24px",flexDirection:"column",flex:"1 1 auto",minHeight:`calc(100vh - ${(0,o.$)()-1}px)`},"label:DivShareLayoutBase;"),l=(0,i.default)(r,{target:"e6y15911"})({maxWidth:"1194px",minHeight:`calc(100vh - ${(0,o.$)()-1}px)`,alignItems:"flex-end"},(0,n.jJ)({max:1071,style:{alignItems:"center"}}),"label:StyledDivShareLayout;"),p=()=>({"@media screen and (max-width: 703px)":{maxWidth:"520px",minWidth:"520px"},"@media screen and (min-width: 704px) and (max-width: 903px)":{maxWidth:"656px"},"@media screen and (min-width: 904px) and (max-width: 1271px)":{maxWidth:"880px"},"@media screen and (min-width: 1272px) and (max-width: 1471px)":{maxWidth:"1104px"},"@media screen and (min-width: 1472px) and (max-width: 1671px)":{maxWidth:"1328px"},"@media screen and (min-width: 1672px) and (max-width: 1871px)":{maxWidth:"1552px"},"@media screen and (min-width: 1872px)":{maxWidth:"1776px"}}),c=(0,i.default)("div",{target:"e6y15912"})((({showShareIcon:t})=>({flex:"1 1 auto",display:"flex",flexDirection:"column",width:(t?634:594)+"px"})),"label:DivShareLayoutContent;"),m=(0,i.default)("div",{target:"e6y15914"})({display:"flex",flex:"1 1 auto",flexDirection:"column",justifyContent:"flex-start",minHeight:"490px",alignItems:"flex-start",minWidth:"520px",position:"relative"},"label:DivShareLayoutMain;"),_=(0,i.default)("div",{target:"e6y15915"})((({theme:{direction:t},showShareIcon:e})=>[{position:"relative",flex:"0 0 auto",marginBottom:"20px",boxSizing:"border-box"},(0,n.mp)({direction:t,paddingEnd:e?"92px":"52px"})]),"label:DivShareLayoutHeader;"),y=(0,i.default)("div",{target:"e6y15916"})((({theme:{direction:t}})=>[{position:"absolute",top:"11px",cursor:"pointer",display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"18px"},(0,n.mp)({direction:t,end:"1px"})]),"label:DivButtonsContainer;"),u=(0,i.default)("div",{target:"e6y15917"})((({theme:{direction:t}})=>[{position:"relative",cursor:"pointer"},(0,n.mp)({direction:t})]),"label:DivPrimaryButtonContainer;"),g=(0,i.default)("div",{target:"e6y15918"})((({theme:{direction:t}})=>[{position:"relative",cursor:"pointer"},(0,n.mp)({direction:t})]),"label:DivSecondaryButtonContainer;"),h=(0,i.default)("div",{target:"e6y15919"})((({theme:{direction:t}})=>[{position:"relative",cursor:"pointer"},(0,n.mp)({direction:t})]),"label:DivShareActions;"),x=(0,i.default)("div",{target:"e6y159110"})((({theme:{direction:t}})=>[{position:"relative",cursor:"pointer"},(0,n.mp)({direction:t})]),"label:DivMoreActions;"),f=(0,i.default)(d.EA.Paragraph,{target:"e6y159114"})([{width:"100%",height:"38px"}],"label:StyledSkeletonParagraph;"),v=(0,i.default)(s.A,{target:"e6y159119"})((({theme:{colors:t}})=>({"& > path":{stroke:t.TextPrimary}})),"label:StyledShareIcon;")},48455:(t,e,a)=>{a.d(e,{m:()=>L});var i=a(58632),s=a(64162),n=a(4126),d=a(93995),o=a(340),r=a(8536),l=a(23999),p=a(72916),c=a(20259),m=a(74690),_=a(80339),y=a(24451),u=a(26324),g=a(64356),h=a(39952),x=a(11983),f=a(7672),v=a(4474),b=a(26325),P=a(55099);let D=class{constructor(t){this.fetch=t}checkPlaylistName(t){return this.fetch.get("/api/playlist/name_check",{query:{name:t},baseUrlType:2,headers:{[b.nk]:this.fetch.csrfToken}})}updatePlaylistName(t){return this.fetch.post("/api/playlist/update/",{baseUrlType:2,headers:{[b.nk]:this.fetch.csrfToken},body:v.stringify(t)})}};D=(0,i.__decorate)([(0,f._)(),(0,i.__metadata)("design:paramtypes",[P.p])],D);let L=class extends s.E{constructor(t,e){super(),this.service=t,this.t=e,this.defaultState={playlistName:"",loading:!1,updatePlaylistNameLoading:!1,statusCode:0,isValid:!0,hasChecked:!1}}setLoading(t,e){t.loading=e}setUpdatePlaylistNameLoading(t,e){t.updatePlaylistNameLoading=e}setStatusCode(t,e){t.statusCode=e}setIsValid(t,e){t.isValid=e}setHasChecked(t,e){t.hasChecked=e}setPlaylistName(t,e){t.playlistName=e}resetData(t){return t.pipe((0,r.Z)((()=>(0,l.of)(this.getActions().dispose$(),this.getActions().setLoading(!1),this.getActions().setPlaylistName(""),this.getActions().setUpdatePlaylistNameLoading(!1),this.getActions().setIsValid(!0),this.getActions().setStatusCode(0),this.getActions().setHasChecked(!1)))))}checkPlaylistName(t){return t.pipe((0,p.n)((t=>this.service.checkPlaylistName(t).pipe((0,c.W)((()=>(0,l.of)({statusCode:-1,isValid:!1}))),(0,r.Z)((({statusCode:t,isValid:e=!1})=>(0,l.of)(this.getActions().setIsValid(e),this.getActions().setStatusCode(t)))),(0,m.Z)(this.getActions().setHasChecked(!1),this.getActions().setLoading(!0)),(0,_.q)(this.getActions().setHasChecked(!0),this.getActions().setLoading(!1))))))}updatePlaylistName(t){return t.pipe((0,y.E)(this.state$),(0,p.n)((([t,{playlistName:e}])=>this.service.updatePlaylistName(Object.assign(Object.assign({},t),{name:e})).pipe((0,c.W)((()=>(0,l.of)({statusCode:-1}))),(0,r.Z)((({statusCode:a})=>{const{playlistId:i,successCallback:s}=t;return h.c.handleCompleteEditingPlaylist({playlist_id:i,enter_method:"rename_playlist",status:0===a?"1":"0"}),0!==a&&x.F.open({content:this.t("playlist_webapp_toast_error_tryagain"),duration:3,widthType:"half"}),null==s||s(i,e),(0,l.of)(this.noop())})),(0,m.Z)(this.getActions().setUpdatePlaylistNameLoading(!0)),(0,_.q)(this.getActions().setUpdatePlaylistNameLoading(!1))))))}};(0,i.__decorate)([(0,n.uk)(),(0,i.__metadata)("design:type",u.c)],L.prototype,"dispose$",void 0),(0,i.__decorate)([(0,n.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"setLoading",null),(0,i.__decorate)([(0,n.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"setUpdatePlaylistNameLoading",null),(0,i.__decorate)([(0,n.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Number]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"setStatusCode",null),(0,i.__decorate)([(0,n.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"setIsValid",null),(0,i.__decorate)([(0,n.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"setHasChecked",null),(0,i.__decorate)([(0,n.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,String]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"setPlaylistName",null),(0,i.__decorate)([(0,n.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[u.c]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"resetData",null),(0,i.__decorate)([(0,n.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[u.c]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"checkPlaylistName",null),(0,i.__decorate)([(0,n.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[u.c]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"updatePlaylistName",null),L=(0,i.__decorate)([(0,d.n)("PlaylistNameModule"),(0,i.__param)(1,(0,o.y)(g.hp)),(0,i.__metadata)("design:paramtypes",[D,Function])],L)},37367:(t,e,a)=>{a.d(e,{N:()=>L});var i=a(58632),s=a(64162),n=a(4126),d=a(93995),o=a(23999),r=a(55582),l=a(63700),p=a(26324),c=a(8536),m=a(35572),_=a(20259),y=a(74690),u=a(80339),g=a(76435),h=a(60484),x=a(49799),f=a(79983),v=a(97446),b=a(7672),P=a(55099);let D=class{constructor(t){this.fetch=t}getPlaylistDetail(t){return this.fetch.get("/api/mix/detail/",{query:t,baseUrlType:2})}};D=(0,i.__decorate)([(0,b._)(),(0,i.__metadata)("design:paramtypes",[P.p])],D);let L=class extends s.E{constructor(t,e,a){super(),this.service=t,this.seoModule=e,this.itemList=a,this.defaultState={statusCode:0,mixInfo:void 0,loading:!0}}setPlaylistInfo(t,e){const{statusCode:a=0,mixInfo:i}=(0,h.L$)(e);t.statusCode=a,t.mixInfo=i}resetData(t){t.loading=!0,t.statusCode=0,t.mixInfo=void 0}setLoading(t,e){t.loading=e}setPlaylistDetail(t,e){(0,v._J)().setPlaylistDetail(e)}resetPlaylistData(t){return t.pipe((0,c.Z)((()=>(0,o.of)(this.getActions().dispose$(),this.getActions().resetData(),this.itemList.getActions().dispose$(),this.itemList.getActions().resetItemList({key:"video_playlist"})))))}getVideoPlaylistPageData(t){return t.pipe((0,m.p)((({mixId:t,language:e,abTestVersion:a,user:i,appType:s})=>this.service.getPlaylistDetail({mixId:t,language:e,scene:147}).pipe((0,_.W)((()=>(0,o.of)({statusCode:-1}))),(0,c.Z)((n=>{const{statusCode:d,mixInfo:p={}}=n,c=[(0,o.of)(this.getActions().setPlaylistInfo(n),this.getActions().setLoading(!1),this.getActions().setPlaylistDetail(p))],m=new r.h;if(0===d){const s=this.itemList.getPlaylistVideoList$({mixId:t,key:"video_playlist",abTestVersion:a,user:i,language:e},{onVideoList(t){m.next(t),m.complete()}});c.push(s)}else m.next([]),m.complete();return(0,l.h)(...c,this.setSEO(n,m,e,s))})),(0,y.Z)(this.getActions().setLoading(!0)),(0,u.q)(this.getActions().setLoading(!1),this.terminate()),(0,g.Q)(this.dispose$),(0,_.W)((t=>(console.error(t),(0,o.of)(this.noop()))))))))}setSEO(t,e,a,i){return e.pipe((0,c.Z)((e=>this.seoModule.setVideoPlaylistSEOProps({mixInfo:t.mixInfo,statusCode:t.statusCode},e,{language:null!=a?a:"en"},i))))}};(0,i.__decorate)([(0,n.uk)(),(0,i.__metadata)("design:type",p.c)],L.prototype,"dispose$",void 0),(0,i.__decorate)([(0,n.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"setPlaylistInfo",null),(0,i.__decorate)([(0,n.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"resetData",null),(0,i.__decorate)([(0,n.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"setLoading",null),(0,i.__decorate)([(0,n.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"setPlaylistDetail",null),(0,i.__decorate)([(0,n.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[p.c]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"resetPlaylistData",null),(0,i.__decorate)([(0,n.Mj)({payloadGetter:1}),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[p.c]),(0,i.__metadata)("design:returntype",void 0)],L.prototype,"getVideoPlaylistPageData",null),L=(0,i.__decorate)([(0,d.n)("VideoPlaylistPageModule"),(0,i.__metadata)("design:paramtypes",[D,x.E,f.O])],L)},39771:(t,e,a)=>{a.d(e,{I:()=>s});var i=a(4474);function s(t,e){var a;const s={sender_device:e.sender_device,is_from_webapp:null!==(a=e.is_from_webapp)&&void 0!==a?a:1};return t?(0,i.stringifyUrl)({url:t,query:s}):(0,i.stringifyUrl)({url:location.origin+location.pathname,query:Object.assign(Object.assign({},(0,i.parse)(location.search.slice(1))),s)})}}}]);