(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7899],{14270:(e,t,s)=>{"use strict";var r,i;s.d(t,{Dt:()=>n,g9:()=>d,iU:()=>p,jq:()=>o,k0:()=>c,qo:()=>a,wW:()=>h}),function(e){e[e.TRILL=1180]="TRILL",e[e.MUSICALLY=1233]="MUSICALLY"}(r||(r={})),function(e){e.TWITTER="twitter",e.GOOGLE="google",e.FACEBOOK="facebook",e.INSTAGRAM="instagram",e.VK="vk",e.KAKAOTALK="kakaotalk",e.LINE="line",e.APPLE="apple",e.TIKTOK="tiktok"}(i||(i={}));const a="7a1c81ed488cc755a03f05f091162f38",o="1862952583919182",n="1569196861",d="6961453";var l;!function(e){e.POPUP="popup",e.PAGE="page",e.NONE="none"}(l||(l={}));const c={1233:692,1180:747},p={google:395,twitter:396,facebook:397,instagram:398,line:529,vk:528,kakaotalk:2246},h="socialOauth";var g;!function(e){e[e.Login=0]="Login",e[e.Signup=1]="Signup",e[e.Verify=2]="Verify"}(g||(g={}))},52913:(e,t,s)=>{"use strict";s.d(t,{r:()=>E,D:()=>$});var r=s(58632),i=s(23453),a=s(7672),o=s(9796),n=s(32970),d=s(31578),l=s(57431),c=s(64431),p=s(34099),h=s(87181),g=s(31974),u=s(69239),m=s(86608),b=s(23999),_=s(94777),k=s(68628),v=s(8536),f=s(46657),R=s(53708),w=s(31291),C=s(45525),y=s(62564),P=s(95719),O=s(20259),L=s(72916),M=s(77073),H=s(35572);const j={ar:"ar","bn-IN":"bn","ceb-PH":"ceb","cs-CZ":"cs-CZ","de-DE":"de","el-GR":"el-GR",en:"en",es:"es","fil-PH":"fil",fr:"fr","gu-IN":"gu-IN","hi-IN":"hi","hu-HU":"hu-HU","id-ID":"id","it-IT":"it","ja-JP":"ja","jv-ID":"jv","kn-IN":"kn","ko-KR":"ko","ml-IN":"ml-IN","mr-IN":"mr","ms-MY":"ms","my-MM":"my","nl-NL":"nl-NL","or-IN":"or","pa-IN":"pa-IN","pl-PL":"pl","pt-BR":"pt-BR","ro-RO":"ro-RO","ru-RU":"ru","sv-SE":"sv-SE","ta-IN":"ta","te-IN":"te","th-TH":"th","tr-TR":"tr","uk-UA":"uk","vi-VN":"vi","zh-Hans":"zh-Hant","zh-Hant-TW":"zh-Hant",az:"az",ca:"ca",da:"da-DK",et:"et","en-GB":"en-GB","es-419":"es-419","fr-CA":"fr",ga:"ga",hr:"hr",is:"is",sw:"sw",lv:"lv",lt:"lt",nb:"nb",uz:"uz",pt:"pt",sq:"sq",sk:"sk",sl:"sl",bg:"bg",kk:"kk","fi-FI":"fi-FI","he-IL":"he-IL",ur:"ur","km-KH":"km"},x={ar:{label:"العربية",passportLang:"ar"},"bn-IN":{label:"বাঙ্গালি (ভারত)",passportLang:"bn"},"ceb-PH":{label:"Cebuano (Pilipinas)",passportLang:"ceb"},"cs-CZ":{label:"Čeština (Česká republika)",passportLang:"cs"},"de-DE":{label:"Deutsch (Deutschland)",passportLang:"de"},"el-GR":{label:"Ελληνικά (Ελλάδα)",passportLang:"el"},en:{label:"English",passportLang:"en"},es:{label:"Español",passportLang:"es"},"fi-FI":{label:"Suomi (Suomi)",passportLang:"fi"},"fil-PH":{label:"Filipino (Pilipinas)",passportLang:"fil"},fr:{label:"Français",passportLang:"fr"},"he-IL":{label:"עברית (ישראל)",passportLang:"he"},"hi-IN":{label:"हिंदी",passportLang:"hi"},"hu-HU":{label:"Magyar (Magyarország)",passportLang:"hu"},"id-ID":{label:"Bahasa Indonesia (Indonesia)",passportLang:"id"},"it-IT":{label:"Italiano (Italia)",passportLang:"it"},"ja-JP":{label:"日本語（日本）",passportLang:"ja"},"jv-ID":{label:"Basa Jawa (Indonesia)",passportLang:"jv"},"km-KH":{label:"ខ្មែរ (កម្ពុជា)",passportLang:"km"},"ko-KR":{label:"한국어 (대한민국)",passportLang:"ko"},"ms-MY":{label:"Bahasa Melayu (Malaysia)",passportLang:"ms"},"my-MM":{label:"မြန်မာ (မြန်မာ)",passportLang:"my"},"nl-NL":{label:"Nederlands (Nederland)",passportLang:"nl"},"pl-PL":{label:"Polski (Polska)",passportLang:"pl"},"pt-BR":{label:"Português (Brasil)",passportLang:"pt"},"ro-RO":{label:"Română (Romania)",passportLang:"ro"},"ru-RU":{label:"Русский",passportLang:"ru"},"sv-SE":{label:"Svenska (Sverige)",passportLang:"sv"},"th-TH":{label:"ไทย (ไทย)",passportLang:"th"},"tr-TR":{label:"Türkçe (Türkiye)",passportLang:"tr"},"uk-UA":{label:"Українська (Україна)",passportLang:"uk"},ur:{label:"اردو",passportLang:"ur"},"vi-VN":{label:"Tiếng Việt (Việt Nam)",passportLang:"vi"},"zh-Hans":{label:"简体中文",passportLang:"zh-Hant"},"zh-Hant-TW":{label:"繁體中文",passportLang:"zh-Hant"},az:{label:"Azərbaycan",passportLang:"az"},ca:{label:"Català",passportLang:"ca"},da:{label:"Dansk",passportLang:"da"},et:{label:"Eesti",passportLang:"et"},"en-GB":{label:"English (UK)",passportLang:"en"},"es-419":{label:"Español (Latinoamérica)",passportLang:"es"},"fr-CA":{label:"Français (Canada)",passportLang:"fr"},ga:{label:"Gaeilge",passportLang:"ga"},hr:{label:"Hrvatski",passportLang:"hr"},is:{label:"Íslenska",passportLang:"is"},sw:{label:"Kiswahili",passportLang:"sw"},lv:{label:"Latviešu",passportLang:"lv"},lt:{label:"Lietuvių",passportLang:"lt"},nb:{label:"norsk (bokmål)",passportLang:"nb"},uz:{label:"Oʻzbek",passportLang:"uz"},pt:{label:"Português",passportLang:"pt"},sq:{label:"Shqip",passportLang:"sq"},sk:{label:"Slovenčina",passportLang:"sk"},sl:{label:"Slovenščina",passportLang:"sl"},bg:{label:"Български",passportLang:"bg"},kk:{label:"Қазақша",passportLang:"kk"}};var S=s(14270),A=s(83062),q=s(94337),I=s(54378);const T="bda89680-037b-49f7-91a9-70c8226b8143",$=new u.B;let E=class{constructor(e,t,s){this.userRegion=e,this.slardar=t,this.loginReport=s,this.overrideRegionCode=null,this.requestInfo={},this.extraParams={aid:1459,is_sso:!1,account_sdk_source:"web",region:"",language:"en",did:""}}setContext(e,t={}){var s,r;this.phoenix=t.phoenix,this.targetAid=t.targetAid,this.standaloneAid=t.standaloneAid,this.extraParams.region=e.region,this.extraParams.language=(null===(s=x[e.language])||void 0===s?void 0:s.passportLang)||"en",this.extraParams.did=e.wid,S.iU.apple=S.k0[null!==(r=e.appId)&&void 0!==r?r:1180]}setOverrideRegionCode(e){this.overrideRegionCode=e}initAccountSdkInstance(){return(0,m.T)((()=>o.Qf.loaded),(0,b.of)(_.l),(0,k.H)(o.Qf.load())).pipe((0,v.Z)((()=>{if(this.sdkInstance)return(0,b.of)(this.sdkInstance);const e=(0,l.x)(),{language:t,appId:r,wid:i=""}=e;let a={multi_login:1,did:i};this.overrideRegionCode&&(a=Object.assign(Object.assign({},a),{reg_store_region:this.overrideRegionCode,user_selected_region:!0}));const{vgeo:o}=(0,c.c)(),g=(0,p.V)(),u="VGeo-US"===o,m="VGeo-EU"===o,_=this.phoenix?"https://www.tiktok.in":"https://www.tiktok.com",v=(0,h.Bl)("acrawler");return(0,k.H)(Promise.resolve().then(s.bind(s,23453)).then((({WebInterfaceSdk:e})=>e))).pipe((0,y.T)((s=>{var o;return new s({aid:1459,host:_,isOversea:!0,did:i,region:m?"gcp":u?"ttp":1180===r?"sg":"va",printLog:!1,pageLang:t,language:null!==(o=j[t])&&void 0!==o?o:"en",mode:(0,A.W)(u),starlingZoneHost:(null==g?void 0:g.starling)||"",captchaHost:_,captchaOptions:{fpCookieOption:{domain:this.phoenix?"www.tiktok.in":".tiktok.com",sameSite:"None",secure:!0}},generalParams:a,xhrConfig:{getDynamicConfig:t=>{var s;const r=this.userRegion.getRegionDomain(),i=this.userRegion.getTtWid();this.requestInfo=Object.assign(Object.assign({},t),{baseURL:r});const a=navigator.userAgent,o={baseURL:r,params:{target_aid:this.targetAid,standalone_aid:this.standaloneAid,shark_extra:JSON.stringify(Object.assign(Object.assign({},(0,n.w)(null!==(s=Object.assign(Object.assign({},e),{isMobile:(0,d.Ny)(a),os:(0,d.R0)(a)}))&&void 0!==s?s:{},!0,!0)),{app_name:"Tik_Tok_Login",aid:1459}))},headers:{}};return i&&(o.headers={"x-tt-passport-ttwid-ticket":i}),o},cacheRedirectDomain:e=>{this.userRegion.currentRegion={domain:`https://${e}`}}},acrawler:"true",acrawlerUrl:v,sdi:!0,hooks:{show:(e={})=>{console.log(">>> tiktok login hooks: show",e),$.next(!0);const{method:t}=e;this.loginReport.checkPointShow({verification_method:t})},typing:(e={})=>{console.log(">>> tiktok login hooks: typing",e);const{method:t}=e;this.loginReport.checkPointTyping({verification_method:t})},response:(e={})=>{console.log(">>> tiktok login hooks: response",e),$.next(!1);const{method:t,status:s,error_code:r}=e;this.loginReport.checkPointResponse({verification_method:t,status:s,error_code:r})}}})})),(0,P.M)((e=>{this.sdkInstance=e})),(0,O.W)((e=>(console.error(e),(0,f.I)()))),(0,R.L)(1))})))}getAccountSdk$(e){var t,s,r;const{platform_app_id:i,email:a,mobile:o,account:n,username:d,ttWid:l,skipRegionCheck:c}=null!=e?e:{};return!c&&e&&(null!==(r=null!==(s=null!==(t=null!=i?i:a)&&void 0!==t?t:o)&&void 0!==s?s:n)&&void 0!==r?r:d)?this.userRegion.getUserRegions(e).pipe((0,L.n)((e=>{if(-1===e.error_code)throw new Error(`get user region error, error_code ${e.error_code}`);return this.initAccountSdkInstance().pipe((0,w.s)(1))}))):(e&&this.slardar.handleUserRegionEscape({ttWid:l}),l&&this.userRegion.setTtWid(l),this.initAccountSdkInstance().pipe((0,w.s)(1)))}sendPhoneCode(e){const{mobile:t}=e;return this.getAccountSdk$({mobile:t,triggerPath:"/passport/web/send_code/"}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("sendPhoneCode"))),(0,v.Z)((s=>(0,k.H)(s.login.sendCode({mobile:t,extra_params:Object.assign(Object.assign(Object.assign({},this.extraParams),e),{is6Digits:1})}))))).pipe(this.errorHandler.bind(this))}notLoginSendCode(e){return this.getAccountSdk$({mobile:e.mobile,triggerPath:"/passport/web/send_code/"}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("notLoginSendCode"))),(0,v.Z)((t=>(0,k.H)(t.verify.notLoginSendCode({mobile:e.mobile,extra_params:Object.assign(Object.assign({},this.extraParams),{is6Digits:1,web_verify_need_region:1,web_verify_expire_in:1200})}))))).pipe(this.errorHandler.bind(this))}sendPhoneCodeWithType(e){const{type:t,not_login_ticket:s,verify_ticket:r,method:i,mobile:a}=e;return this.getAccountSdk$({mobile:a,triggerPath:"/passport/web/send_code/"}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("sendPhoneCodeWithType"))),(0,v.Z)((e=>e.extra.sendCode({type:t,method:i,mobile:a,extra_params:Object.assign(Object.assign({not_login_ticket:s,verify_ticket:r},this.extraParams),{is6Digits:1})})))).pipe(this.errorHandler.bind(this))}sendPhoneCodeForResetPwd(e){const{mobile:t,verify_ticket:s,not_login_ticket:r,type:i}=e;return this.getAccountSdk$({mobile:t,triggerPath:"/passport/web//password/reset_by_ticket/"}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("sendPhoneCodeForResetPwd"))),(0,v.Z)((e=>(0,k.H)(e.forgetPwd.sendCode({mobile:t,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:s,not_login_ticket:r,type:i,is6Digits:1})}))))).pipe(this.errorHandler.bind(this))}getOneTapToken(e){return this.makeRequest({method:"GET",slardarMethodName:"getOneTapToken",url:"/passport/web/sotl/app2web/get_auth_token/",params:Object.assign(Object.assign({},e),{client_id:T,aid:"1459"})},{redirect_url:""})}checkOneTapState({token:e,baseURL:t}){return this.makeRequest({method:"POST",slardarMethodName:"checkOneTapState",url:`${t}/passport/web/sotl/app2web/check_auth_token/`,params:{token:e,client_id:T,aid:"1459"}},{},!1)}sendPhoneCodeForForceResetPwd(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("sendPhoneCodeForForceResetPwd"))),(0,v.Z)((t=>(0,k.H)(t.extra.sendCode({type:13,code:e.code,extra_params:Object.assign(Object.assign({},this.extraParams),{conditional_login_ticket:e.conditional_login_ticket,is6Digits:1})}))))).pipe(this.errorHandler.bind(this))}validatePhoneCodeForReset(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("validatePhoneCodeForReset"))),(0,v.Z)((t=>(0,k.H)(t.forgetPwd.validateCode(Object.assign(Object.assign({},e),{extra_params:Object.assign({},this.extraParams)})))))).pipe(this.errorHandler.bind(this))}validatePhoneCodeForForceReset(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("validatePhoneCodeForForceReset"))),(0,v.Z)((t=>(0,k.H)(t.extra.validateMobile({type:13,code:e.code,extra_params:Object.assign(Object.assign({},this.extraParams),{conditional_login_ticket:e.conditional_login_ticket})}))))).pipe(this.errorHandler.bind(this))}sendEmailCodeForSignup(e){const{email:t="",password:s=""}=e;return this.getAccountSdk$({email:t,triggerPath:"/passport/web/email/send_code/"}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("sendEmailCodeForSignup"))),(0,v.Z)((e=>(0,k.H)(e.login.sendEmailCode({email:t,password:s,extra_params:Object.assign(Object.assign({},this.extraParams),{email_logic_type:2})}))))).pipe(this.errorHandler.bind(this))}sendEmailCodeForLogin(e){const{email:t="",extra_params:s={}}=e;return this.getAccountSdk$({email:t,triggerPath:"/passport/web/email/send_code/"}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("sendEmailCodeForLogin"))),(0,v.Z)((e=>(0,k.H)(e.login.sendEmailLoginCode({email:t,extra_params:Object.assign(Object.assign({},this.extraParams),s)}))))).pipe(this.errorHandler.bind(this))}verifySendEmailCode(e){const{verify_ticket:t}=e;return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("verifySendEmailCode"))),(0,v.Z)((e=>(0,k.H)(e.verify.sendEmailCode({extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:t,web_verify_need_region:1,web_verify_expire_in:1200})}))))).pipe(this.errorHandler.bind(this))}sendEmailCodeForResetPwd(e){const{email:t="",not_login_ticket:s,email_logic_type:r}=e;return this.getAccountSdk$({email:t,triggerPath:"/passport/web/email/send_code/"}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("sendEmailCodeForResetPwd"))),(0,v.Z)((e=>(0,k.H)(e.forgetPwd.sendEmailCode({email:t,extra_params:Object.assign(Object.assign({},this.extraParams),{not_login_ticket:s,email_logic_type:r})}))))).pipe(this.errorHandler.bind(this))}sendEmailCodeForForceResetPwd(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("sendEmailCodeForForceResetPwd"))),(0,v.Z)((t=>(0,k.H)(t.extra.sendEmailCode({type:11,code:e.code,extra_params:Object.assign(Object.assign({},this.extraParams),{conditional_login_ticket:e.conditional_login_ticket})}))))).pipe(this.errorHandler.bind(this))}validateEmailCodeForReset(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("validateEmailCodeForReset"))),(0,v.Z)((t=>(0,k.H)(t.forgetPwd.validateEmail(Object.assign(Object.assign({},e),{extra_params:Object.assign({},this.extraParams)})))))).pipe(this.errorHandler.bind(this))}validateEmailCodeForForceReset(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("validateEmailCodeForForceReset"))),(0,v.Z)((t=>(0,k.H)(t.verify.validateEmail({code:e.code,extra_params:Object.assign(Object.assign({},this.extraParams),{type:11,conditional_login_ticket:e.conditional_login_ticket,web_verify_need_region:1,web_verify_expire_in:1200})}))))).pipe(this.errorHandler.bind(this))}emailCodeLogin(e){const{not_login_ticket:t,verify_ticket:s,code:r,password:i}=e;return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("emailCodeLogin"))),(0,v.Z)((e=>(0,k.H)(e.login.emailCodeLogin({code:r,email:"",extra_params:Object.assign(Object.assign({},this.extraParams),{not_login_ticket:t,verify_ticket:s,password:i,type:13})}))))).pipe(this.errorHandler.bind(this))}smsLogin(e){const{mobile:t="",code:s,login_only:r,birthday:i}=e;return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("smsLogin"))),(0,v.Z)((e=>(0,k.H)(e.login.smsLogin({mobile:t,code:s,login_only:r,extra_params:Object.assign({birthday:i},this.extraParams)}))))).pipe(this.errorHandler.bind(this))}smsVerify(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("smsVerify"))),(0,v.Z)((t=>(0,k.H)(t.verify.notLoginValidateMobile(e))))).pipe(this.errorHandler.bind(this))}smsLoginContinue(e){const{extra_params:t}=e,s=(0,r.__rest)(e,["extra_params"]);return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("smsLoginContinue"))),(0,v.Z)((e=>(0,k.H)(e.login.smsLoginContinue(Object.assign(Object.assign({},s),{extra_params:Object.assign(Object.assign({},this.extraParams),t)})))))).pipe(this.errorHandler.bind(this))}passwordLogin(e){const{password:t,username:s="",extra_params:r,mobile:i,email:a,account:o}=e;return this.getAccountSdk$({username:s,mobile:i,email:a,account:o,triggerPath:"/passport/web/user/login/"}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("passwordLogin"))),(0,v.Z)((e=>(0,k.H)(e.login.pwdLogin({username:s.toLowerCase(),password:t,mobile:i,email:a,account:o,extra_params:Object.assign(Object.assign({},this.extraParams),r)}))))).pipe(this.errorHandler.bind(this))}verifyPwdWithoutLogin(e){const{password:t,username:s="",extra_params:r,mobile:i,email:a,account:o}=e;return this.getAccountSdk$({mobile:i,email:a,account:o,triggerPath:"/passport/web/account/verify_pwd_without_login/"}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("verifyPwdWithoutLogin"))),(0,v.Z)((e=>(0,k.H)(e.verify.verifyPwdWithoutLogin({username:s.toLowerCase(),password:t,mobile:i,email:a,extra_params:Object.assign(Object.assign(Object.assign({account:o},this.extraParams),r),{web_verify_need_region:1,web_verify_expire_in:1200})}))))).pipe(this.errorHandler.bind(this))}resetPwdLoginByEmail(e){const{email:t,password:s,code:r="",extra_params:i}=e;return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("resetPwdLoginByEmail"))),(0,v.Z)((e=>(0,k.H)(e.password.resetPwdLoginByEmail({password:s,code:r,email:t,extra_params:Object.assign(Object.assign(Object.assign({},i),this.extraParams),{rules_version:"v2"})}))))).pipe(this.errorHandler.bind(this))}changePwdByMobile(e){const{mobile:t,password:s,code:r}=e;return this.getAccountSdk$({mobile:t,triggerPath:"/passport/web//password/reset_by_ticket/"}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("changePwdByMobile"))),(0,v.Z)((e=>(0,k.H)(e.forgetPwd.resetPwdByMobile({password:s,code:r,mobile:t,extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})}))))).pipe(this.errorHandler.bind(this))}validateMobileCodeForLogin(e){const{code:t,verify_ticket:s,not_login_ticket:r}=e;return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("validateMobileCodeForLogin"))),(0,v.Z)((e=>(0,k.H)(e.password.validateMobile({code:t,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:s,not_login_ticket:r,type:22})}))))).pipe(this.errorHandler.bind(this))}validateEmailCodeForLogin(e){const{code:t,verify_ticket:s,not_login_ticket:r}=e;return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("validateEmailCodeForLogin"))),(0,v.Z)((e=>(0,k.H)(e.verify.notLoginValidateEmail({email:"",code:t,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:s,not_login_ticket:r,type:6,web_verify_need_region:1,web_verify_expire_in:1200})}))))).pipe(this.errorHandler.bind(this))}validateMobileCodeForReset(e){const{code:t,verify_ticket:s,not_login_ticket:r,password:i}=e;return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("validateMobileCodeForReset"))),(0,v.Z)((e=>(0,k.H)(e.forgetPwd.resetPwdByMobile({code:t,mobile:"",password:i,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:s,not_login_ticket:r})}))))).pipe(this.errorHandler.bind(this))}getOauthConfig(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("getOauthConfig"))),(0,v.Z)((t=>(0,k.H)(t.account.authConfig(e))))).pipe(this.errorHandler.bind(this))}thirdLogin(e){return this.getAccountSdk$(e.login_only&&!e.profile_key?{openId:e.openid,platform_app_id:e.platform_app_id,triggerPath:"/passport/web/auth/login_only/"}:void 0).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("thirdLogin"))),(0,v.Z)((t=>(0,k.H)(t.login.authLogin(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{birthday:e.birthday,platform:e.platform,id_token:e.id_token,redirect_uri:e.redirect_uri})})))))).pipe(this.errorHandler.bind(this))}thirdVerify(e){return this.getAccountSdk$({openId:e.openid,platform_app_id:e.platform_app_id,triggerPath:"/passport/web/auth/verify/"}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("thirdVerify"))),(0,v.Z)((t=>(0,k.H)(t.verify.authVerify(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{platform:e.platform,id_token:e.id_token,redirect_uri:e.redirect_uri,web_verify_need_region:1,web_verify_expire_in:1200})})))))).pipe(this.errorHandler.bind(this))}resetPwdByEmailTicket(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("resetPwdByEmailTicket"))),(0,v.Z)((t=>(0,k.H)(t.forgetPwd.resetPwdByEmailTicket(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})})))))).pipe(this.errorHandler.bind(this))}resetPwdByMobileTicket(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("resetPwdByMobileTicket"))),(0,v.Z)((t=>(0,k.H)(t.forgetPwd.resetPwdByMobileTicket(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})})))))).pipe(this.errorHandler.bind(this))}forceResetPwdByMobileTicket(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("forceResetPwdByMobileTicket"))),(0,v.Z)((t=>(0,k.H)(t.forgetPwd.forceResetPwdByMobileTicket(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})})))))).pipe(this.errorHandler.bind(this))}forceResetPwdByEmailTicket(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("forceResetPwdByEmailTicket"))),(0,v.Z)((t=>(0,k.H)(t.forgetPwd.forceResetPwdByEmailTicket(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})})))))).pipe(this.errorHandler.bind(this))}cancelDeleteAccount(e){return e.extra_params=Object.assign(Object.assign({},this.extraParams),e.extra_params),this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("cancelDeleteAccount"))),(0,v.Z)((t=>(0,k.H)(t.cancel.cancelLogin(e))))).pipe(this.errorHandler.bind(this))}cancelDeactiveAccount(e){return this.getAccountSdk$().pipe((0,v.Z)((t=>(0,k.H)(t.request({url:"/passport/web/deactivation/login/",method:"POST",data:Object.assign(Object.assign({},e),this.extraParams)}))))).pipe(this.errorHandler.bind(this))}setAccount(e){return e.extra_params=Object.assign(Object.assign({},this.extraParams),e.extra_params),this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("setAccount"))),(0,v.Z)((t=>(0,k.H)(t.account.setAccount(e))))).pipe(this.errorHandler.bind(this))}getQrCodeUrl(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("getQrCodeUrl"))),(0,v.Z)((t=>(0,k.H)(t.qrcodeLogin.getQrcode(e))))).pipe(this.errorHandler.bind(this))}checkQrconnect(e){return this.getAccountSdk$({ttWid:e.ttWid}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("checkQrconnect"))),(0,v.Z)((t=>(0,k.H)(t.qrcodeLogin.checkQrconnect(e))))).pipe(this.errorHandler.bind(this))}usernameRegister(e){return e.extra_params=Object.assign(Object.assign({},this.extraParams),e.extra_params),this.getAccountSdk$({username:e.username,triggerPath:"/passport/web/username/register"}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("usernameRegister"))),(0,v.Z)((t=>(0,k.H)(t.login.usernameRegister(e))))).pipe(this.errorHandler.bind(this))}emailRegister(e){return e.extra_params=Object.assign(Object.assign({},this.extraParams),e.extra_params),this.getAccountSdk$({email:e.email,triggerPath:"/passport/web/email/register_verify_login"}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("emailRegister"))),(0,v.Z)((t=>(0,k.H)(t.login.emailRegister(e))))).pipe(this.errorHandler.bind(this))}checkLogin(){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("checkLogin"))),(0,v.Z)((e=>(0,k.H)(e.login.checkLogin({}))))).pipe(this.errorHandler.bind(this))}accountVerify(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("accountVerify"))),(0,v.Z)((t=>(0,k.H)(t.verify.accountVerify({account:"",password:e.password,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:e.verify_ticket,web_verify_need_region:1,web_verify_expire_in:1200})}))))).pipe(this.errorHandler.bind(this))}verifyTOTPCode(e){var t;const s=(0,i.encryptParams)(e,["code"]),r=null!==(t=this.userRegion.getRegionDomain())&&void 0!==t?t:"";return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("verifyTOTP"))),(0,v.Z)((e=>(0,k.H)(e.request({url:`${r}/passport/web/totp/verify_without_login/`,method:"POST",params:{aid:"1459"},data:s}))))).pipe(this.errorHandler.bind(this))}switchAccount(e){const t=this.userRegion.getDomainFromIDC(e.region);return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("switchAccount"))),(0,v.Z)((s=>(0,k.H)(s.request({url:`${t}/passport/web/account/switch/`,method:"POST",params:{aid:"1459",sec_to_user_id:e.secUid}}))))).pipe(this.errorHandler.bind(this))}removeAccount(e){const t=this.userRegion.getDomainFromIDC(e.region);return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("removeAccount"))),(0,v.Z)((s=>(0,k.H)(s.request({url:`${t}/passport/account/remove/`,method:"POST",params:{aid:"1459",sec_removed_user_id:e.secUid}}))))).pipe(this.errorHandler.bind(this))}logoutAccount(e){const t=this.userRegion.getDomainFromIDC(e.region);return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("removeAccount"))),(0,v.Z)((e=>(0,k.H)(e.request({url:`${t}/passport/web/logout/`,method:"POST",params:{aid:"1459"}}))))).pipe(this.errorHandler.bind(this))}checkEmailRegistered(e){return this.getAccountSdk$({email:e.email}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("checkEmailRegistered"))),(0,v.Z)((t=>(0,k.H)(t.extra.checkEmailRegistered({email:e.email,extra_params:Object.assign({},this.extraParams)}))))).pipe(this.errorHandler.bind(this))}sendPhoneCodeForBindAccount(e){const{mobile:t}=e;return this.getAccountSdk$({mobile:t,triggerPath:"/passport/web/send_code/",skipRegionCheck:!0}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("sendPhoneCodeForBindAccount"))),(0,v.Z)((e=>(0,k.H)(e.bind.sendCode({mobile:t,unbind_exist:0,extra_params:Object.assign(Object.assign({},this.extraParams),{is6Digits:1})}))))).pipe(this.errorHandler.bind(this))}validateAndBindPhone(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("validateAndBindPhone"))),(0,v.Z)((t=>(0,k.H)(t.bind.bindMobile(Object.assign(Object.assign({},e),{unbind_exist:0,extra_params:{phone_number_source:27}})))))).pipe(this.errorHandler.bind(this))}sendEmailCodeForBindAccount(e){const{email:t}=e;return this.getAccountSdk$({email:t,triggerPath:"/passport/web/email/send_code/",skipRegionCheck:!0}).pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("sendEmailCodeForBindAccount"))),(0,v.Z)((e=>(0,k.H)(e.bind.sendEmailCode({email:t,extra_params:Object.assign({},this.extraParams)}))))).pipe(this.errorHandler.bind(this))}validateAndBindEmail(e){return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod("validateAndBindEmail"))),(0,v.Z)((t=>(0,k.H)(t.bind.bindEmail(Object.assign(Object.assign({},e),{extra_params:{email_source:26}})))))).pipe(this.errorHandler.bind(this))}updateUniqueId(e){return this.getAccountSdk$().pipe((0,v.Z)((t=>(0,k.H)(t.account.updateLoginName({login_name:e}))))).pipe(this.errorHandler.bind(this))}validateFTCUsername(e){return this.getAccountSdk$().pipe((0,L.n)((t=>(0,k.H)(t.request({url:"/passport/web/login_name/check/",method:"POST",params:{aid:1459,login_name:e}}))))).pipe(this.errorHandler.bind(this))}refreshSession(){return this.getAccountSdk$().pipe((0,M.c)(1500),(0,H.p)((e=>(this.refreshSessionPromise||(this.refreshSessionPromise=e.request({url:"https://www.tiktok.com/passport/web/account/info/",method:"GET",params:{aid:1459},headers:{"x-tt-passport-force-refresh-cookie":"1"}}).catch((e=>{var t,s,r,i,a;return this.slardar.handleRequestResultReport({error_code:e.error_code||-1,url:this.requestInfo.url,type:null!==(r=null===(s=null===(t=this.requestInfo)||void 0===t?void 0:t.data)||void 0===s?void 0:s.type)&&void 0!==r?r:null===(a=null===(i=this.requestInfo)||void 0===i?void 0:i.params)||void 0===a?void 0:a.type,domain:this.requestInfo.baseURL,function_type:"getAccountInfo"}),{error_code:e.error_code||-1}}))),(0,k.H)(this.refreshSessionPromise)))))}errorHandler(e){return e.pipe((0,P.M)((()=>{this.reportSuccess()})),(0,O.W)((e=>{var t,s,r,i,a,o,n;return this.slardar.handleRequestResultReport({error_code:e.error_code||-1,url:this.requestInfo.url,type:null!==(r=null===(s=null===(t=this.requestInfo)||void 0===t?void 0:t.data)||void 0===s?void 0:s.type)&&void 0!==r?r:null===(a=null===(i=this.requestInfo)||void 0===i?void 0:i.params)||void 0===a?void 0:a.type,domain:this.requestInfo.baseURL}),"CLOSE_CAPTCHA"!==e&&console.error(`Login: account-api error: [${null!==(o=e.error_code)&&void 0!==o?o:-1}] ${null!==(n=e.description)&&void 0!==n?n:"unknown"}.`),(0,b.of)(Object.assign({error_code:e.error_code||-1,default_error_msg:"CLOSE_CAPTCHA"===e?"":"Sorry, something went wrong, please try again later"},e))})))}makeRequest(e,t,s=5e3){const{slardarMethodName:r}=e;return this.getAccountSdk$().pipe((0,P.M)((()=>this.slardar.setCurrentRequestMethod(r))),(0,L.n)((t=>{const{url:r,method:i,params:a,data:o}=e,n=(0,k.H)(t.request({url:r,method:i,params:Object.assign({aid:"1459"},a),data:o}));return!1!==s&&n.pipe((0,C.w)(s)),n.pipe((0,y.T)((e=>({data:Object.assign({error_code:0},e)}))))})),(0,P.M)((()=>{this.reportSuccess()})),(0,O.W)((e=>{var s,r,i,a,o,n,d,l;return this.slardar.handleRequestResultReport({error_code:null!==(s=e.error_code)&&void 0!==s?s:e.oidc_error_code||-1,url:this.requestInfo.url,type:null!==(a=null===(i=null===(r=this.requestInfo)||void 0===r?void 0:r.data)||void 0===i?void 0:i.type)&&void 0!==a?a:null===(n=null===(o=this.requestInfo)||void 0===o?void 0:o.params)||void 0===n?void 0:n.type,domain:this.requestInfo.baseURL}),(0,b.of)({message:"error",data:Object.assign(Object.assign({},t),{error_code:null!==(l=null!==(d=e.error_code)&&void 0!==d?d:e.oidc_error_code)&&void 0!==l?l:-1})})})))}reportSuccess(){var e,t,s,r,i;this.slardar.handleRequestResultReport({url:this.requestInfo.url,type:null!==(s=null===(t=null===(e=this.requestInfo)||void 0===e?void 0:e.data)||void 0===t?void 0:t.type)&&void 0!==s?s:null===(i=null===(r=this.requestInfo)||void 0===r?void 0:r.params)||void 0===i?void 0:i.type,domain:this.requestInfo.baseURL})}};E=(0,r.__decorate)([(0,a._)(),(0,r.__metadata)("design:paramtypes",[I.d,q.VU,g.$F])],E)},54378:(e,t,s)=>{"use strict";s.d(t,{d:()=>y});var r=s(58632),i=s(7672),a=s(40774),o=s(49343),n=s.n(o),d=s(23999),l=s(8536),c=s(65070),p=s(62564),h=s(20259),g=s(36166),u=s(72916),m=s(53708),b=s(55099),_=s(93608),k=s(14270),v=s(59622),f=s(94337);const R="https://login-us.www.tiktok.com",w="https://login-row.www.tiktok.com",C={ttp:"https://us.tiktok.com",gcp:"https://web-i18n.tiktok.com",euttp:"https://login-no1a.www.tiktok.com",sg:"https://web-sg.tiktok.com",global:"https://www-useast1a.tiktok.com"};let y=class{constructor(e,t){this.fetch=e,this.slardar=t,this.regionCache=new Map,this.userSeverRegion={},this.ttpConfig={},this.isSG=!0,this.phoenix=!1,this.alterRegionParams={},this.authBroadcastParams={},this.requestTime=1}setInitConfig(e){this.ttpConfig=e.ttpConfig,this.isSG=e.isSG,this.phoenix=e.phoenix}getRegionDomain(){return this.currentRegion.domain}getDomainFromIDC(e){switch(e){case"useast1a":default:return"https://login-row.www.tiktok.com";case"useast5":case"useast8":return R;case"alisg":return w;case"useast2a":case"ie":case"no1a":return"https://login-eu.www.tiktok.com"}}getTtWid(){return this.currentRegion.ttWid}setTtWid(e){this.currentRegion.ttWid=e}get isRetry(){return this.requestTime<=2?{is_retry:0}:{is_retry:1}}set currentRegion(e){this.userSeverRegion=e;const{domain:t}=e,s=t===C.ttp?"https://mcs.tiktokw.us":this.isSG?"https://mcs-sg.tiktokv.com":t===C.euttp?"https://mcs-ie.tiktokw.eu":t===C.gcp?"https://mcs-va-useast2a.tiktokv.com":"https://mcs-va.tiktokv.com";_.f.setDomain(s)}get currentRegion(){return this.userSeverRegion}get targetIDC(){var e,t;const{domain:s}=this.currentRegion;return null!==(t=null===(e=Object.entries(C).find((([e,t])=>t===s)))||void 0===e?void 0:e[0])&&void 0!==t?t:"global"}getUserRegions(e){const{open:t=!1,syncSeverList:s=[]}=this.ttpConfig;if(!t||this.phoenix)return(0,d.of)({error_code:0});const{platform_app_id:r,email:i,mobile:o,openId:g,account:u,triggerPath:m,username:b}=e,_=g||i||this.formatMobile(o)||u||(null==b?void 0:b.toLowerCase())||"";if(this.twitterRegion(r)||this.LineRegion(r)||this.getCacheRegion(_))return(0,d.of)({error_code:0});const k=(0,a.sha256)(`${_}aDy0TUhtql92P7hScCs97YWMT-jub2q9`),v=i?2:g?4:o?1:3;return(0,d.of)(s).pipe((0,l.Z)((e=>(0,c.p)(e.map((({domain:e})=>this.fetch.post(`${e}/passport/web/region/`,{body:n().stringify({hashed_id:k,type:v,platform_app_id:r,aid:1459})})))).pipe((0,p.T)((e=>{const{maxSameRegion:t,regionResult:s,domains:i}=this.getMaxNumberDomain(e);return 1===t.count&&(this.alterRegionParams={hashed_id:k,type:v,platform_app_id:r,result:JSON.stringify(s)},this.alterUserRegions(),2===Object.keys(i).length)?{error_code:-1}:(this.currentRegion={ttWid:t.ttWid,domain:`https://${t.domain}`},this.authBroadcastParams={hashed_id:k,type:v,platform_app_id:r,pre_path:null!=m?m:"",final_domain:t.domain},this.regionCache.set(_,this.currentRegion),{error_code:0})}))))),(0,h.W)((e=>(console.error(e,"get region err"),(0,d.of)({error_code:-1})))))}alterUserRegions(){const{open:e=!1,syncSeverList:t=[]}=this.ttpConfig;return e?(this.requestTime=1,this.slardar.setCurrentRequestMethod("alterUserRegions"),(0,d.of)(t).pipe((0,l.Z)((e=>e.map((({domain:e})=>this.singleRequestHandler({url:`${e}/passport/web/region_alert/`}))))))):(0,d.of)(null)}fetchUserStoreRegion(){const{open:e=!1,syncSeverList:t=[]}=this.ttpConfig;return e?(this.requestTime=1,this.slardar.setCurrentRequestMethod("fetchUserStoreRegion"),(0,d.of)(t).pipe((0,l.Z)((e=>(0,c.p)(e.map((({domain:e})=>this.fetch.post(`${e}/passport/web/store_region/`,{body:n().stringify({aid:1459})})))).pipe((0,p.T)((([e])=>{if("success"===e.message)return e.data}))))))):(0,d.of)({store_region:void 0,localized_country_name:void 0})}fetchUserRegionList(){const{open:e=!1,syncSeverList:t=[]}=this.ttpConfig;return e?(this.requestTime=1,this.slardar.setCurrentRequestMethod("fetchUserRegionList"),(0,d.of)(t).pipe((0,l.Z)((e=>(0,c.p)(e.map((({domain:e})=>this.fetch.get(`${e}/passport/web/region/register_region_list/`,{query:{aid:1459},baseUrlType:2})))).pipe((0,l.Z)((e=>{var t;const s=e.find((e=>"success"===e.message));return s?(0,d.of)(s.data.region_list):(0,d.of)(null===(t=e.find((e=>2125===e.data.error_code)))||void 0===t?void 0:t.data.description)}))))))):(0,d.of)([])}authBroadcast(e){this.requestTime=1;const{open:t=!1,syncSeverList:s=[]}=this.ttpConfig;return!t||this.phoenix?(0,d.of)(null):(this.slardar.setCurrentRequestMethod("authBroadcast"),v.K.show(),(0,d.of)(s).pipe((0,l.Z)((t=>(0,c.p)(t.map((({domain:t})=>this.singleRequestHandler({url:`${t}/passport/web/auth_broadcast/`,userInfo:e,isAuth:!0})))).pipe((0,p.T)((()=>null)),(0,h.W)((e=>(console.error("authBroadcast error",e),(0,d.of)(null)))),(0,g.j)((()=>{v.K.hide()})))))))}twitterRegion(e){if(e===k.iU.twitter)return this.currentRegion={domain:R},!0}LineRegion(e){if(e===k.iU.line)return this.currentRegion={domain:w},!0}getCacheRegion(e){if(this.regionCache.get(e))return this.currentRegion=this.regionCache.get(e),!0}getMaxNumberDomain(e){this.slardar.setCurrentRequestMethod("getUserRegion");const t={},s={},{syncSeverList:r=[]}=this.ttpConfig,i={count:0,domain:"",ttWid:""};return e.forEach((({data:e},a)=>{const{domain:o,ttwid_migration_ticket:n,error_code:d}=e;this.slardar.handleRequestResultReport({error_code:d}),s[r[a].domain]=o,t[o]?t[o]=t[o]+1:t[o]=1,i.count<t[o]&&(i.count=t[o],i.domain=o),n&&(i.ttWid=n)})),{regionResult:s,maxSameRegion:i,domains:t}}singleRequestHandler(e){const{url:t,isAuth:s=!0,userInfo:r}=e,i=s?Object.assign(Object.assign({},this.authBroadcastParams),r):this.alterRegionParams;return(0,d.of)(this.isRetry).pipe((0,u.n)((({is_retry:e})=>this.fetch.post(t,{body:n().stringify(Object.assign(Object.assign({},i),{is_retry:e,aid:1459}))}).pipe((0,p.T)((({error_code:e})=>{if(this.slardar.handleRequestResultReport({error_code:e}),-1===e)throw new Error(`${e}`);return{error_code:0}}))))),(0,m.L)(2))}formatMobile(e){var t;if(!e)return"";const[s,r]=null!==(t=e.replace("+","").split(" "))&&void 0!==t?t:[];return"86"===s?r:`+${s}${r}`}};y=(0,r.__decorate)([(0,i._)(),(0,r.__metadata)("design:paramtypes",[b.p,f.VU])],y)},59622:(e,t,s)=>{"use strict";s.d(t,{K:()=>i});var r=s(84827);const i={show:()=>r.W.show("#loginContainer"),hide:()=>r.W.hide()}},83062:(e,t,s)=>{"use strict";s.d(t,{W:()=>r});const r=e=>e?"0x203":"0x204"},29403:()=>{}}]);