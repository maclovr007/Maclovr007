"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2423],{14363:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(2787),r=n(40099),i=n(30600),a=n(88091),l=n(62186),s=n(72153);const c=(0,l.default)("div",{target:"ea9s2gj0"})((({theme:{colors:e}})=>[{width:"48px",height:"48px",borderRadius:"24px",backgroundColor:e.BGPlaceholderDefault,marginBottom:"32px"},(0,s.jJ)({max:a.f5.Small,style:{width:"32px",height:"32px"}})]),"label:ActionItemPlaceHolder;"),d=(0,r.memo)((({num:e=6,style:t})=>{const n=(0,r.useMemo)((()=>Array.from({length:e},((e,t)=>(0,o.Y)(c,{},`action-item-placeholder_${t}`)))),[e]);return(0,o.Y)(i.G5,{style:Object.assign({justifyContent:"center"},t),children:n})}))},30600:(e,t,n)=>{n.d(t,{G5:()=>i});var o=n(75431),r=n(62186);n(10594);const i=(0,r.default)("section",{target:"ees02z00"})((()=>[{display:"flex",flexDirection:"column",alignItems:"center"}]),"label:SectionActionBarContainer;");(0,o.i7)({"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.67)"},"100%":{transform:"scale(1)"}}),(0,o.i7)({"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.33)"},"100%":{transform:"scale(1)"}})},45959:(e,t,n)=>{n.d(t,{X:()=>f});var o=n(2787),r=n(40099),i=n(62186),a=n(72153);const l=(0,i.default)("div",{target:"e192izzu0"})((({center:e})=>[{display:"flex",marginRight:"68px",paddingTop:"24px"},e?{marginRight:"0px",margin:"0 auto"}:null]),"label:DivOneColSkeletonContainer;"),s=(0,i.default)("div",{target:"e192izzu1"})({width:"56px",height:"56px",flex:"0 0 56px",borderRadius:"100%"},(({theme:{direction:e,colors:t}})=>Object.assign({background:t.BGPlaceholderDefault},(0,a.mp)({direction:e,marginEnd:"12px"}))),(0,a.jJ)({max:479,style:{display:"none"}}),"label:DivOneColSkeletonAvatar;"),c=(0,i.default)("div",{target:"e192izzu2"})({display:"flex",flexDirection:"row",alignItems:"center",[`${s}`]:{width:"40px",height:"40px",flex:"0 0 40px",display:"none"}},(0,a.jJ)({max:479,style:{[`${s}`]:{display:"block"}}}),"label:DivOneColSkeletonContentContainer;"),d=(0,i.default)("div",{target:"e192izzu3"})({paddingTop:"10px",flex:"1 1 auto"},"label:DivOneColSkeletonWrapper;"),u=(0,i.default)("div",{target:"e192izzu4"})((({styles:{width:e,marginBottom:t,marginTop:n},theme:o})=>({width:e,marginBottom:t,marginTop:n,maxWidth:"100%",height:"16px",background:o.colors.BGPlaceholderDefault,borderRadius:"2px"})),"label:DivOneColSkeletonContent;"),p={width:"200px",marginBottom:"6px"},m={width:"160px"},g={width:"478px",marginBottom:"5px",marginTop:"15px"},_={width:"478px",marginBottom:"0px"},f=(0,r.memo)((function({center:e,style:t}){return(0,o.FD)(l,{style:t,center:e,children:[(0,o.Y)(s,{}),(0,o.FD)(d,{children:[(0,o.FD)(c,{children:[(0,o.Y)(s,{}),(0,o.FD)("div",{children:[(0,o.Y)(u,{styles:p}),(0,o.Y)(u,{styles:m})]})]}),(0,o.Y)(u,{styles:g}),(0,o.Y)(u,{styles:_})]})]})}))},12681:(e,t,n)=>{n.d(t,{U:()=>u});var o=n(2787),r=n(88920),i=n(14363),a=n(62186);const l=(0,a.default)("div",{target:"e1tueqr40"})((()=>[{height:"100%",margin:"0 auto",paddingTop:"24px",display:"flex",alignItems:"end",gap:"16px"}]),"label:DivOneColSkeletonContainer;"),s=(0,a.default)("div",{target:"e1tueqr41"})((({theme:{colors:e}})=>[{height:"100%",aspectRatio:"9 / 16",borderRadius:"16px",backgroundColor:e.BGPlaceholderDefault}]),"label:DivOneColSkeletonCard;"),c=({style:e})=>(0,o.FD)(l,{style:e,children:[(0,o.Y)(s,{}),(0,o.Y)(i.A,{num:6})]});var d=n(45959);const u=()=>{const{isInProductHoldout:e}=(0,r.Vv)();return e?(0,o.Y)(d.X,{}):(0,o.Y)(c,{})}},17437:(e,t,n)=>{n.d(t,{Cj:()=>r,WI:()=>i,hg:()=>o});const o=96,r=[{text:"pc_web_explorePage_all",name:"All",type:120},{text:"pc_web_explorePage_topics_singing_dancing",name:"Singing & Dancing",type:119},{text:"pc_web_explorePage_topics_comedy",name:"Comedy",type:104},{text:"pc_web_explorePage_topics_sports",name:"Sports",type:112},{text:"pc_web_explorePage_topics_anime_comics",name:"Anime & Comics",type:100},{text:"pc_web_explorePage_topics_relationship",name:"Relationship",type:107},{text:"pc_web_explorePage_topics_shows",name:"Shows",type:101},{text:"pc_web_explorePage_topics_lipsync",name:"Lipsync",type:110},{text:"pc_web_explorePage_topics_daily_life",name:"Daily Life",type:105},{text:"pc_web_explorePage_topics_beauty_care",name:"Beauty Care",type:102},{text:"pc_web_explorePage_topics_games",name:"Games",type:103},{text:"pc_web_explorePage_topics_society",name:"Society",type:114},{text:"pc_web_explorePage_topics_outfit",name:"Outfit",type:109},{text:"pc_web_explorePage_topics_cars",name:"Cars",type:115},{text:"pc_web_explorePage_topics_food",name:"Food",type:111},{text:"pc_web_explorePage_topics_animals",name:"Animals",type:113},{text:"pc_web_explorePage_topics_family",name:"Family",type:106},{text:"pc_web_explorePage_topics_drama",name:"Drama",type:108},{text:"pc_web_explorePage_topics_fitness_health",name:"Fitness & Health",type:117},{text:"pc_web_explorePage_topics_education",name:"Education",type:116},{text:"pc_web_explorePage_topics_technology",name:"Technology",type:118}];var i;!function(e){e.NORMAL="0",e.NEW="1",e.HOT="2",e.RECOM="3",e.EXCLUSIVE="4",e.LOCAL="5",e.BURST="6",e.BOIL="7",e.WENDA_CLUE="8",e.LONG_VIDEO="9",e.LIVE="10",e.UPDATE="15",e.BUBBLE_WORDS="16",e.SAV="17",e.MUSIC="18",e.SEARCH_AGAIN="19",e.COUPON="20"}(i||(i={}))},25778:(e,t,n)=>{n.d(t,{C1:()=>C,E0:()=>P,Ys:()=>L,b1:()=>E,pn:()=>O,tZ:()=>S});var o=n(40099),r=n(58305),i=n(45297),a=n(19442),l=n(44926),s=n(32862),c=n(60484),d=n(48615),u=n(49057),p=n(71281),m=n(93608),g=n(94294),_=n(30085),f=n(79995),v=n(96563),h=n(32125),y=n(48977),x=n(97515),b=n(17437),w=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((o=o.apply(e,t||[])).next())}))};const C=e=>{const{currentCategoryType:t,currentCategory:n}=(0,x.eO)((e=>({currentCategoryType:e.currentCategoryType,currentCategory:e.currentCategory})),h.bN),[r,i]=(0,_.V2)((t=>{var n,o,r,i,a,l;return{loading:null!==(o=null===(n=t[null!=e?e:0])||void 0===n?void 0:n.loading)&&void 0!==o&&o,hasMore:null===(i=null===(r=t[null!=e?e:0])||void 0===r?void 0:r.hasMore)||void 0===i||i,list:null!==(l=null===(a=t[null!=e?e:0])||void 0===a?void 0:a.list)&&void 0!==l?l:[]}}),h.bN),[a,l]=(0,f.IO)((e=>({loading:e.loading,hasMore:e.hasMore,list:e.list})),h.bN),{loading:s,hasMore:c,list:d}=void 0!==e?r:a,u=void 0!==e?i:l,p=(0,o.useRef)(void 0);return(0,o.useCallback)((()=>{s||(!c||d.length>=200?p.current!==t&&(g.H.handleBottomNoMoreVideosShow({tab_name:n}),p.current=t):(g.H.handleExploreLoadMore({enter_from:`category_${n}`}),u.getExploreList({categoryType:null!=e?e:t})))}),[s,c,d.length,u,e,t,n])};function L(){const[{mute:e},t]=(0,x.g_)((e=>({mute:e.mute})),h.bN);(0,o.useEffect)((()=>{const e=(0,r._S)(i.y3);e?t.setMute(Number(e)>0):t.setMute(!1)}),[]);const n=(0,o.useCallback)((n=>{n.preventDefault(),n.stopPropagation(),(0,r.AP)(i.y3,e?"0":"1"),t.setMute(!e)}),[t,e]);return{mute:e,handleToggleMute:n,volume:.7}}function E(e,t){const n=(0,x.eO)((e=>e.currentCategory),h.bN);return 19!==t?null:{enter_method:"category_video_display",enter_tab:n,diversify_id:null==e?void 0:e.diversificationId}}function P(){return(0,o.useMemo)((()=>({enter_from:"explore_page",search_position:"explore_page",words_source:"explore_all",words_type:"explore_all",group_id:"",previous_page:m.f.commonParams.previous_page})),[])}function O(e){var t;const{enterIndex:n}=(0,a.JD)((e=>({enterIndex:e.enterIndex})),h.bN),{enterItemId:r}=(0,l.d8)((e=>{var t;return{enterItemId:null!==(t=e.browserList[n])&&void 0!==t?t:""}}),h.bN),i=C(e),c=(0,y.Ft)(),d=(0,v.ND)(),[u,p]=(0,o.useState)(!1),m=(0,o.useCallback)((e=>w(this,void 0,void 0,(function*(){yield d.getRelatedList({itemId:e})}))),[d]),g=null!==(t=(0,s.GA)("browser_content_logic"))&&void 0!==t?t:"v1";return{loadMoreConfig:(0,o.useMemo)((()=>{const e=[{itemListKey:"explore",limit:1}];return"v1"!==g&&"v4"!==g&&e.push({itemListKey:"video",limit:4}),"v2"===g||"v4"===g?(e.push({itemListKey:"foryou",limit:1/0}),e.push({itemListKey:"explore",limit:1/0})):e.push({itemListKey:"explore",limit:1/0}),{sources:e}}),[g]),loadMoreHandler:(0,o.useCallback)((e=>{switch(e){case"explore":default:i();break;case"video":if(u)return!1;p(!0),m(r);break;case"foryou":c()}return!0}),[i,m,c,r,u])}}const S=()=>{var e,t;const{config:n}=(0,c.L$)((0,d.U)((()=>["config"]),[])),{exploreCategoryList:r}=(0,c.L$)(n),{abTestVersion:i}=(0,c.L$)((0,u.W)((()=>["abTestVersion"]),[])),a=(null!==(t=r[null!==(e=(0,p.qt)(i,"explore_category_ranking"))&&void 0!==e?e:"v0"])&&void 0!==t?t:b.Cj).map((e=>Object.assign(Object.assign({},e),{type:Number(e.type)})));return(0,o.useMemo)((()=>a),[])}},97515:(e,t,n)=>{n.d(t,{eO:()=>s,g_:()=>l});var o=n(14374),r=n(71111),i=n(31209);const a=(0,o._)((0,r.atom)({currentCategory:"",currentCategoryType:0,mute:!0}),{rehydrationKey:"desktop.explorePage.root"});a.debugLabel="exploreAtom";const{useAtomService:l,useServiceState:s,useServiceDispatchers:c}=(0,i.i)(a,((e,t)=>({setCurrentCategory(e){t(a,(t=>Object.assign(Object.assign({},t),{currentCategory:e})))},setCurrentCategoryType(e){t(a,(t=>Object.assign(Object.assign({},t),{currentCategoryType:e})))},setMute(e){t(a,(t=>Object.assign(Object.assign({},t),{mute:e})))}})))},48977:(e,t,n)=>{n.d(t,{$h:()=>j,Bj:()=>F,Ft:()=>I,LB:()=>H,Nc:()=>Y,d9:()=>z,eF:()=>V});var o=n(2787),r=n(40099),i=n(11060),a=n(99789),l=n.n(a),s=n(4474),c=n(60144),d=n(45266),u=n(19442),p=n(6752),m=n(45212),g=n(97086),_=n(30247),f=n(36272),v=n(43626),h=n(25616),y=n(32744),x=n(52333),b=n(41271),w=n(97071),C=n(8046),L=n(14107),E=n(93341),P=n(29909),O=n(16085),S=n(16680),D=n(89558),M=n(99374),k=n(32125),T=n(35267),R=n(12681),N=n(13544),A=n(28369),B=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((o=o.apply(e,t||[])).next())}))};function I(){const{streamDeviceType:e}=(0,c.A)(),[t,n]=(0,P.NY)((e=>({list:e.list,loading:e.loading,hasMore:e.hasMore})),k.bN),{loading:o,hasMore:i}=t,a=(0,d.s)(),l=(0,u.JD)((e=>e.showingBrowserMode)),s=(0,O.Z9)((e=>e.isOpen)),v=s?"immersive_player":l?"browser_mode":"one_column",{fypFeederItemId:h}=(0,p.ip)(),{enableVVAvgPerDayStrategy:y,defaultRecommendFetchCount:x}=(0,m.id)();return(0,r.useCallback)(((t=!1)=>B(this,void 0,void 0,(function*(){if((o||!i)&&!t)return;const r=(0,g.fU)()?"":(0,_.ey)(),l=(0,f.tR)().getPortraitTarget("vv_avg_per_day");yield n.getRecommendList({fromPage:"fyp",watchLiveLastTime:r,device_type:e,ttamParams:a,playModeForTea:v,fypFeederItemId:h,fetchCount:y?l:x})}))),[n,i,e,o,a,v,h,y,x])}function j(){const e=(0,P.Lu)((e=>null!=e?e:{list:[],loading:!1,hasMore:!0,statusCode:0}),k.bN),t=(0,S.b1)(),{statusCode:n,hasMore:o}=e;return(0,r.useCallback)((()=>{o||10404!==n||t.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"vv_limit"}})}),[t,n,o])}const Y=()=>{const{search:e}=(0,i.zy)(),t=(0,E.VP)(),{isBrowserModeShowing:n}=(0,r.useContext)(v.g),{hasSidebar:o,hasFloatingPanel:a}=(0,A.jN)(),c=(0,s.stringifyUrl)({url:"/foryou",query:l()((0,s.parse)(e),"sender_device","sender_web_id","item_id")},{skipNull:!0});(0,r.useEffect)((()=>{o||a||t>0&&!n&&window.history.replaceState(window.history.state,"foryou",c)}),[c,t,n,a,o])},F=({iconEle:e,handleRefresh:t})=>{const n=(0,h.s)();return(0,o.Y)(N.x,{children:(0,o.Y)(y.W,{iconElem:e,title:n("server_error_title"),desc:n("server_error_sub"),buttonText:n("refresh"),onButtonClick:t})})},H=()=>(0,o.Y)(R.U,{}),V=()=>{const e=(0,P.Lu)((e=>null==e?void 0:e.list),k.bN),t=(0,b.P)(x.k),n=(0,u.JD)((e=>e.showingBrowserMode),k.bN),o=(0,O.Z9)((e=>e.isOpen),k.bN);(0,r.useEffect)((()=>{var r;if(e&&0!==e.length)for(let i=0;i<e.length;i++){const a=t[e[i]];if(a){if(a.ad_info){const e=a.ad_info,t=(0,w.n5)({ad_info:e,play_mode:o?"immersive_player":n?"browser_mode":"one_column"});C.pg.handleReceive(t)}L.j.handleVideoReceive({item_id:a.id,group_id:null===(r=null==a?void 0:a.video)||void 0===r?void 0:r.id})}}}),[])};function z(){const e=(0,P.sL)();return(0,r.useCallback)((()=>B(this,void 0,void 0,(function*(){const t=(0,T.yK)();return Promise.all([t.service.baseContext.getBaseContext(),t.service.commonConfig.getAbTestValueWithUrl(D.W$)]).then((([{user:n},o])=>{const r=(0,M.i1)(n,o);return e.getRecommendList({itemId:t.request.query.item_id,isNonPersonalized:r})}))}))),[e])}},13544:(e,t,n)=>{n.d(t,{Y:()=>r,x:()=>i});var o=n(62186);const r=(0,o.default)("main",{target:"ec6jhlz0"})((()=>[{position:"relative",margin:"0 auto",width:"100%",minWidth:"420px",flexShrink:1,display:"flex",justifyContent:"center",alignItems:"stretch"}]),"label:DivMainContainer;"),i=(0,o.default)("div",{target:"ec6jhlz1"})({padding:"210px 0"},"label:DivErrorWrapper;")},91872:(e,t,n)=>{n.d(t,{O:()=>i});var o=n(40099),r=n(90159);function i({elementRef:e,threshold:t=1e3,onHitBottom:n,onPageBottom:i,shouldRunOnMount:a,onScroll:l}){const s=(0,o.useRef)(null),c=(0,o.useRef)(0),d=(0,o.useRef)(-1),u=(0,o.useRef)(!a),p=(0,o.useCallback)((()=>{"undefined"!=typeof window&&d.current>-1&&(window.clearInterval(d.current),d.current=-1)}),[]),m=(0,r._g)((()=>{var o,r,a,d,m,g;if(!s)return;let _,f;if(e)_=null!==(r=null===(o=e.current)||void 0===o?void 0:o.scrollTop)&&void 0!==r?r:0,f=(null!==(d=null===(a=e.current)||void 0===a?void 0:a.scrollHeight)&&void 0!==d?d:0)-(null!==(g=null===(m=e.current)||void 0===m?void 0:m.clientHeight)&&void 0!==g?g:0)-_;else{const e=document.documentElement||document.body.parentNode||document.body;_=void 0!==window.pageYOffset?window.pageYOffset:e.scrollTop,f=e.scrollHeight-_-window.innerHeight}0!==_&&(null==l||l(_)),!u.current&&f>0&&p(),f-t<=0&&c.current<=_&&(null==n||n(),!u.current&&p()),f<=-60&&_-c.current>=18&&(null==i||i()),c.current=_}),[n,t,i,e,p],100),g=(0,o.useRef)(m);return g.current=m,(0,o.useEffect)((()=>{if(a&&-1===d.current)return d.current=window.setInterval((()=>{var e;null===(e=g.current)||void 0===e||e.call(g)}),100),p}),[]),(0,o.useEffect)((()=>{var t;const n=null!==(t=null==e?void 0:e.current)&&void 0!==t?t:window;return n.addEventListener("scroll",m),()=>{n.removeEventListener("scroll",m)}}),[m,e]),s}},11417:(e,t,n)=>{n.d(t,{h:()=>c});var o=n(24643),r=n(40099),i=n(60322),a=n(84827),l=n(90159);const s=function({onShow:e}){const t=(0,r.useRef)(null),n=(0,l._g)((()=>{if(t.current){const{top:n}=t.current.getBoundingClientRect();n>=0&&n<window.innerHeight&&e()}}),[e],100);return(0,r.useEffect)((()=>{n()}),[]),(0,r.useEffect)((()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)})),[n]),(0,o.jsx)("div",{ref:t,children:(0,o.jsx)(a.R,{center:!0,maskKey:"self-detector"})})};function c(){return function(e){const t=t=>{const{ssrLimitDisable:n=!1}=t,[i,a]=(0,r.useState)(!n),[l,c]=(0,r.useState)(!0),d=(0,r.useCallback)((()=>{a(!1)}),[]);(0,r.useEffect)((()=>{l&&c(!1),void 0!==window.requestIdleCallback?window.requestIdleCallback(d):setTimeout((()=>{d()}),0)}),[d,l]);const u=(0,r.useMemo)((()=>{var e;return i&&!n&&l?t.itemList.slice(0,null!==(e=t.ssrLimit)&&void 0!==e?e:2):t.itemList}),[i,t.itemList,t.ssrLimit,n,l]),p=Object.assign(Object.assign({},t),{itemList:u,frozen:i});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e,Object.assign({},p)),i&&(0,o.jsx)(s,{onShow:d})]})};return t.displayName=`WithLimitedListSSR(${(0,i.x)(e)})`,t}}},94294:(e,t,n)=>{n.d(t,{H:()=>r});var o=n(93608);const r={handleClickCategory:e=>{o.f.sendEvent("click_category",e)},handleNoMoreVideosShow:e=>{o.f.sendEvent("no_more_videos_show",e)},handleBottomNoMoreVideosShow:e=>{o.f.sendEvent("bottom_no_more_videos_show",e)},handleExploreLoadMore:e=>{o.f.sendEvent("load_more",e)},handleExploreClickCategoryArrow:e=>{o.f.sendEvent("category_arrow_click",e)},handleTrendingTopicPlay:e=>{o.f.sendEvent("trending_topic_video_play",e)},handleTrendingToBrowserMode:e=>{o.f.sendEvent("trending_topic_video_click",e)},handleTrendingTopicSwitch:e=>{o.f.sendEvent("trending_topic_scroll",e)},handleTrendingTopicEmpty:()=>{o.f.sendEvent("trending_topic_empty")}}},95873:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(93608);const r={handleVideoExposeReport:e=>{o.f.sendEvent("video_expose",e)}}}}]);