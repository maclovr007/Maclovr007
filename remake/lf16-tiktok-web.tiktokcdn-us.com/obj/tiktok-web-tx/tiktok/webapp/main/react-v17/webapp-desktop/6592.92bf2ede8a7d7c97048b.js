"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6592],{28237:(e,t,o)=>{o.d(t,{HV:()=>r,OW:()=>s});var n=o(31209);const i=(0,o(43723).p)("confirmLogoutAtom@tiktok/webapp-atoms",{showModal:!1,modalType:0}),{useAtomService:r,useServiceState:a,useServiceDispatchers:s}=(0,n.i)(i,((e,t)=>({setShowModal(o){t(i,(()=>Object.assign(Object.assign({},e(i)),{showModal:o})))},setModalType(o){t(i,(()=>Object.assign(Object.assign({},e(i)),{modalType:o})))}})))},12016:(e,t,o)=>{o.d(t,{w:()=>s});var n=o(24643),i=o(40099),r=o(58542),a=o(26263);const s=e=>{const t=(0,a.Y)(e),[o,s]=(0,i.useState)(t.getLocalStorage(!0));return{hideTooltip:t=>{null==t||t(),(0,a.Y)(e).setLocalStorage(!1),s(!1)},OneTimeTooltip:e=>(0,n.jsx)(r.N0Y,Object.assign(Object.assign({},e),{visible:o}))}}},78580:(e,t,o)=>{o.d(t,{E:()=>s,l:()=>a});var n=o(40099),i=o(50091),r=o(37725);const a=()=>{const e=(0,r.eX)(),t=(0,r.RW)();return{shouldShowLiveSurvey:e,handleHideLiveSurvey:(0,n.useCallback)((()=>{t.handleShowLiveSurvey(!1)}),[])}},s=()=>(0,i.W6)()},47832:(e,t,o)=>{o.d(t,{gw:()=>B,uU:()=>I,xP:()=>A});var n,i=o(40099),r=o(93608);!function(e){e.SurveyIconShow="desktop_web_survey_show_icon",e.SurveyPopupShow="desktop_web_survey_show",e.SurveyIconClick="desktop_web_survey_click_icon",e.SurveyCtaClick="desktop_web_survey_click_join",e.SurveyCloseClick="desktop_web_survey_click_not_now"}(n||(n={}));const a={handleSurveyPopupShow:()=>{r.f.event("desktop_web_survey_show")},handleSurveyIconShow:()=>{r.f.event("desktop_web_survey_show_icon")},handleSurveyIconClick:()=>{r.f.event("desktop_web_survey_click_icon")},handleSurveyCtaClick:()=>{r.f.event("desktop_web_survey_click_join")},handleSurveyCloseClick:()=>{r.f.event("desktop_web_survey_click_not_now")}};var s=o(60484),l=o(49057),d=o(48615),c=o(32125),p=o(88920),u=o(58305),h=o(71111),g=o(31209),m=o(35626),x=o.n(m),b=o(98200);const v=1/0,_=(0,h.atom)(JSON.parse((0,u._S)("PC_APP_SURVEY")||"{}")),y=(0,h.atom)((e=>e(_)),((e,t,o)=>{const n=e(_),i="function"==typeof o?o(n):Object.assign(Object.assign({},n),o);var r;x()(n,i)||(t(_,i),r=i,(0,u.AP)("PC_APP_SURVEY",JSON.stringify(r)))}));y.debugLabel="surveyPersistedAtom";const f=(0,h.atom)(!1),w=(0,h.atom)(-1),C=(0,h.atom)(!1),j=(0,h.atom)({link:"",shouldShowSurvey:!1}),S=(0,h.atom)((e=>({surveyPopActive:e(f),surveyConfig:e(j),initialized:e(C)})),((e,t,o)=>{const n=(0,b.ev)();t(f,o),e(f)?(a.handleSurveyPopupShow(),n.changeCurrentType(b.RD.SurveyEntrance),t(y,(e=>{var t;return{count:(null!==(t=e.count)&&void 0!==t?t:0)+1,hasShown:!0}}))):n.changeCurrentType(b.RD.None)}));S.debugLabel="surveyAtom";const{useAtomService:k,useServiceDispatchers:P,useServiceState:T}=(0,g.i)(S,((e,t)=>({startTimeout(){e(C)||(t(C,!0),a.handleSurveyIconShow());const o=e(w),{hasShown:n,count:i=0}=e(y);!n&&-1===o&&i<v&&t(w,window.setTimeout((()=>t(S,!0)),3e4))},clearTimeout(){const o=e(w);window.clearTimeout(o),t(w,-1)},setSurveyPopActive(e){t(S,e)},setSurveyConfig(e){t(j,e)}})));function A(){const[{surveyPopActive:e},{setSurveyPopActive:t,startTimeout:o,clearTimeout:n}]=k((e=>({surveyPopActive:e.surveyPopActive})),c.bN),r=(0,i.useCallback)((()=>{a.handleSurveyCloseClick(),t(!1)}),[]),s=(0,i.useCallback)((()=>{a.handleSurveyIconClick(),t((e=>!e)),n()}),[]),l=(0,i.useCallback)((()=>{a.handleSurveyCtaClick(),t(!1)}),[]);return(0,i.useEffect)((()=>{o()}),[]),{surveyPopActive:e,handleToggleShow:s,handleHideSurvey:r,handleClickCTA:l}}function I(){var e,t;const{user:o}=(0,s.L$)((0,l.W)((()=>["user"]),[])),n=null!==(e=null==o?void 0:o.hasLivePermission)&&void 0!==e&&e,{config:r}=(0,s.L$)((0,d.U)((()=>["config"]),[])),{desktopWebSurveyLink:a}=(0,s.L$)(r),c=P(),{shouldShowSurvey:u,isNewUser:h}=(0,p.wX)(),g=null!==(t=null==a?void 0:a[h?"new":"old"])&&void 0!==t?t:"",m=u&&n;return(0,i.useEffect)((()=>{c.setSurveyConfig({link:g,shouldShowSurvey:m})}),[c,g,m]),{link:g,shouldShowSurvey:m}}const B=()=>T((e=>e.surveyConfig.link),c.bN)},51030:(e,t,o)=>{o.d(t,{SP:()=>to});var n=o(58632),i=o(24643),r=o(40099),a=o(41271),s=o(93608),l=o(38893),d=o(96141),c=o(47172),p=o(90159),u=o(58305),h=o(95868),g=o(47236);const m=(0,g.Ay)({resolved:{},chunkName:()=>"live-survey",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>o.e(4816).then(o.bind(o,25199)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>25199});var x=o(78580),b=o(88920),v=o(60484),_=o(13492),y=o(48615),f=o(49057),w=o(92843),C=o(98200),j=o(16229),S=o(73635),k=o(50475),P=o(77976),T=o(32125),A=o(84987);const I={id:"pc-a05d3271",use:"pc-a05d3271-usage",viewBox:"0 0 21 19",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 19" id="pc-a05d3271"><path fill="currentColor" d="M12.601 17h2.52a.84.84 0 1 1 0 1.68h-9.24a.84.84 0 1 1 0-1.68h2.1v-2.1h-6.3A1.68 1.68 0 0 1 0 13.22V1.88C0 .952.754.199 1.68.199h17.642c.927 0 1.68.753 1.68 1.68V13.22c0 .927-.753 1.68-1.68 1.68h-6.72zm-.84 0v-2.1h-2.94V17zM1.681 1.88v11.34h17.641V1.88H1.68z" /></symbol>'};function B(e){const t=(0,r.useContext)(A.X);return(0,r.useLayoutEffect)((()=>(t.add(I),()=>{t.remove("pc-a05d3271")})),[]),(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,i.jsx)("use",{xlinkHref:"#pc-a05d3271"},void 0)}),void 0)}var L=o(25616),E=o(45297),D=o(20157),W=o(5441),R=o(84506),z=o(65467),O=o(62186),F=o(72153);const $=(0,O.default)("div",{target:"ejkrawn0"})({display:"flex",position:"relative",marginBottom:"12px"},"label:DivPromotionContainer;"),M=(0,O.default)("button",{target:"ejkrawn1"})(F.WA,(({isExpand:e,theme:t})=>{const o=(0,F.t7)(t.direction,"end");return[(0,F.zy)({theme:t,typography:"P3",fontWeight:"bold",color:"TextSecondary",fontFamily:"TikTokFont"}),{position:e?"absolute":"relative",right:0,bottom:0,padding:"0 8px",minWidth:"90px",height:"32px",boxShadow:`0 2px 8px ${t.colors.ShadowSecondary}`,borderRadius:"52px",cursor:"pointer",lineHeight:"30px",textAlign:"center",whiteSpace:"nowrap",borderWidth:"1px",borderStyle:"solid",borderColor:t.colors.LineSecondary2,backgroundColor:t.colors.BGSecondary,":hover":{borderColor:t.colors.LinePrimary,backgroundColor:t.colors.BGTertiary},":active":{borderColor:t.colors.LinePrimary,backgroundColor:t.colors.BGInput},transition:"transform 0.3s cubic-bezier(.4,.14,.3,1)",transformOrigin:`${o} bottom`,transform:e?"scale(0)":"none"}]}),"label:ButtonGetAppText;"),G=(0,O.default)("div",{target:"ejkrawn3"})((({isExpand:e,theme:t})=>{const o=(0,F.t7)(t.direction,"end");return[(0,F.zy)({theme:t,typography:"P2",fontWeight:"bold"}),{position:e?"relative":"absolute",bottom:"-1px",background:t.colors.BGSecondary,boxShadow:`0 2px 8px ${t.colors.ShadowSecondary}`,border:`1px solid ${t.colors.LineSecondary3}`,borderRadius:"8px",transition:"all 0.3s cubic-bezier(.4,.14,.3,1)",transformOrigin:`${o} bottom`,transform:e?"none":"scale(0)"},(0,F.mp)({direction:t.direction,end:"-1px"})]}),"label:DivExpandContainer;"),N=(0,O.default)("div",{target:"ejkrawn4"})((({theme:{direction:e}})=>(0,F.mp)({direction:e,end:"16px"})),{position:"absolute",top:16,cursor:"pointer"},"label:DivXMarkWrapper;"),U=(0,O.default)("div",{target:"ejkrawn5"})((({theme:{direction:e}})=>(0,F.mp)({direction:e,marginEnd:48,marginStart:16})),"label:DivExpandWrapper;"),q=(0,O.default)("div",{target:"ejkrawn6"})((({theme:{colors:e}})=>({margin:"6px 0",display:"flex",flexDirection:"row",padding:"8px",borderRadius:"8px",cursor:"pointer",":hover":{background:e.BGView}})),"label:DivItemContainer;"),H=(0,O.default)("span",{target:"ejkrawn7"})((({theme:{direction:e}})=>(0,F.mp)({direction:e,marginStart:"8px"})),{whiteSpace:"nowrap"},"label:SpanText;"),V=(0,O.default)("div",{target:"ejkrawn8"})((({theme:{colors:e,direction:t}})=>[{width:"calc(100% - 16px)",height:"1px",position:"relative",background:e.LineSecondary2,transform:"scaleY(0.5)"},(0,F.mp)({direction:t,start:"8px"})]),"label:DivSplit;"),Y=()=>(0,r.useMemo)((()=>"undefined"!=typeof window&&(Boolean(navigator.standalone)||window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui)").matches)),[]);var X=o(74169);const K=(0,r.memo)((function({isInDynamicBottomRightExperiment:e}){const t=(0,L.s)(),{hideModal:o,showModal:n}=(0,D.g9)(),[{isExpand:a,isModalShow:s,isPwaInstallable:l},p]=(0,d.nO)((e=>({isExpand:e.isExpand,isModalShow:e.isModalShow,isPwaInstallable:e.isPwaInstallable})),T.bN),{isElectronApp:h}=(0,W.B)(),{isDesktopTestV1:g}=(0,R._j)(),m=!h&&g,x=(0,X.V5)(),b=(0,r.useCallback)((()=>{p.handleShowSnack(!1),p.setIsExpand(!0)}),[p]),v=(0,r.useCallback)((()=>{p.setIsExpand(!1),(0,u._S)(E.v1)||(0,u.AP)(E.v1,"1")}),[p]),_=(0,r.useCallback)((()=>{s||(n(),p.setIsModalShow(!0))}),[p,s,n]),y=(0,r.useCallback)((()=>{o(),p.setIsModalShow(!1)}),[p,o]),f=(0,r.useCallback)((()=>{l?b():_(),x.setShouldShow({shouldShow:!1})}),[b,_,l]),w=(0,r.useCallback)((()=>{_(),v(),p.handleClickDownload()}),[p,v,_]),C=(0,r.useCallback)((()=>{v(),p.handleInstallationClick()}),[p,v]),j=Y(),{search:A}=(0,c.useLocation)();if((0,r.useMemo)((()=>"twa"===(0,u.Hd)(E.O_)||"twa"===new URLSearchParams(A).get("source")),[A]))return null;if(!m)return(0,i.jsx)(z.u,{onClose:y,visible:s});const I=(0,P.w)(M);return(0,i.jsxs)($,{children:[(0,i.jsx)(I,{isExpand:a,onClick:f,etClick:{etName:"click_get_app_for_pc",etParams:{enter_method:"right_corner_button"}},children:t("get_app")}),(0,i.jsxs)(G,{isExpand:a,children:[(0,i.jsx)(N,{onClick:v,children:(0,i.jsx)(S.A,{width:20,height:20})}),(0,i.jsxs)(U,{children:[!e&&!j&&l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(q,{onClick:C,"data-e2e":"pwa-pc",children:[(0,i.jsx)(B,{width:"21",height:"21"}),(0,i.jsx)(H,{children:t("get_tt_desktop")})]}),(0,i.jsx)(V,{})]}),(0,i.jsxs)(q,{onClick:w,"data-e2e":"pwa-mobile",children:[(0,i.jsx)(k.A,{width:21,height:21}),(0,i.jsx)(H,{children:t("get_tt_app")})]})]})]}),(0,i.jsx)(z.u,{onClose:y,visible:s})]})})),Q=(0,g.Ay)({resolved:{},chunkName:()=>"survey",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>Promise.all([o.e(9443),o.e(3653)]).then(o.bind(o,52074)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>52074});var J=o(47832),Z=o(44445),ee=o(2584);const te=(0,O.default)("button",{target:"ejylfo50"})(F.WA,(({theme:{colors:e}})=>({cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"52px",background:e.Primary,boxShadow:`0 2px 8px ${e.ShadowSecondary}`,":hover":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), #FE2C55"},":active":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.12), rgba(0, 0, 0, 0.12)), #FE2C55"}})),"label:ButtonIconContainer;"),oe=(0,r.memo)((function(){const e=(0,L.s)(),t=(0,r.useCallback)((()=>{(0,u.a6)(),ee.O.handleToTop()}),[]);return(0,i.jsx)(te,{onClick:t,"aria-label":e("accessibilityLabels_forYou_scroll_btn"),children:(0,i.jsx)(Z.A,{width:"16",height:"16",fill:"#FFF"})})}));var ne=o(46682),ie=o(64162),re=o(4126),ae=o(93995),se=o(23999),le=o(87933),de=o(26324),ce=o(72916),pe=o(8536),ue=o(74690),he=o(80339),ge=o(76435),me=o(55322),xe=o(7672),be=o(55099);let ve=class{constructor(e){this.fetch=e}fetchProjectListInfo(e){return this.fetch.get("/api/v1/web/project/list/",{query:e,baseUrlType:2})}};ve=(0,n.__decorate)([(0,xe._)(),(0,n.__metadata)("design:paramtypes",[be.p])],ve);let _e=class extends ie.E{constructor(e){super(),this.service=e,this.defaultState={inProgress:!1,loading:!0,projectList:[],hideProjectIds:[]}}setLoading(e,t){e.loading=t}removeProjectByIndex(e,t){var o,n;const i=null===(o=null==e?void 0:e.projectList)||void 0===o?void 0:o[t];(null==i?void 0:i.projectID)&&(e.hideProjectIds.push(null==i?void 0:i.projectID),null===(n=e.projectList)||void 0===n||n.splice(t,1))}setProjectList(e,t){var o,n,i;e.projectList=null!==(n=null===(o=t.infos)||void 0===o?void 0:o.filter((t=>{const o=e.hideProjectIds.includes(t.projectID),n=t.taskInProgress>0,i=[4,99].includes(t.status);return!o&&n&&!i})))&&void 0!==n?n:[],e.inProgress=Boolean(null===(i=e.projectList)||void 0===i?void 0:i.length)}fetchProjectList(e){return e.pipe((0,ce.n)((()=>this.service.fetchProjectListInfo({}).pipe((0,pe.Z)((e=>(0,se.of)(this.getActions().setProjectList(e)))),(0,ue.Z)(this.getActions().setLoading(!0)),(0,he.q)(this.getActions().setLoading(!1)),(0,me.n)({})))))}refreshData(e){return e.pipe((()=>(0,le.O)(500,15e3).pipe((0,ce.n)((()=>(0,se.of)(this.getActions().fetchProjectList({})))),(0,ge.Q)(this.dispose$))))}};(0,n.__decorate)([(0,re.uk)(),(0,n.__metadata)("design:type",de.c)],_e.prototype,"dispose$",void 0),(0,n.__decorate)([(0,re.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],_e.prototype,"setLoading",null),(0,n.__decorate)([(0,re.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],_e.prototype,"removeProjectByIndex",null),(0,n.__decorate)([(0,re.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],_e.prototype,"setProjectList",null),(0,n.__decorate)([(0,re.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[de.c]),(0,n.__metadata)("design:returntype",void 0)],_e.prototype,"fetchProjectList",null),(0,n.__decorate)([(0,re.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[de.c]),(0,n.__metadata)("design:returntype",void 0)],_e.prototype,"refreshData",null),_e=(0,n.__decorate)([(0,ae.n)("uploadProgressModule"),(0,n.__metadata)("design:paramtypes",[ve])],_e);var ye=o(75771),fe=o.n(ye),we=o(5819),Ce=o(75431);const je=(0,O.default)("div",{target:"e10yvdyi0"})((({theme:e})=>({width:"404px",height:"87px",marginBottom:"12px",boxShadow:`0px 2px 12px ${e.colors.SDTertiary}`,borderRadius:"8px",backgroundColor:e.colors.BGPrimary,padding:"19px",position:"relative",cursor:"pointer",borderWidth:e.isDark?"1px":0,borderStyle:"solid",borderColor:e.colors.BGTertiary2})),"label:DivUploadProgressContainer;"),Se=(0,O.default)("div",{target:"e10yvdyi1"})({display:"flex",flexDirection:"row"},"label:DivRowContainer;"),ke=(0,O.default)("div",{target:"e10yvdyi2"})((({theme:{colors:e}})=>({position:"absolute",width:"32px",height:"48px",left:"22px",top:" 16px",background:e.TextQuaternary,borderRadius:"2px"})),"label:DivCoverShadowTop;"),Pe=(0,Ce.AH)({height:"52px",width:"38px",borderRadius:"2px",zIndex:"1"},"label:coverBaseStyle;"),Te=(0,O.default)("div",{target:"e10yvdyi3"})(Pe,(({isEmpty:e,theme:{colors:t}})=>({display:"flex",justifyContent:"center",alignItems:"center",background:e?t.BGPlaceholderOpaque:t.Primary2})),"label:DivProjectCover;"),Ae=(0,O.default)("img",{target:"e10yvdyi4"})({maxWidth:"100%",maxHeight:"100%"},"label:ImgProjectCover;"),Ie=(0,O.default)("div",{target:"e10yvdyi5"})({display:"flex",flexDirection:"column",justifyContent:"start",marginLeft:"16px"},"label:DivMidColumn;"),Be=(0,O.default)("p",{target:"e10yvdyi6"})((({theme:e,error:t})=>[(0,F.zy)({theme:e,fontFamily:"TikTokFont"}),{color:t?e.colors.Negative:e.colors.TextPrimary,textAlign:"left",fontWeight:"600",fontSize:"14px",marginTop:"6px",lineHeight:"22px"}]),"label:PUploadingProgressTitle;"),Le=(0,O.default)("div",{target:"e10yvdyi9"})((({theme:{colors:e}})=>({marginTop:"12px",height:"4px",width:"278px",backgroundColor:e.LineSecondary})),"label:DivProgressBarParent;"),Ee=(0,O.default)("div",{target:"e10yvdyi10"})((({progress:e,theme:{colors:t}})=>({height:"100%",width:e,backgroundColor:t.Primary})),"label:DivProgressBarChild;"),De=({index:e,projectInfo:t,handleCloseCard:o})=>{var n;const a=(0,L.s)(),s=(0,r.useCallback)((t=>{null==t||t.stopPropagation(),o(e)}),[e]),{taskFailed:l,lastPostProgress:d}=t,c=`${d}%`,p=null===(n=fe()(null==t?void 0:t.configs,{type:100}))||void 0===n?void 0:n.payload,u=!p,h=`data:image/jpeg;base64,${p}`,g=l>0;return(0,i.jsxs)(je,{children:[(0,i.jsx)(we.Mt,{onClick:s,children:(0,i.jsx)(S.A,{})}),(0,i.jsxs)(Se,{children:[(0,i.jsx)(ke,{}),(0,i.jsx)(Te,{isEmpty:u,children:!u&&(0,i.jsx)(Ae,{src:h})}),(0,i.jsxs)(Ie,{children:[(0,i.jsx)(Be,{error:g,children:g?a("Uploading Failed"):`${a("Uploading")}... ${c}`}),(0,i.jsx)(Le,{children:(0,i.jsx)(Ee,{progress:c})})]})]})]})},We=()=>{const[{projectList:e,inProgress:t,loading:o},n]=(0,ne.S)(_e,{selector:e=>({projectList:e.projectList,inProgress:e.inProgress,loading:e.loading}),dependencies:[]}),a=(0,r.useCallback)((e=>{n.removeProjectByIndex(e)}),[n]);return(0,r.useEffect)((()=>{n.refreshData()}),[n]),(0,r.useEffect)((()=>{t||o||n.dispose$()}),[t,o,n]),(0,i.jsx)(i.Fragment,{children:t&&(null==e?void 0:e.map(((e,t)=>(0,i.jsx)(De,{handleCloseCard:a,index:t,projectInfo:e},e.projectID))))})};var Re=o(61886),ze=o(12381);const Oe=(0,O.default)("button",{target:"erjlxt90"})(F.WA,(({theme:e})=>{const t=(0,F.t7)(e.direction,"end");return[(0,F.zy)({theme:e,typography:"P4",fontWeight:"bold",color:"TextSecondary",fontFamily:"TikTokFont"}),{position:"relative",right:0,bottom:0,padding:"0 8px",minWidth:"90px",display:"flex",flexDirection:"row",gap:"4px",alignItems:"center",height:"32px",boxShadow:`0 2px 8px ${e.colors.ShadowSecondary}`,borderRadius:"52px",cursor:"pointer",lineHeight:"30px",textAlign:"center",whiteSpace:"nowrap",borderWidth:"1px",borderStyle:"solid",borderColor:e.colors.LineSecondary2,backgroundColor:e.colors.BGSecondary,":hover":{borderColor:e.colors.LinePrimary,backgroundColor:e.colors.BGTertiary},":active":{borderColor:e.colors.LinePrimary,backgroundColor:e.colors.BGInput},transition:"transform 0.3s cubic-bezier(.4,.14,.3,1)",transformOrigin:`${t} bottom`,transform:"none"}]}),"label:ButtonGetCoins;");var Fe=o(73580),$e=o(89001),Me=o(12016),Ge=o(6585),Ne=o(26290);const Ue={request_page:"webapp",entrance_style:"widget",show_page:"web_homepage_widget"},qe=(0,r.memo)((function(){const e=(0,L.s)(),t=(0,Fe.Nj)(Re.y_),{hideTooltip:o,OneTimeTooltip:n}=(0,Me.w)(Ge.H.GetCoinsKey),a=(0,X.V5)();(0,r.useEffect)((()=>{t.handleLiveWebGetCoinShow(Ue)}),[t]);const s=(0,r.useCallback)((()=>{a.setShouldShow({shouldShow:!1}),t.handleLiveWebGetCoinClick(Ue),window.location.href=`/coin/${ze.X0.FOR_YOU}?enter_from=web_homepage_widget`}),[t]);return(0,i.jsx)($,{children:(0,i.jsx)(n,{content:(0,i.jsx)(Ne.F.P1,{weight:"medium",children:e("Web_leftNav_getCoins_toolTip")}),children:(0,i.jsxs)(Oe,{onClick:s,onMouseLeave:()=>o(),children:[(0,i.jsx)($e.Q,{size:14}),e("WebApp_coin_recharge_1")]})})})}));var He=o(16680),Ve=o(31942);const Ye=(0,O.default)("button",{target:"eqxfx640"})(F.WA,(({minWidth:e,theme:t,isAnimating:o})=>{const n=(0,F.t7)(t.direction,"end");return[(0,F.zy)({theme:t,typography:"P4",fontWeight:"bold",color:"TextSecondary",fontFamily:"TikTokFont"}),Object.assign({position:"relative",right:"rtl"===t.direction?"-14px":"14px",bottom:0,padding:"0 8px",minWidth:`${e}px`,display:"flex",flexDirection:"row",gap:"4px",alignItems:"center",justifyContent:"center",height:"36px",boxShadow:`0 2px 8px ${t.colors.ShadowSecondary}`,borderRadius:"52px",cursor:"pointer",lineHeight:"30px",textAlign:"center",whiteSpace:"nowrap",borderWidth:"1px",borderStyle:"solid",borderColor:t.colors.LineSecondary2,backgroundColor:t.colors.BGSecondary,":hover":{borderColor:t.colors.LinePrimary,backgroundColor:t.colors.BGTertiary},":active":{borderColor:t.colors.LinePrimary,backgroundColor:t.colors.BGInput},transition:"all 0.1s ease-in-out",transformOrigin:`${n} bottom`,transform:"none"},o&&{width:"36px",minWidth:"36px",height:"36px",borderRadius:"50%",padding:0,fontSize:0,backgroundColor:t.colors.BGSecondary,svg:{opacity:o?0:1,transform:o?"scale(0)":"scale(1)",transition:"opacity 0.1s ease, transform 0.1s ease"}})]}),"label:ButtonAtBottom;"),Xe=(0,O.default)(S.A,{target:"eqxfx641"})("label:StyledIcon;"),Ke=(0,O.default)("div",{target:"eqxfx642"})((({theme:e,isAnimating:t})=>[Object.assign({position:"relative",right:"rtl"===e.direction?"-14px":"14px",bottom:0,padding:"0 8px",borderRadius:"50%",borderWidth:"1px",borderStyle:"solid",borderColor:e.colors.LineSecondary2,boxShadow:`0 2px 8px ${e.colors.ShadowSecondary}`,":hover":{borderColor:e.colors.LinePrimary,backgroundColor:e.colors.BGTertiary},":active":{borderColor:e.colors.LinePrimary,backgroundColor:e.colors.BGInput},cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1,width:"36px",height:"36px",background:e.colors.BGSecondary,[`${Xe}`]:{width:"16px",height:"16px"},transition:"all 0.1s ease-in-out"},t&&{width:"102px",borderRadius:"52px"})]),"label:DivCloseWrapper;");var Qe=o(96689),Je=o(33805);const Ze=(0,r.memo)((({isDefaultExpanded:e})=>{var t;const o=(0,L.s)(),[n,a]=(0,He.MR)((e=>e),T.bN),[l,d]=(0,r.useState)(!1),[c,p]=(0,r.useState)(!1),u=(0,Je.oN)(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.pathname),h=(0,X.V5)(),g=(0,Qe.G)({modalConfig:{query:{enter_method:"qr_dynamic_popup"},popupType:"qr_bottom_right",loginPath:"/login/qrcode"}}),m=(0,r.useCallback)((()=>{p(!0),setTimeout((()=>{a.closeModal({enter_method:"click_x"}),a.setLoginModalShow(!1),p(!1)}),100)}),[]);(0,r.useEffect)((()=>{e&&"homepage_follow"!==u&&!n.loginModalShow&&(h.setShouldShow({shouldShow:!1}),g()),"homepage_follow"===u&&m()}),[]),(0,r.useEffect)((()=>{var e;e={enter_method:"bottom_right_button",page_name:u},s.f.sendEvent("qr_login_button_show",e)}),[]);const x=(0,r.useCallback)((()=>{var e;e={enter_method:"bottom_right_button",page_name:u},s.f.sendEvent("click_QR_login",e),d(!0),setTimeout((()=>{g(),d(!1)}),100),h.setShouldShow({shouldShow:!1})}),[]);return(0,i.jsxs)($,{children:[!n.loginModalShow&&(0,i.jsxs)(Ye,{id:"button-at-bottom-right",minWidth:102,isAnimating:l,onClick:x,role:"button",tabIndex:0,children:[(0,i.jsx)(Ve.z,{size:14}),o("desktopWeb_dynamicBottom_right_logIn")]}),n.loginModalShow&&(0,i.jsx)(Ke,{onClick:m,id:"close-button-at-bottom-right",isAnimating:c,role:"button",tabIndex:0,children:(0,i.jsx)(Xe,{})})]})}));var et=o(97320),tt=o(58542);const ot=(0,O.default)("div",{target:"efbmw0z0"})((({theme:e,popupLeft:t,popupTop:o})=>[{position:"fixed",left:`${t}px`,top:`${o}px`,width:"172px",padding:"16px",borderRadius:"12px",background:e.colors.BGSecondary,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"}]),"label:PromotionContainer;"),nt=(0,O.default)("div",{target:"efbmw0z1"})((({theme:{colors:e,isDark:t}})=>[{width:"32px",height:"32px",color:t?e.TextSecondary:e.ConstBGInverse,marginBottom:"16px"}]),"label:IconWrapper;"),it=(0,O.default)("div",{target:"efbmw0z2"})((({theme:e})=>{const t=(0,F.t7)(e.direction,"end");return[(0,F.zy)({theme:e,typography:"P3",fontWeight:"medium",color:"TextSecondary",fontFamily:"TikTokFont"}),{width:"150px",height:"48px",marginBottom:"24px",textAlign:"center",transformOrigin:`${t} bottom`,transform:"none"}]}),"label:PromotionText;"),rt=(0,O.default)("button",{target:"efbmw0z3"})((({theme:{colors:e,isDark:t}})=>[{width:"128px",height:"32px",backgroundColor:t?"#fff":e.ConstBGInverse,color:t?e.ConstBGInverse:e.BGPrimary,borderRadius:"8px",fontSize:"14px",fontWeight:"bold",border:"none",cursor:"pointer"}]),"label:InstallButton;");var at=o(89311);const st=(0,r.memo)((({isDefaultExpanded:e})=>{var t;const o=(0,d.ur)(),n=(0,Je.oN)(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.pathname),[a,l]=(0,r.useState)(e&&"homepage_follow"!==n),[c,p]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),g=(0,X.V5)(),{isRTL:m}=(0,at.m)(),x=(0,L.s)();let b;b=m?a?-20:-75:a?-155:-100;const v=a?-190:-188;(0,r.useEffect)((()=>{e&&g.setShouldShow({shouldShow:!1})}),[]),(0,r.useEffect)((()=>{var e;e={page_name:n},s.f.sendEvent("install_tt_button_show",e),"homepage_follow"===n&&l(!1)}),[]);const _=(0,r.useCallback)((()=>{o.handleInstallationClick()}),[o]);return(0,i.jsx)(tt.Xwo,{noArrow:!0,open:a&&!u,trigger:(0,i.jsxs)($,{children:[!a&&(0,i.jsxs)(Ye,{id:"pwa-button-at-bottom-right",minWidth:146,isAnimating:c,onClick:()=>{var e;e={page_name:n},s.f.sendEvent("install_tt_button_click",e),p(!0),setTimeout((()=>{l(!0),p(!1)}),100),g.setShouldShow({shouldShow:!1})},children:[(0,i.jsx)(et.a,{size:14}),x("desktopWeb_dynamicBottom_installTikTok")]}),a&&(0,i.jsx)(Ke,{id:"pwa-close-button-at-bottom-right",isAnimating:u,onClick:()=>{h(!0),setTimeout((()=>{l(!1),h(!1)}),20)},children:(0,i.jsx)(Xe,{})})]}),children:(0,i.jsxs)(ot,{popupLeft:b,popupTop:v,children:[(0,i.jsx)(nt,{children:(0,i.jsx)(et.a,{size:40})}),(0,i.jsx)(it,{children:x("desktopWeb_dynamicBottom_installTikTok_desc")}),(0,i.jsx)(rt,{onClick:_,children:x("desktopWeb_dynamicBottom_installTikTok_Cta")})]})})})),lt=(0,O.default)("div",{target:"ew8lpw50"})((({showTop:e,bottom:t=0})=>[{insetInlineEnd:"24px",position:"fixed",bottom:`${t}px`,zIndex:7,display:"flex",flexDirection:"column",alignItems:"flex-end",marginBottom:"8px",transform:e?"none":"translateY(40px)",transition:"all 400ms cubic-bezier(0.65, 0, 0.35, 1)"}]),"label:DivFixedBottomContainer;"),dt=(0,O.default)("div",{target:"ew8lpw51"})((({top:e=0,shouldShow:t=!1})=>[{insetInlineEnd:"24px",position:"fixed",top:`${e}px`,zIndex:7,display:t?"flex":"none",flexDirection:"column",alignItems:"flex-end",marginBottom:"8px",transition:"all 400ms cubic-bezier(0.65, 0, 0.35, 1)"}]),"label:DivFixedTopContainer;");var ct=o(27008);const pt=o.p+"f1c49ab5fa04e27c8c12.png",ut=o.p+"14263eb8081d859f559d.png",ht=(0,O.default)("div",{target:"ea9a47v0"})({},"label:DivTitleContainer;"),gt=(0,O.default)("div",{target:"ea9a47v1"})({overflow:"hidden"},"label:DivQRCodeContainer;"),mt=Ce.i7`
  0% {
    transform: translateX(300px);
    animation-timing-function: ease-in;
    opacity: 0;
  }
  50% {
    transform: translateX(10px);
    animation-timing-function: ease-out;
    opacity: 1;
  }
  72% {
    transform: translateX(-8px);
    animation-timing-function: ease-out;
  }
  100% {
    transform: translateX(0);
    animation-timing-function: ease-out;
  }
`,xt=(0,O.default)("div",{target:"ea9a47v2"})((({theme:e,shouldAnimate:t})=>({backgroundImage:`url(${ut})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center",width:"232px",height:"274px",paddingInline:"1.25rem",paddingBlock:"1rem",display:"flex",flexDirection:"column",gap:".625rem",boxSizing:"border-box",alignItems:"center",backgroundColor:tt.Tj4.UIShapeNeutral,borderRadius:"16px",border:e.isDark?`0.5px solid ${tt.Tj4.UIImageOverlayWhiteA40}`:"none",animation:t?`${mt} 0.9s cubic-bezier(0.215, 0.610, 0.355, 1.000) both`:"none"})),"label:DivApkDownloadContainer;"),bt=(0,O.default)("div",{target:"ea9a47v3"})((({theme:e})=>[{display:"flex",cursor:"pointer",position:"absolute",top:"-.5rem",borderRadius:"50%",overflow:"hidden",height:"1.5rem",width:"1.5rem",backgroundColor:tt.Tj4.UIShapeNeutral,border:`0.5px solid ${tt.Tj4.UIImageOverlayWhiteA40}`,alignItems:"center",justifyContent:"center"},"rtl"===e.direction?{left:"-.5rem"}:{right:"-.5rem"}]),"label:DivCloseButtonContainer;"),vt=(0,r.memo)((function({onClose:e}){return(0,i.jsx)(bt,{onClick:e,children:(0,i.jsx)(tt.m8I,{color:"UIShapeText1OnNeutral",size:"1rem"})})})),_t=(0,r.memo)((function({link:e,scanText:t,ecLevel:o,shouldShowCloseButton:n=!1,shouldAnimate:a=!0}){const[s,l]=(0,r.useState)(!1),d=null!=t?t:"Scan QR code to download TikTok - Make Your Day";return s?null:(0,i.jsxs)(xt,{"data-tux-color-scheme":"light",shouldAnimate:a,children:[n&&(0,i.jsx)(vt,{onClose:()=>l(!0)}),(0,i.jsx)(tt.rxD,{direction:"column",gap:4,children:(0,i.jsx)(ht,{children:(0,i.jsx)(Ne.F.P1,{weight:"medium",color:"UIShapeText1OnNeutral",children:d})})}),(0,i.jsx)(gt,{children:(0,i.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",children:(0,i.jsx)(ct.QRCode,{value:e,size:156,logoImage:pt,logoWidth:38,removeQrCodeBehindLogo:!0,quietZone:18,logoPadding:5,eyeRadius:8,qrStyle:"dots",style:{borderRadius:"8px"},ecLevel:null!=o?o:"Q"})})})]})}));_t.defaultProps=Object.assign(Object.assign({},_t.defaultProps),{"data-e2e":"apk-download"});var yt=o(67963),ft=o(98819);const wt=(0,O.default)("div",{target:"e4x3x650"})({width:"2rem",height:"2rem",justifyContent:"center",alignItems:"center",display:"flex",position:"relative"},"label:DivAvatarContainer;"),Ct=(0,O.default)("img",{target:"e4x3x651"})({width:"32px",height:"32px",padding:"4px",borderRadius:"50%"},"label:ImgAvatar;"),jt=(0,O.default)("div",{target:"e4x3x652"})((()=>[{display:"flex",position:"relative",marginBottom:"12px"},(0,F.jJ)({max:ft.f.Small,style:{display:"none"}})]),"label:DivTopRightContainer;"),St=(0,O.default)("div",{target:"e4x3x653"})((({isConnectedActionBar:e,theme:t})=>{const o=t.isDark?"#2C2C2CCC":"#FFFFFFCC";return[{display:"inline-flex",height:"48px",padding:"8px",justifyContent:"center",alignItems:"center",gap:e?"0px":"8px",borderRadius:"99px",background:e?o:"transparent",boxShadow:e?"0px 2px 10px 0px rgba(0, 0, 0, 0.07)":"none"}]}),"label:DivActionBarContainer;"),kt=(0,O.default)(yt.N_,{target:"e4x3x654"})({textDecoration:"none",color:"inherit","&:hover":{textDecoration:"none"}},"label:StyledLink;"),Pt=(0,O.default)(tt.I05,{target:"e4x3x655"})({width:"110px",height:"40px"},"label:StyledPrimaryLoginButton;"),Tt=(0,O.default)("div",{target:"e4x3x656"})((({theme:e})=>({height:"20px",width:"1px",margin:"0 8px",backgroundColor:e.isDark?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.12)",alignSelf:"center"})),"label:DivVerticalDivider;");var At=o(67842),It=o(30488),Bt=o(38812),Lt=o(41183),Et=o(82535),Dt=o(52401);const Wt=(0,O.default)("div",{target:"e1y74j840"})((({isConnectedActionBar:e})=>({display:"flex",position:"relative",marginBottom:"8px",marginTop:"8px","& > *:not(:last-child)":{marginRight:e?"0px":"8px"}})),"label:DivActionBarContainer;"),Rt=(0,O.default)("span",{target:"e1y74j841"})({maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"label:StyledSpan;"),zt=(0,O.default)("div",{target:"e1y74j842"})({display:"flex",justifyContent:"center",alignItems:"center",minWidth:"14px",width:"14px",height:"14px",flexShrink:0},"label:StyledIconWrapper;"),Ot=(0,O.default)("button",{target:"e1y74j843"})(F.WA,(({theme:e,isConnectedActionBar:t})=>{const o=(0,F.t7)(e.direction,"end");return[(0,F.zy)({theme:e,typography:"P4",fontWeight:"bold",fontFamily:"TikTokFont"}),{color:tt.Tj4.UIText1Display,position:"relative",justifyContent:"center",right:0,bottom:0,gap:"4px",padding:"0 8px",minWidth:"32px",display:"flex",flexDirection:"row",alignItems:"center",height:"32px",borderRadius:"52px",cursor:"pointer",lineHeight:"30px",textAlign:"center",maxWidth:"120px",backgroundColor:t?"transparent":e.isDark?"rgba(22, 22, 22, 0.92)":"rgba(246, 246, 246, 0.82)",":hover":{backgroundColor:tt.Tj4.UIShapeNeutral4},":active":{borderColor:e.colors.LinePrimary,backgroundColor:e.colors.BGInput},transition:"transform 0.3s cubic-bezier(.4,.14,.3,1)",transformOrigin:`${o} bottom`,transform:"none"}]}),"label:StyledActionBarButton;"),Ft=(0,O.default)("div",{target:"e1ffq0xq0"})((({bottom:e=0,right:t})=>[{insetInlineEnd:`${t}px`,position:"fixed",bottom:`${e}px`,zIndex:7,display:"flex",flexDirection:"column",alignItems:"flex-end",marginBottom:"8px"}]),"label:DivAPKContainer;");var $t=o(42230);const Mt=(0,r.memo)((({isConnectedActionBar:e,isButtonGroupWithText:t})=>{const[o,a]=(0,r.useState)(!1),s=(0,L.s)(),[l,d]=(0,r.useState)(!1),c=(0,n.__rest)((0,b.gg)(),[]),p=(0,r.useCallback)((()=>{a(!1),$t.R.handleClickGetApp({enter_method:"right_corner_button"}),window.location.href="/download"}),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Wt,{children:(0,i.jsx)(tt.N0Y,{visible:o,variant:"secondary",content:(0,i.jsx)(Ne.F.P1,{weight:"medium",children:s("webapp_topnav_getapp",{},"Get App")}),children:(0,i.jsxs)(Ot,{isConnectedActionBar:e,onClick:p,onMouseEnter:()=>{t||a(!0)},onMouseLeave:()=>a(!1),children:[(0,i.jsx)(zt,{children:(0,i.jsx)(tt.CWs,{size:"14"})}),t?(0,i.jsx)(Rt,{children:s("webapp_topnav_getapp",{},"Get App")}):""]})})}),l&&(0,i.jsx)(Ft,{bottom:window.innerHeight-380,right:24,children:(0,i.jsx)(_t,Object.assign({},c,{shouldShowCloseButton:!0,shouldAnimate:!1}))})]})})),Gt={request_page:"webapp",entrance_style:"widget",show_page:"web_homepage_widget"},Nt=(0,r.memo)((({isConnectedActionBar:e,isButtonGroupWithText:t})=>{const o=(0,L.s)(),n=(0,Fe.Nj)(Re.y_),[a,s]=(0,r.useState)(!1);(0,r.useEffect)((()=>{n.handleLiveWebGetCoinShow(Gt)}),[n]);const l=(0,r.useCallback)((()=>{n.handleLiveWebGetCoinClick(Gt),window.location.href=`/coin/${ze.X0.FOR_YOU}?enter_from=web_homepage_widget`}),[n]);return(0,i.jsx)(Wt,{children:(0,i.jsx)(tt.N0Y,{visible:a,variant:"secondary",content:(0,i.jsx)(Ne.F.P1,{weight:"medium",children:o("WebApp_coin_recharge_1")}),children:(0,i.jsxs)(Ot,{isConnectedActionBar:e,onClick:l,onMouseEnter:()=>{t||s(!0)},onMouseLeave:()=>s(!1),children:[(0,i.jsx)(zt,{children:(0,i.jsx)(tt.Qoe,{size:"14"})}),t?(0,i.jsx)(Rt,{children:o("WebApp_coin_recharge_1")}):""]})})})})),Ut=(0,r.memo)((({isConnectedActionBar:e,isButtonGroupWithText:t})=>{const o=(0,d.ur)(),[n,a]=(0,r.useState)(!1),s=(0,L.s)(),l=(0,r.useCallback)((()=>{o.handleInstallationClick()}),[o]);return(0,i.jsx)(Wt,{children:(0,i.jsx)(tt.N0Y,{visible:n,variant:"secondary",content:(0,i.jsx)(Ne.F.P1,{weight:"medium",children:s("webapp_topnav_pcapp",{},"PC App")}),children:(0,i.jsxs)(Ot,{isConnectedActionBar:e,onClick:l,onMouseEnter:()=>{t||a(!0)},onMouseLeave:()=>a(!1),children:[(0,i.jsx)(zt,{children:(0,i.jsx)(tt.rGY,{size:"18"})}),t?(0,i.jsx)(Rt,{children:s("webapp_topnav_pcapp",{},"PC App")}):""]})})})})),qt=(0,O.default)("div",{target:"ezv6c410"})((()=>[{display:"flex",position:"relative",marginBottom:"8px",marginTop:"8px"},(0,F.jJ)({max:ft.f.Small,style:{display:"none"}})]),"label:LoginButtonContainer;"),Ht=(0,r.memo)((()=>{const e=(0,L.s)(),t=(0,He.b1)(),o=(0,He.mZ)((e=>e.loginModalShow),T.bN),n=(0,He.mZ)((e=>e.popupType),T.bN),a=(0,r.useCallback)(((e=!1)=>()=>{"qr_bottom_right"===n&&o&&(t.closeModal({enter_method:"click_x"}),t.setLoginModalShow(!1)),setTimeout((()=>{const o=(0,Bt.Y)()||(0,Bt.CW)();t.openModal({closeable:!0,isSignup:e,query:{enter_method:"top_navigation",redirect_url:(0,Je.Q2)(),last_group_id:o}})}),50)}),[t,o,n]);return(0,i.jsx)(qt,{children:(0,i.jsx)(Pt,{id:"top-right-action-bar-login-button",label:e("log_in"),onClick:a(!1),shape:"capsule",size:"small",style:{width:"76px",minWidth:"76px",paddingLeft:"0px",paddingRight:"0px",height:"32px",transition:"all 0.2s ease-in-out"}})})})),Vt=(0,O.default)("div",{target:"eym2ls50"})({width:"2rem",height:"2rem",justifyContent:"center",alignItems:"center",display:"flex",position:"relative"},"label:DivAvatarContainer;"),Yt=(0,O.default)("img",{target:"eym2ls51"})({width:"30px",height:"30px",padding:"4px",borderRadius:"50%"},"label:ImgAvatar;"),Xt=(0,O.default)("div",{target:"eym2ls52"})((({isConnectedActionBar:e,theme:t})=>{const o=t.isDark?"#2C2C2CCC":"#FFFFFFCC";return[{display:"inline-flex",height:"48px",padding:"8px 8px 8px 0",justifyContent:"center",alignItems:"center",gap:e?"0px":"8px",borderRadius:"99px",background:e?o:"transparent",boxShadow:e?"0px 2px 10px 0px rgba(0, 0, 0, 0.07)":"none"}]}),"label:DivProfileContainer;"),Kt=(0,r.memo)((({sessionUser:e})=>{const t=(0,L.s)(),{avatarUri:[o]=[],uniqueId:n}=null!=e?e:{},[a,s]=(0,r.useState)(!1),{handleClickLogout:l}=(0,At.W)(e),d=(0,Je.oN)(window.location.pathname),c=(0,r.useCallback)((()=>(0,i.jsx)(Vt,{style:{fontSize:"32px"},children:(0,i.jsx)(Yt,{src:o,style:{padding:"3px"}})})),[o]),p=(0,r.useMemo)((()=>(0,i.jsx)(tt.I05,{role:"button",shape:"capsule",label:"",onClick:()=>{Lt.c.handleProfileDropdownClick({page_name:d})},variant:"secondary",leadingIcon:c(),tabIndex:0,style:{minWidth:"32px",height:"32px",paddingLeft:"0px",paddingRight:"0px"}})),[d,c]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Xt,{children:(0,i.jsxs)(tt.nb1,{trigger:p,open:a,onOpenChange:s,placement:"bottom-end",children:[(0,i.jsx)(tt.KhS,{onClick:()=>Et.q.handleEnterProfile({page_name:d,enter_method:"top_navigation"}),as:kt,to:`/@${n}`,leadingIcon:(0,i.jsx)(tt.Y4q,{size:"20"}),children:t("webapp_tootip_Viewprofile",{},"View profile")}),(0,i.jsx)(tt.KhS,{onClick:()=>{l()(),Dt.z.logoutSubmit({page_name:d,enter_method:"top_navigation"})},leadingIcon:(0,i.jsx)(tt.WI2,{size:"20"}),children:t("projectU_link_logout_button",{},"log_out")})]})}),(0,i.jsx)(It.l,{})]})})),Qt=(0,r.memo)((({sessionUser:e})=>{const t=(0,L.s)(),{avatarUri:[o]=[],uniqueId:n}=null!=e?e:{},[a,s]=(0,r.useState)(!1),{handleClickLogout:l}=(0,At.W)(e),d=(0,Je.oN)(window.location.pathname),c=(0,r.useCallback)((()=>(0,i.jsx)(wt,{style:{fontSize:"32px"},children:(0,i.jsx)(Ct,{src:o,style:{padding:"3px"}})})),[o]),p=(0,r.useMemo)((()=>(0,i.jsx)(tt.I05,{role:"button",shape:"capsule",label:"",onClick:()=>{Lt.c.handleProfileDropdownClick({page_name:d})},variant:"secondary",leadingIcon:c(),trailingIcon:(0,i.jsx)(tt.JPW,{}),tabIndex:0,style:{minWidth:"80px",paddingLeft:"0px",paddingRight:"0px"}})),[d,c]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(jt,{children:(0,i.jsxs)(tt.nb1,{trigger:p,open:a,onOpenChange:s,placement:"bottom-end",children:[(0,i.jsx)(tt.KhS,{onClick:()=>Et.q.handleEnterProfile({page_name:d,enter_method:"top_navigation"}),as:kt,to:`/@${n}`,children:t("webapp_tootip_Viewprofile",{},"View profile")}),(0,i.jsx)(tt.KhS,{onClick:()=>{l()(),Dt.z.logoutSubmit({page_name:d,enter_method:"top_navigation"})},children:t("projectU_link_logout_button",{},"log_out")})]})}),(0,i.jsx)(It.l,{})]})})),Jt=(0,r.memo)((()=>{const e=(0,L.s)(),t=(0,He.b1)(),o=(0,r.useCallback)(((e=!1)=>()=>{const o=(0,Bt.Y)()||(0,Bt.CW)();t.openModal({closeable:!0,isSignup:e,query:{enter_method:"top_navigation",redirect_url:(0,Je.Q2)(),last_group_id:o}})}),[t]);return(0,i.jsx)(jt,{children:(0,i.jsx)(Pt,{id:"top-right-login-button",label:e("log_in"),onClick:o(!1),shape:"capsule",style:{minWidth:"80px",paddingLeft:"0px",paddingRight:"0px"}})})})),Zt=(0,r.memo)((({user:e,isPwaInstallable:t,isInPWA:o,isConnectedActionBar:n,isButtonGroupWithText:a})=>{const[s,l]=(0,r.useState)(a);return(0,r.useEffect)((()=>{const e=()=>{l(window.innerWidth>=1200&&a)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[a]),(0,i.jsx)(jt,{children:(0,i.jsxs)(St,{id:"top-right-action-bar",isConnectedActionBar:n,children:[(0,i.jsx)(Nt,{isConnectedActionBar:n,isButtonGroupWithText:s}),(0,i.jsx)(Mt,{isConnectedActionBar:n,isButtonGroupWithText:s}),t&&!o&&(0,i.jsx)(Ut,{isConnectedActionBar:n,isButtonGroupWithText:s}),n&&(0,i.jsx)(Tt,{}),e?(0,i.jsx)(Kt,{sessionUser:e}):(0,i.jsx)(Ht,{})]})})})),eo=(0,r.memo)((({bottom:e,shouldShowCloseButton:t})=>{const[o,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),p=(0,n.__rest)((0,b.gg)(),[]),u=(0,X.V5)(),h=(0,L.s)();return(0,i.jsx)(tt.Xwo,{noArrow:!0,open:o&&!d,trigger:(0,i.jsxs)($,{children:[!o&&(0,i.jsx)(Ye,{id:"apk-button-at-bottom-right",minWidth:90,isAnimating:s,onClick:()=>{l(!0),setTimeout((()=>{a(!0),l(!1)}),100),u.setShouldShow({shouldShow:!1}),$t.R.handleClickGetApp({enter_method:"right_corner_button"})},children:h("get_app")}),o&&(0,i.jsx)(Ke,{id:"apk-close-button-at-bottom-right",isAnimating:d,onClick:()=>{c(!0),setTimeout((()=>{a(!1),c(!1)}),20)},children:(0,i.jsx)(Xe,{})})]}),children:(0,i.jsx)(Ft,{bottom:e,right:o?0:-27,children:(0,i.jsx)(_t,Object.assign({},p,{shouldShowCloseButton:t,shouldAnimate:!1}))})})})),to=(0,r.memo)((function({pageType:e}){const{isInProductHoldout:t}=(0,b.Vv)(),o=(0,x.E)(),{isJustWatchedEnabled:g}=(0,b.Kg)(),{vid:S}=(0,b.Oj)(),{removeShortcutPop:k}=(0,b.gR)(),P=(0,b.gg)(),{shouldShowApkDownload:A}=P,I=(0,n.__rest)(P,["shouldShowApkDownload"]),{isInDynamicBottomRightExperiment:B,isInDynamicBottomRightControl:L,isInDynamicBottomRightExpanded:E}=(0,b._o)(),{isInKeyboardShortcutTreatment:D}=(0,b.fy)(),{isInTopRightButtonGroupTreatment:W,isConnectedActionBar:R,isButtonGroupWithText:z}=(0,b.eZ)(),{user:O}=(0,v.L$)((0,f.W)((()=>["user"]),[])),{isMobile:F}=(0,v.L$)((0,y.U)((()=>["isMobile"]),[])),{isCookieBannerShowing:$}=(0,a.P)(j.b),M=(0,C.si)(),{isCommentPanelActive:G}=(0,l.Cx)((e=>({isCommentPanelActive:e.isActive})),T.bN),[{isPwaInstallable:N}]=(0,d.nO)((e=>({isPwaInstallable:e.isPwaInstallable})),T.bN),[U,q]=(0,r.useState)(!1),[H,V]=(0,r.useState)(!1),[X,Z]=(0,r.useState)(0),[ee,te]=(0,r.useState)(!1),[ne,ie]=(0,r.useState)(!1),re=Y(),{shouldShowSurvey:ae}=(0,J.uU)(),{pathname:se}=(0,c.useLocation)(),le=(0,p._g)((()=>q(0!==(0,u.hY)())),[],200),de=!H&&(5!==e||D)&&![C.RD.SurveyEntrance,C.RD.LiveSurvey].includes(M.currentType)&&!k,ce=g&&(0,h.cj)(se),{isInTopRightButtonTreatment:pe,isInTopRightButtonProfile:ue}=(0,b.ng)();(0,r.useEffect)((()=>{s.f.getVarWithCb("tiktok_web",null,(e=>{1===(null==e?void 0:e.can_split_videos)&&te(!0)}))}),[]),(0,r.useEffect)((()=>{"v0"!==S&&(0,w.z)().then((({show_external_entry:e=!1})=>{ie(e)}))}),[S]),(0,r.useEffect)((()=>{var e;if(!$)return void Z(0);const t=document.querySelector("div[class*=DivCookieBannerContainer]"),o=null!==(e=null==t?void 0:t.offsetHeight)&&void 0!==e?e:0;Z(o)}),[$]),(0,r.useEffect)((()=>(window.addEventListener("scroll",le),()=>{window.removeEventListener("scroll",le)})),[le]);const he=(0,r.useCallback)((()=>{V(!0)}),[]),ge=(0,r.useCallback)((()=>{te(!1)}),[]),me=(0,r.useCallback)((()=>B&&!L?O?ne?(0,i.jsx)(qe,{}):!re&&N?(0,i.jsx)(st,{isDefaultExpanded:E}):(0,i.jsx)(eo,{bottom:X,isCommentPanelActive:G,shouldShowCloseButton:!1}):(0,i.jsx)(Ze,{isDefaultExpanded:E}):ne?(0,i.jsx)(qe,{}):(0,i.jsx)(K,{isInDynamicBottomRightExperiment:B})),[B,L,O,ne,re,N,X,G,E]),xe=(0,r.useCallback)((()=>O?ue?(0,i.jsx)(Qt,{sessionUser:O}):void 0:(0,i.jsx)(Jt,{})),[ue,O]),be=(0,r.useCallback)((()=>(0,i.jsx)(Zt,{user:O,showCoinsButton:ne,isPwaInstallable:N,isInPWA:re,isInDynamicBottomRightExpanded:E,isCommentPanelActive:G,bottom:X,isConnectedActionBar:R,isButtonGroupWithText:z})),[O,ne,N,re,E,G,X,R,z]);return G?null:A?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(dt,{top:30,shouldShow:pe&&!F,children:xe()}),(0,i.jsx)(dt,{top:30,shouldShow:W&&!pe,children:be()}),(0,i.jsx)(lt,{showTop:!t||U,bottom:X,children:(0,i.jsx)(_t,Object.assign({},I))})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(dt,{top:30,shouldShow:pe&&!F,children:xe()}),(0,i.jsx)(dt,{top:30,shouldShow:W&&!pe,children:be()}),(0,i.jsxs)(lt,{showTop:!t||U,bottom:X,children:[de&&(0,i.jsx)(_.S,{onClose:he}),O&&!F&&ee&&(0,i.jsx)(We,{handleCloseWindow:ge}),ae&&(0,i.jsx)(Q,{}),o&&(0,i.jsx)(m,{}),ce||W?null:me(),t&&!ce?(0,i.jsx)(oe,{}):null]})]})}))},16229:(e,t,o)=>{o.d(t,{b:()=>l});var n=o(58632),i=o(64162),r=o(4126),a=o(93995),s=o(26324);let l=class extends i.E{constructor(){super(),this.defaultState={isCookieBannerShowing:!1}}setCookieBannerShowing(e,t){e.isCookieBannerShowing=t}};(0,n.__decorate)([(0,r.uk)(),(0,n.__metadata)("design:type",s.c)],l.prototype,"dispose$",void 0),(0,n.__decorate)([(0,r.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],l.prototype,"setCookieBannerShowing",null),l=(0,n.__decorate)([(0,a.n)("FixBottomModule"),(0,n.__metadata)("design:paramtypes",[])],l)},67842:(e,t,o)=>{o.d(t,{W:()=>l});var n=o(88920),i=o(8615),r=o(52401),a=o(28237),s=o(40099);const l=e=>{const{setShowModal:t,setModalType:o}=(0,a.OW)(),l=(0,n.ZO)()&&(null==e?void 0:e.suggestAccountBind),d=(0,s.useCallback)((()=>{o(1),t(!0),i._.handleLinkPhoneOrEmailPopupShow({enterMethod:"logout"})}),[o,t]),c=(0,s.useCallback)((()=>{t(!0),r.z.logoutNotify()}),[t]);return{handleClickLogout:(0,s.useCallback)((()=>l?d:c),[c,d,l])}}},30488:(e,t,o)=>{o.d(t,{l:()=>C});var n=o(24643),i=o(42832),r=o(28237),a=o(40099),s=o(21482),l=o(75792),d=o(82715),c=o(52401),p=o(47172),u=o(99789),h=o.n(u),g=o(4474),m=o(25616),x=o(48615),b=o(58305),v=o(96689),_=o(33805),y=o(22884),f=o(30615),w=o(95481);const C=(0,a.memo)((function(){const e=(0,m.s)(),{pathname:t,search:o}=(0,p.useLocation)(),u=(0,x.U)((()=>["searchVideoForLoggedin"]),[]),[{showModal:C,modalType:j},{setShowModal:S,setModalType:k}]=(0,r.HV)((e=>({showModal:e.showModal,modalType:e.modalType}))),P={loginPath:l.tH.linkPhoneOrEmail,isLinkPhoneOrEmail:!0},T=(0,v.K)(P,void 0,!0),A=(0,a.useCallback)((()=>{try{S(!1),T()}catch(e){}}),[S,T]),I=(0,a.useCallback)((()=>{k(2),c.z.logoutNotify({enter_method:"link_phone_number"})}),[k]),B=(0,a.useCallback)((()=>{S(!1),c.z.logoutCancel(2===j||1===j?{enter_method:"link_phone_number"}:{})}),[S,j]),L=(null==u?void 0:u.searchVideoForLoggedin)&&[d.$T.searchHome(),d.$T.searchVideo()].includes(t)||[d.$T.messages(),d.$T.upload()].includes(t),E=(0,g.stringify)(h()((0,g.parse)(o),"q","t","showLogin","loginType")),D=E?`?${E}`:"",W=`https://www.tiktok.com${d.$T.foryou()}${D}`,R=(0,a.useCallback)((()=>"undefined"==typeof window?"":`${(0,_.AF)()}${D}`),[D]),z=(0,a.useCallback)((()=>{(0,b._S)(y.pF)&&(0,b.sc)(y.pF),(0,b._S)(y.Jq)&&(0,b.sc)(y.Jq),(0,f.iM)(L?W:R(),2===j||1===j?{enter_method:"link_phone_number"}:{})}),[W,R,L,j]);return(0,n.jsx)(w.aF,{visible:C,onClose:()=>S(!1),maskCloseable:!0,cancelMouseLeaveBubble:!0,children:1===j?(0,n.jsxs)(s.h0,{children:[(0,n.jsx)(i.F,{size:40}),(0,n.jsx)(s.nm,{children:e("login_fb_noLonger_LogInEase")}),(0,n.jsx)(s.aX,{children:e("login_fb_noLonger_LinkPhoneNumberReminder")}),(0,n.jsx)(s.iZ,{size:"small",onClick:A,children:e("login_fb_noLonger_LinkPhone")}),(0,n.jsx)(s.iZ,{size:"small",onClick:I,children:(0,n.jsxs)("span",{style:{color:"rgba(255, 76, 58, 1)"},children:[" ",e("log_out")," "]})})]}):(0,n.jsxs)(s.RA,{children:[(0,n.jsx)(s.C6,{children:e("Log_out_sheet_2")}),2===j&&(0,n.jsx)(s.rI,{children:e("login_fb_confirmLogOut_body")}),(0,n.jsxs)(s.rs,{children:[(0,n.jsx)(s.AR,{size:"small",onClick:B,children:e(2===j?"login_fb_confirmLogOut_stay_cta":"Cancel")}),(0,n.jsx)(s.AR,{size:"small",buttonTheme:"line",onClick:z,children:e("log_out")})]})]})})}))},92843:(e,t,o)=>{o.d(t,{z:()=>s});var n=o(58632),i=o(12381),r=o(26325),a=o(56070);const s=({timeout:e,isEnhanceUSGetCoinsEntranceExperiment:t=!1}={})=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){const o=e=>(console.error(e),{show_external_entry:!1});try{const n=`${(0,r.$_)(4)}${i.$z.RECHARGE_CHECK_EXTERNAL_ENTRY}`,s={page_source:0,is_experiment_group:t},l=a.h.post(n,{query:s}),d=e?new Promise(((t,o)=>setTimeout((()=>o(new Error("Timeout Error"))),e))):null,{data:c,status_code:p}=yield d?Promise.race([l,d]):l;return!c||p?o(`Check external entry api failed with status_code=${p}`):c}catch(e){return o(`Check show get coins entrance failed ${e}`)}}))},12381:(e,t,o)=>{o.d(t,{$z:()=>n,X0:()=>i});const n={RECHARGE_CHECK_EXTERNAL_ENTRY:"/webcast/wallet_api_tiktok/recharge/check_external_entry"},i={FOR_YOU:"rLJKRPE"}}}]);